var Wx=Object.defineProperty;var $x=(n,t,e)=>t in n?Wx(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var ut=(n,t,e)=>$x(n,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function e(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=e(a);fetch(a.href,o)}})();function PE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Cg={exports:{}},zl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X0;function Zx(){if(X0)return zl;X0=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,a,o){var u=null;if(o!==void 0&&(u=""+o),a.key!==void 0&&(u=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:n,type:i,key:u,ref:a!==void 0?a:null,props:o}}return zl.Fragment=t,zl.jsx=e,zl.jsxs=e,zl}var K0;function Jx(){return K0||(K0=1,Cg.exports=Zx()),Cg.exports}var bt=Jx(),Og={exports:{}},Mt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W0;function t1(){if(W0)return Mt;W0=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function b(P){return P===null||typeof P!="object"?null:(P=_&&P[_]||P["@@iterator"],typeof P=="function"?P:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,D={};function M(P,it,lt){this.props=P,this.context=it,this.refs=D,this.updater=lt||S}M.prototype.isReactComponent={},M.prototype.setState=function(P,it){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,it,"setState")},M.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function z(){}z.prototype=M.prototype;function H(P,it,lt){this.props=P,this.context=it,this.refs=D,this.updater=lt||S}var K=H.prototype=new z;K.constructor=H,x(K,M.prototype),K.isPureReactComponent=!0;var $=Array.isArray,G={H:null,A:null,T:null,S:null,V:null},nt=Object.prototype.hasOwnProperty;function O(P,it,lt,rt,dt,wt){return lt=wt.ref,{$$typeof:n,type:P,key:it,ref:lt!==void 0?lt:null,props:wt}}function w(P,it){return O(P.type,it,void 0,void 0,void 0,P.props)}function C(P){return typeof P=="object"&&P!==null&&P.$$typeof===n}function N(P){var it={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(lt){return it[lt]})}var k=/\/+/g;function L(P,it){return typeof P=="object"&&P!==null&&P.key!=null?N(""+P.key):it.toString(36)}function I(){}function qt(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(I,I):(P.status="pending",P.then(function(it){P.status==="pending"&&(P.status="fulfilled",P.value=it)},function(it){P.status==="pending"&&(P.status="rejected",P.reason=it)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function _t(P,it,lt,rt,dt){var wt=typeof P;(wt==="undefined"||wt==="boolean")&&(P=null);var pt=!1;if(P===null)pt=!0;else switch(wt){case"bigint":case"string":case"number":pt=!0;break;case"object":switch(P.$$typeof){case n:case t:pt=!0;break;case y:return pt=P._init,_t(pt(P._payload),it,lt,rt,dt)}}if(pt)return dt=dt(P),pt=rt===""?"."+L(P,0):rt,$(dt)?(lt="",pt!=null&&(lt=pt.replace(k,"$&/")+"/"),_t(dt,it,lt,"",function(si){return si})):dt!=null&&(C(dt)&&(dt=w(dt,lt+(dt.key==null||P&&P.key===dt.key?"":(""+dt.key).replace(k,"$&/")+"/")+pt)),it.push(dt)),1;pt=0;var ze=rt===""?".":rt+":";if($(P))for(var ie=0;ie<P.length;ie++)rt=P[ie],wt=ze+L(rt,ie),pt+=_t(rt,it,lt,wt,dt);else if(ie=b(P),typeof ie=="function")for(P=ie.call(P),ie=0;!(rt=P.next()).done;)rt=rt.value,wt=ze+L(rt,ie++),pt+=_t(rt,it,lt,wt,dt);else if(wt==="object"){if(typeof P.then=="function")return _t(qt(P),it,lt,rt,dt);throw it=String(P),Error("Objects are not valid as a React child (found: "+(it==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":it)+"). If you meant to render a collection of children, use an array instead.")}return pt}function X(P,it,lt){if(P==null)return P;var rt=[],dt=0;return _t(P,rt,"","",function(wt){return it.call(lt,wt,dt++)}),rt}function st(P){if(P._status===-1){var it=P._result;it=it(),it.then(function(lt){(P._status===0||P._status===-1)&&(P._status=1,P._result=lt)},function(lt){(P._status===0||P._status===-1)&&(P._status=2,P._result=lt)}),P._status===-1&&(P._status=0,P._result=it)}if(P._status===1)return P._result.default;throw P._result}var ht=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var it=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(it))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function St(){}return Mt.Children={map:X,forEach:function(P,it,lt){X(P,function(){it.apply(this,arguments)},lt)},count:function(P){var it=0;return X(P,function(){it++}),it},toArray:function(P){return X(P,function(it){return it})||[]},only:function(P){if(!C(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Mt.Component=M,Mt.Fragment=e,Mt.Profiler=a,Mt.PureComponent=H,Mt.StrictMode=i,Mt.Suspense=f,Mt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,Mt.__COMPILER_RUNTIME={__proto__:null,c:function(P){return G.H.useMemoCache(P)}},Mt.cache=function(P){return function(){return P.apply(null,arguments)}},Mt.cloneElement=function(P,it,lt){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var rt=x({},P.props),dt=P.key,wt=void 0;if(it!=null)for(pt in it.ref!==void 0&&(wt=void 0),it.key!==void 0&&(dt=""+it.key),it)!nt.call(it,pt)||pt==="key"||pt==="__self"||pt==="__source"||pt==="ref"&&it.ref===void 0||(rt[pt]=it[pt]);var pt=arguments.length-2;if(pt===1)rt.children=lt;else if(1<pt){for(var ze=Array(pt),ie=0;ie<pt;ie++)ze[ie]=arguments[ie+2];rt.children=ze}return O(P.type,dt,void 0,void 0,wt,rt)},Mt.createContext=function(P){return P={$$typeof:u,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:o,_context:P},P},Mt.createElement=function(P,it,lt){var rt,dt={},wt=null;if(it!=null)for(rt in it.key!==void 0&&(wt=""+it.key),it)nt.call(it,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(dt[rt]=it[rt]);var pt=arguments.length-2;if(pt===1)dt.children=lt;else if(1<pt){for(var ze=Array(pt),ie=0;ie<pt;ie++)ze[ie]=arguments[ie+2];dt.children=ze}if(P&&P.defaultProps)for(rt in pt=P.defaultProps,pt)dt[rt]===void 0&&(dt[rt]=pt[rt]);return O(P,wt,void 0,void 0,null,dt)},Mt.createRef=function(){return{current:null}},Mt.forwardRef=function(P){return{$$typeof:h,render:P}},Mt.isValidElement=C,Mt.lazy=function(P){return{$$typeof:y,_payload:{_status:-1,_result:P},_init:st}},Mt.memo=function(P,it){return{$$typeof:g,type:P,compare:it===void 0?null:it}},Mt.startTransition=function(P){var it=G.T,lt={};G.T=lt;try{var rt=P(),dt=G.S;dt!==null&&dt(lt,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(St,ht)}catch(wt){ht(wt)}finally{G.T=it}},Mt.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},Mt.use=function(P){return G.H.use(P)},Mt.useActionState=function(P,it,lt){return G.H.useActionState(P,it,lt)},Mt.useCallback=function(P,it){return G.H.useCallback(P,it)},Mt.useContext=function(P){return G.H.useContext(P)},Mt.useDebugValue=function(){},Mt.useDeferredValue=function(P,it){return G.H.useDeferredValue(P,it)},Mt.useEffect=function(P,it,lt){var rt=G.H;if(typeof lt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return rt.useEffect(P,it)},Mt.useId=function(){return G.H.useId()},Mt.useImperativeHandle=function(P,it,lt){return G.H.useImperativeHandle(P,it,lt)},Mt.useInsertionEffect=function(P,it){return G.H.useInsertionEffect(P,it)},Mt.useLayoutEffect=function(P,it){return G.H.useLayoutEffect(P,it)},Mt.useMemo=function(P,it){return G.H.useMemo(P,it)},Mt.useOptimistic=function(P,it){return G.H.useOptimistic(P,it)},Mt.useReducer=function(P,it,lt){return G.H.useReducer(P,it,lt)},Mt.useRef=function(P){return G.H.useRef(P)},Mt.useState=function(P){return G.H.useState(P)},Mt.useSyncExternalStore=function(P,it,lt){return G.H.useSyncExternalStore(P,it,lt)},Mt.useTransition=function(){return G.H.useTransition()},Mt.version="19.1.0",Mt}var $0;function Fm(){return $0||($0=1,Og.exports=t1()),Og.exports}var Jn=Fm();const LE=PE(Jn);var Ig={exports:{}},Bl={},Vg={exports:{}},Ng={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z0;function e1(){return Z0||(Z0=1,function(n){function t(X,st){var ht=X.length;X.push(st);t:for(;0<ht;){var St=ht-1>>>1,P=X[St];if(0<a(P,st))X[St]=st,X[ht]=P,ht=St;else break t}}function e(X){return X.length===0?null:X[0]}function i(X){if(X.length===0)return null;var st=X[0],ht=X.pop();if(ht!==st){X[0]=ht;t:for(var St=0,P=X.length,it=P>>>1;St<it;){var lt=2*(St+1)-1,rt=X[lt],dt=lt+1,wt=X[dt];if(0>a(rt,ht))dt<P&&0>a(wt,rt)?(X[St]=wt,X[dt]=ht,St=dt):(X[St]=rt,X[lt]=ht,St=lt);else if(dt<P&&0>a(wt,ht))X[St]=wt,X[dt]=ht,St=dt;else break t}}return st}function a(X,st){var ht=X.sortIndex-st.sortIndex;return ht!==0?ht:X.id-st.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var f=[],g=[],y=1,_=null,b=3,S=!1,x=!1,D=!1,M=!1,z=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function $(X){for(var st=e(g);st!==null;){if(st.callback===null)i(g);else if(st.startTime<=X)i(g),st.sortIndex=st.expirationTime,t(f,st);else break;st=e(g)}}function G(X){if(D=!1,$(X),!x)if(e(f)!==null)x=!0,nt||(nt=!0,L());else{var st=e(g);st!==null&&_t(G,st.startTime-X)}}var nt=!1,O=-1,w=5,C=-1;function N(){return M?!0:!(n.unstable_now()-C<w)}function k(){if(M=!1,nt){var X=n.unstable_now();C=X;var st=!0;try{t:{x=!1,D&&(D=!1,H(O),O=-1),S=!0;var ht=b;try{e:{for($(X),_=e(f);_!==null&&!(_.expirationTime>X&&N());){var St=_.callback;if(typeof St=="function"){_.callback=null,b=_.priorityLevel;var P=St(_.expirationTime<=X);if(X=n.unstable_now(),typeof P=="function"){_.callback=P,$(X),st=!0;break e}_===e(f)&&i(f),$(X)}else i(f);_=e(f)}if(_!==null)st=!0;else{var it=e(g);it!==null&&_t(G,it.startTime-X),st=!1}}break t}finally{_=null,b=ht,S=!1}st=void 0}}finally{st?L():nt=!1}}}var L;if(typeof K=="function")L=function(){K(k)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,qt=I.port2;I.port1.onmessage=k,L=function(){qt.postMessage(null)}}else L=function(){z(k,0)};function _t(X,st){O=z(function(){X(n.unstable_now())},st)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(X){X.callback=null},n.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<X?Math.floor(1e3/X):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(X){switch(b){case 1:case 2:case 3:var st=3;break;default:st=b}var ht=b;b=st;try{return X()}finally{b=ht}},n.unstable_requestPaint=function(){M=!0},n.unstable_runWithPriority=function(X,st){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ht=b;b=X;try{return st()}finally{b=ht}},n.unstable_scheduleCallback=function(X,st,ht){var St=n.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?St+ht:St):ht=St,X){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=ht+P,X={id:y++,callback:st,priorityLevel:X,startTime:ht,expirationTime:P,sortIndex:-1},ht>St?(X.sortIndex=ht,t(g,X),e(f)===null&&X===e(g)&&(D?(H(O),O=-1):D=!0,_t(G,ht-St))):(X.sortIndex=P,t(f,X),x||S||(x=!0,nt||(nt=!0,L()))),X},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(X){var st=b;return function(){var ht=b;b=st;try{return X.apply(this,arguments)}finally{b=ht}}}}(Ng)),Ng}var J0;function n1(){return J0||(J0=1,Vg.exports=e1()),Vg.exports}var kg={exports:{}},nn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tv;function i1(){if(tv)return nn;tv=1;var n=Fm();function t(f){var g="https://react.dev/errors/"+f;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,g,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:f,containerInfo:g,implementation:y}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,g){if(f==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,nn.createPortal=function(f,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return o(f,g,null,y)},nn.flushSync=function(f){var g=u.T,y=i.p;try{if(u.T=null,i.p=2,f)return f()}finally{u.T=g,i.p=y,i.d.f()}},nn.preconnect=function(f,g){typeof f=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(f,g))},nn.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},nn.preinit=function(f,g){if(typeof f=="string"&&g&&typeof g.as=="string"){var y=g.as,_=h(y,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,S=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?i.d.S(f,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:_,integrity:b,fetchPriority:S}):y==="script"&&i.d.X(f,{crossOrigin:_,integrity:b,fetchPriority:S,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},nn.preinitModule=function(f,g){if(typeof f=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=h(g.as,g.crossOrigin);i.d.M(f,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(f)},nn.preload=function(f,g){if(typeof f=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,_=h(y,g.crossOrigin);i.d.L(f,y,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},nn.preloadModule=function(f,g){if(typeof f=="string")if(g){var y=h(g.as,g.crossOrigin);i.d.m(f,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(f)},nn.requestFormReset=function(f){i.d.r(f)},nn.unstable_batchedUpdates=function(f,g){return f(g)},nn.useFormState=function(f,g,y){return u.H.useFormState(f,g,y)},nn.useFormStatus=function(){return u.H.useHostTransitionStatus()},nn.version="19.1.0",nn}var ev;function s1(){if(ev)return kg.exports;ev=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),kg.exports=i1(),kg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nv;function a1(){if(nv)return Bl;nv=1;var n=n1(),t=Fm(),e=s1();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var r=s,l=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(l=r.return),s=r.return;while(s)}return r.tag===3?l:null}function u(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function h(s){if(o(s)!==s)throw Error(i(188))}function f(s){var r=s.alternate;if(!r){if(r=o(s),r===null)throw Error(i(188));return r!==s?null:s}for(var l=s,c=r;;){var m=l.return;if(m===null)break;var p=m.alternate;if(p===null){if(c=m.return,c!==null){l=c;continue}break}if(m.child===p.child){for(p=m.child;p;){if(p===l)return h(m),s;if(p===c)return h(m),r;p=p.sibling}throw Error(i(188))}if(l.return!==c.return)l=m,c=p;else{for(var T=!1,A=m.child;A;){if(A===l){T=!0,l=m,c=p;break}if(A===c){T=!0,c=m,l=p;break}A=A.sibling}if(!T){for(A=p.child;A;){if(A===l){T=!0,l=p,c=m;break}if(A===c){T=!0,c=p,l=m;break}A=A.sibling}if(!T)throw Error(i(189))}}if(l.alternate!==c)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:r}function g(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=g(s),r!==null)return r;s=s.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),H=Symbol.for("react.consumer"),K=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),nt=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function L(s){return s===null||typeof s!="object"?null:(s=k&&s[k]||s["@@iterator"],typeof s=="function"?s:null)}var I=Symbol.for("react.client.reference");function qt(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===I?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case x:return"Fragment";case M:return"Profiler";case D:return"StrictMode";case G:return"Suspense";case nt:return"SuspenseList";case C:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case S:return"Portal";case K:return(s.displayName||"Context")+".Provider";case H:return(s._context.displayName||"Context")+".Consumer";case $:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case O:return r=s.displayName||null,r!==null?r:qt(s.type)||"Memo";case w:r=s._payload,s=s._init;try{return qt(s(r))}catch{}}return null}var _t=Array.isArray,X=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},St=[],P=-1;function it(s){return{current:s}}function lt(s){0>P||(s.current=St[P],St[P]=null,P--)}function rt(s,r){P++,St[P]=s.current,s.current=r}var dt=it(null),wt=it(null),pt=it(null),ze=it(null);function ie(s,r){switch(rt(pt,r),rt(wt,s),rt(dt,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?T0(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=T0(r),s=S0(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}lt(dt),rt(dt,s)}function si(){lt(dt),lt(wt),lt(pt)}function ds(s){s.memoizedState!==null&&rt(ze,s);var r=dt.current,l=S0(r,s.type);r!==l&&(rt(wt,s),rt(dt,l))}function Mi(s){wt.current===s&&(lt(dt),lt(wt)),ze.current===s&&(lt(ze),Vl._currentValue=ht)}var ua=Object.prototype.hasOwnProperty,ca=n.unstable_scheduleCallback,ha=n.unstable_cancelCallback,Co=n.unstable_shouldYield,Nu=n.unstable_requestPaint,In=n.unstable_now,Cf=n.unstable_getCurrentPriorityLevel,Oo=n.unstable_ImmediatePriority,fr=n.unstable_UserBlockingPriority,fa=n.unstable_NormalPriority,Of=n.unstable_LowPriority,dr=n.unstable_IdlePriority,Io=n.log,ku=n.unstable_setDisableYieldValue,me=null,Xt=null;function En(s){if(typeof Io=="function"&&ku(s),Xt&&typeof Xt.setStrictMode=="function")try{Xt.setStrictMode(me,s)}catch{}}var tn=Math.clz32?Math.clz32:da,Pu=Math.log,If=Math.LN2;function da(s){return s>>>=0,s===0?32:31-(Pu(s)/If|0)|0}var ga=256,ma=4194304;function Qn(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function gr(s,r,l){var c=s.pendingLanes;if(c===0)return 0;var m=0,p=s.suspendedLanes,T=s.pingedLanes;s=s.warmLanes;var A=c&134217727;return A!==0?(c=A&~p,c!==0?m=Qn(c):(T&=A,T!==0?m=Qn(T):l||(l=A&~s,l!==0&&(m=Qn(l))))):(A=c&~p,A!==0?m=Qn(A):T!==0?m=Qn(T):l||(l=c&~s,l!==0&&(m=Qn(l)))),m===0?0:r!==0&&r!==m&&(r&p)===0&&(p=m&-m,l=r&-r,p>=l||p===32&&(l&4194048)!==0)?r:m}function pa(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function Vo(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function No(){var s=ga;return ga<<=1,(ga&4194048)===0&&(ga=256),s}function ko(){var s=ma;return ma<<=1,(ma&62914560)===0&&(ma=4194304),s}function Ci(s){for(var r=[],l=0;31>l;l++)r.push(s);return r}function Oi(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Po(s,r,l,c,m,p){var T=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var A=s.entanglements,V=s.expirationTimes,q=s.hiddenUpdates;for(l=T&~l;0<l;){var Z=31-tn(l),tt=1<<Z;A[Z]=0,V[Z]=-1;var Y=q[Z];if(Y!==null)for(q[Z]=null,Z=0;Z<Y.length;Z++){var Q=Y[Z];Q!==null&&(Q.lane&=-536870913)}l&=~tt}c!==0&&ai(s,c,0),p!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=p&~(T&~r))}function ai(s,r,l){s.pendingLanes|=r,s.suspendedLanes&=~r;var c=31-tn(r);s.entangledLanes|=r,s.entanglements[c]=s.entanglements[c]|1073741824|l&4194090}function Lo(s,r){var l=s.entangledLanes|=r;for(s=s.entanglements;l;){var c=31-tn(l),m=1<<c;m&r|s[c]&r&&(s[c]|=r),l&=~m}}function gs(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function mr(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function ms(){var s=st.p;return s!==0?s:(s=window.event,s===void 0?32:j0(s.type))}function Lu(s,r){var l=st.p;try{return st.p=s,r()}finally{st.p=l}}var le=Math.random().toString(36).slice(2),Me="__reactFiber$"+le,Ae="__reactProps$"+le,Vn="__reactContainer$"+le,zo="__reactEvents$"+le,Vf="__reactListeners$"+le,ps="__reactHandles$"+le,zu="__reactResources$"+le,ya="__reactMarker$"+le;function ys(s){delete s[Me],delete s[Ae],delete s[zo],delete s[Vf],delete s[ps]}function Ii(s){var r=s[Me];if(r)return r;for(var l=s.parentNode;l;){if(r=l[Vn]||l[Me]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(s=R0(s);s!==null;){if(l=s[Me])return l;s=R0(s)}return r}s=l,l=s.parentNode}return null}function ri(s){if(s=s[Me]||s[Vn]){var r=s.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return s}return null}function oi(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function cn(s){var r=s[zu];return r||(r=s[zu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ve(s){s[ya]=!0}var Bo=new Set,pr={};function Xn(s,r){Vi(s,r),Vi(s+"Capture",r)}function Vi(s,r){for(pr[s]=r,s=0;s<r.length;s++)Bo.add(r[s])}var Bu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Uu={},_a={};function Hu(s){return ua.call(_a,s)?!0:ua.call(Uu,s)?!1:Bu.test(s)?_a[s]=!0:(Uu[s]=!0,!1)}function _s(s,r,l){if(Hu(r))if(l===null)s.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+l)}}function li(s,r,l){if(l===null)s.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+l)}}function Ye(s,r,l,c){if(c===null)s.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(r,l,""+c)}}var va,ju;function Ni(s){if(va===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);va=r&&r[1]||"",ju=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+va+s+ju}var yr=!1;function _r(s,r){if(!s||yr)return"";yr=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(Q){var Y=Q}Reflect.construct(s,[],tt)}else{try{tt.call()}catch(Q){Y=Q}s.call(tt.prototype)}}else{try{throw Error()}catch(Q){Y=Q}(tt=s())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(Q){if(Q&&Y&&typeof Q.stack=="string")return[Q.stack,Y.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=c.DetermineComponentFrameRoot(),T=p[0],A=p[1];if(T&&A){var V=T.split(`
`),q=A.split(`
`);for(m=c=0;c<V.length&&!V[c].includes("DetermineComponentFrameRoot");)c++;for(;m<q.length&&!q[m].includes("DetermineComponentFrameRoot");)m++;if(c===V.length||m===q.length)for(c=V.length-1,m=q.length-1;1<=c&&0<=m&&V[c]!==q[m];)m--;for(;1<=c&&0<=m;c--,m--)if(V[c]!==q[m]){if(c!==1||m!==1)do if(c--,m--,0>m||V[c]!==q[m]){var Z=`
`+V[c].replace(" at new "," at ");return s.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",s.displayName)),Z}while(1<=c&&0<=m);break}}}finally{yr=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?Ni(l):""}function Uo(s){switch(s.tag){case 26:case 27:case 5:return Ni(s.type);case 16:return Ni("Lazy");case 13:return Ni("Suspense");case 19:return Ni("SuspenseList");case 0:case 15:return _r(s.type,!1);case 11:return _r(s.type.render,!1);case 1:return _r(s.type,!0);case 31:return Ni("Activity");default:return""}}function vr(s){try{var r="";do r+=Uo(s),s=s.return;while(s);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function hn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ho(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Nf(s){var r=Ho(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,r),c=""+s[r];if(!s.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,p=l.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return m.call(this)},set:function(T){c=""+T,p.call(this,T)}}),Object.defineProperty(s,r,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(T){c=""+T},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function br(s){s._valueTracker||(s._valueTracker=Nf(s))}function jo(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var l=r.getValue(),c="";return s&&(c=Ho(s)?s.checked?"true":"false":s.value),s=c,s!==l?(r.setValue(s),!0):!1}function ba(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var kf=/[\n"\\]/g;function xe(s){return s.replace(kf,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Tn(s,r,l,c,m,p,T,A){s.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?s.type=T:s.removeAttribute("type"),r!=null?T==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+hn(r)):s.value!==""+hn(r)&&(s.value=""+hn(r)):T!=="submit"&&T!=="reset"||s.removeAttribute("value"),r!=null?vs(s,T,hn(r)):l!=null?vs(s,T,hn(l)):c!=null&&s.removeAttribute("value"),m==null&&p!=null&&(s.defaultChecked=!!p),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?s.name=""+hn(A):s.removeAttribute("name")}function Ea(s,r,l,c,m,p,T,A){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(s.type=p),r!=null||l!=null){if(!(p!=="submit"&&p!=="reset"||r!=null))return;l=l!=null?""+hn(l):"",r=r!=null?""+hn(r):l,A||r===s.value||(s.value=r),s.defaultValue=r}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,s.checked=A?s.checked:!!c,s.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(s.name=T)}function vs(s,r,l){r==="number"&&ba(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function ki(s,r,l,c){if(s=s.options,r){r={};for(var m=0;m<l.length;m++)r["$"+l[m]]=!0;for(l=0;l<s.length;l++)m=r.hasOwnProperty("$"+s[l].value),s[l].selected!==m&&(s[l].selected=m),m&&c&&(s[l].defaultSelected=!0)}else{for(l=""+hn(l),r=null,m=0;m<s.length;m++){if(s[m].value===l){s[m].selected=!0,c&&(s[m].defaultSelected=!0);return}r!==null||s[m].disabled||(r=s[m])}r!==null&&(r.selected=!0)}}function Zt(s,r,l){if(r!=null&&(r=""+hn(r),r!==s.value&&(s.value=r),l==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=l!=null?""+hn(l):""}function Ta(s,r,l,c){if(r==null){if(c!=null){if(l!=null)throw Error(i(92));if(_t(c)){if(1<c.length)throw Error(i(93));c=c[0]}l=c}l==null&&(l=""),r=l}l=hn(r),s.defaultValue=l,c=s.textContent,c===l&&c!==""&&c!==null&&(s.value=c)}function Nn(s,r){if(r){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=r;return}}s.textContent=r}var Sa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fu(s,r,l){var c=r.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":c?s.setProperty(r,l):typeof l!="number"||l===0||Sa.has(r)?r==="float"?s.cssFloat=l:s[r]=(""+l).trim():s[r]=l+"px"}function Fo(s,r,l){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="");for(var m in r)c=r[m],r.hasOwnProperty(m)&&l[m]!==c&&Fu(s,m,c)}else for(var p in r)r.hasOwnProperty(p)&&Fu(s,p,r[p])}function qo(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Lf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Er(s){return Lf.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Pi=null;function kn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Li=null,zi=null;function Go(s){var r=ri(s);if(r&&(s=r.stateNode)){var l=s[Ae]||null;t:switch(s=r.stateNode,r.type){case"input":if(Tn(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),r=l.name,l.type==="radio"&&r!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+xe(""+r)+'"][type="radio"]'),r=0;r<l.length;r++){var c=l[r];if(c!==s&&c.form===s.form){var m=c[Ae]||null;if(!m)throw Error(i(90));Tn(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(r=0;r<l.length;r++)c=l[r],c.form===s.form&&jo(c)}break t;case"textarea":Zt(s,l.value,l.defaultValue);break t;case"select":r=l.value,r!=null&&ki(s,!!l.multiple,r,!1)}}}var ui=!1;function qu(s,r,l){if(ui)return s(r,l);ui=!0;try{var c=s(r);return c}finally{if(ui=!1,(Li!==null||zi!==null)&&(Lc(),Li&&(r=Li,s=zi,zi=Li=null,Go(r),s)))for(r=0;r<s.length;r++)Go(s[r])}}function Aa(s,r){var l=s.stateNode;if(l===null)return null;var c=l[Ae]||null;if(c===null)return null;l=c[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(s=s.type,c=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!c;break t;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,r,typeof l));return l}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pn=!1;if(Kn)try{var xa={};Object.defineProperty(xa,"passive",{get:function(){Pn=!0}}),window.addEventListener("test",xa,xa),window.removeEventListener("test",xa,xa)}catch{Pn=!1}var ci=null,bs=null,Bi=null;function Yo(){if(Bi)return Bi;var s,r=bs,l=r.length,c,m="value"in ci?ci.value:ci.textContent,p=m.length;for(s=0;s<l&&r[s]===m[s];s++);var T=l-s;for(c=1;c<=T&&r[l-c]===m[p-c];c++);return Bi=m.slice(s,1<c?1-c:void 0)}function hi(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function fi(){return!0}function Qo(){return!1}function Be(s){function r(l,c,m,p,T){this._reactName=l,this._targetInst=m,this.type=c,this.nativeEvent=p,this.target=T,this.currentTarget=null;for(var A in s)s.hasOwnProperty(A)&&(l=s[A],this[A]=l?l(p):p[A]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?fi:Qo,this.isPropagationStopped=Qo,this}return y(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=fi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=fi)},persist:function(){},isPersistent:fi}),r}var Yt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tr=Be(Yt),wa=y({},Yt,{view:0,detail:0}),Gu=Be(wa),Sr,Ar,di,Ra=y({},wa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ca,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==di&&(di&&s.type==="mousemove"?(Sr=s.screenX-di.screenX,Ar=s.screenY-di.screenY):Ar=Sr=0,di=s),Sr)},movementY:function(s){return"movementY"in s?s.movementY:Ar}}),Ln=Be(Ra),Yu=y({},Ra,{dataTransfer:0}),zf=Be(Yu),Da=y({},wa,{relatedTarget:0}),xr=Be(Da),Xo=y({},Yt,{animationName:0,elapsedTime:0,pseudoElement:0}),wr=Be(Xo),Qu=y({},Yt,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Rr=Be(Qu),Bf=y({},Yt,{data:0}),Ko=Be(Bf),Ma={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ku={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wo(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=Ku[s])?!!r[s]:!1}function Ca(){return Wo}var Wu=y({},wa,{key:function(s){if(s.key){var r=Ma[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=hi(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Xu[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ca,charCode:function(s){return s.type==="keypress"?hi(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?hi(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Dr=Be(Wu),$u=y({},Ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$o=Be($u),Ui=y({},wa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ca}),Zu=Be(Ui),Ju=y({},Yt,{propertyName:0,elapsedTime:0,pseudoElement:0}),tc=Be(Ju),ec=y({},Ra,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Mr=Be(ec),fn=y({},Yt,{newState:0,oldState:0}),nc=Be(fn),ic=[9,13,27,32],gi=Kn&&"CompositionEvent"in window,d=null;Kn&&"documentMode"in document&&(d=document.documentMode);var v=Kn&&"TextEvent"in window&&!d,E=Kn&&(!gi||d&&8<d&&11>=d),R=" ",j=!1;function W(s,r){switch(s){case"keyup":return ic.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ot(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var zt=!1;function Ce(s,r){switch(s){case"compositionend":return ot(r);case"keypress":return r.which!==32?null:(j=!0,R);case"textInput":return s=r.data,s===R&&j?null:s;default:return null}}function Bt(s,r){if(zt)return s==="compositionend"||!gi&&W(s,r)?(s=Yo(),Bi=bs=ci=null,zt=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return E&&r.locale!=="ko"?null:r.data;default:return null}}var Ue={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Oe(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!Ue[s.type]:r==="textarea"}function Hi(s,r,l,c){Li?zi?zi.push(c):zi=[c]:Li=c,r=Fc(r,"onChange"),0<r.length&&(l=new Tr("onChange","change",null,l,c),s.push({event:l,listeners:r}))}var Qe=null,mi=null;function Zo(s){y0(s,0)}function sc(s){var r=oi(s);if(jo(r))return s}function zp(s,r){if(s==="change")return r}var Bp=!1;if(Kn){var Uf;if(Kn){var Hf="oninput"in document;if(!Hf){var Up=document.createElement("div");Up.setAttribute("oninput","return;"),Hf=typeof Up.oninput=="function"}Uf=Hf}else Uf=!1;Bp=Uf&&(!document.documentMode||9<document.documentMode)}function Hp(){Qe&&(Qe.detachEvent("onpropertychange",jp),mi=Qe=null)}function jp(s){if(s.propertyName==="value"&&sc(mi)){var r=[];Hi(r,mi,s,kn(s)),qu(Zo,r)}}function wA(s,r,l){s==="focusin"?(Hp(),Qe=r,mi=l,Qe.attachEvent("onpropertychange",jp)):s==="focusout"&&Hp()}function RA(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return sc(mi)}function DA(s,r){if(s==="click")return sc(r)}function MA(s,r){if(s==="input"||s==="change")return sc(r)}function CA(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var Sn=typeof Object.is=="function"?Object.is:CA;function Jo(s,r){if(Sn(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var l=Object.keys(s),c=Object.keys(r);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var m=l[c];if(!ua.call(r,m)||!Sn(s[m],r[m]))return!1}return!0}function Fp(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function qp(s,r){var l=Fp(s);s=0;for(var c;l;){if(l.nodeType===3){if(c=s+l.textContent.length,s<=r&&c>=r)return{node:l,offset:r-s};s=c}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=Fp(l)}}function Gp(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?Gp(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function Yp(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=ba(s.document);r instanceof s.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)s=r.contentWindow;else break;r=ba(s.document)}return r}function jf(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var OA=Kn&&"documentMode"in document&&11>=document.documentMode,Cr=null,Ff=null,tl=null,qf=!1;function Qp(s,r,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;qf||Cr==null||Cr!==ba(c)||(c=Cr,"selectionStart"in c&&jf(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),tl&&Jo(tl,c)||(tl=c,c=Fc(Ff,"onSelect"),0<c.length&&(r=new Tr("onSelect","select",null,r,l),s.push({event:r,listeners:c}),r.target=Cr)))}function Oa(s,r){var l={};return l[s.toLowerCase()]=r.toLowerCase(),l["Webkit"+s]="webkit"+r,l["Moz"+s]="moz"+r,l}var Or={animationend:Oa("Animation","AnimationEnd"),animationiteration:Oa("Animation","AnimationIteration"),animationstart:Oa("Animation","AnimationStart"),transitionrun:Oa("Transition","TransitionRun"),transitionstart:Oa("Transition","TransitionStart"),transitioncancel:Oa("Transition","TransitionCancel"),transitionend:Oa("Transition","TransitionEnd")},Gf={},Xp={};Kn&&(Xp=document.createElement("div").style,"AnimationEvent"in window||(delete Or.animationend.animation,delete Or.animationiteration.animation,delete Or.animationstart.animation),"TransitionEvent"in window||delete Or.transitionend.transition);function Ia(s){if(Gf[s])return Gf[s];if(!Or[s])return s;var r=Or[s],l;for(l in r)if(r.hasOwnProperty(l)&&l in Xp)return Gf[s]=r[l];return s}var Kp=Ia("animationend"),Wp=Ia("animationiteration"),$p=Ia("animationstart"),IA=Ia("transitionrun"),VA=Ia("transitionstart"),NA=Ia("transitioncancel"),Zp=Ia("transitionend"),Jp=new Map,Yf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yf.push("scrollEnd");function Wn(s,r){Jp.set(s,r),Xn(r,[s])}var ty=new WeakMap;function zn(s,r){if(typeof s=="object"&&s!==null){var l=ty.get(s);return l!==void 0?l:(r={value:s,source:r,stack:vr(r)},ty.set(s,r),r)}return{value:s,source:r,stack:vr(r)}}var Bn=[],Ir=0,Qf=0;function ac(){for(var s=Ir,r=Qf=Ir=0;r<s;){var l=Bn[r];Bn[r++]=null;var c=Bn[r];Bn[r++]=null;var m=Bn[r];Bn[r++]=null;var p=Bn[r];if(Bn[r++]=null,c!==null&&m!==null){var T=c.pending;T===null?m.next=m:(m.next=T.next,T.next=m),c.pending=m}p!==0&&ey(l,m,p)}}function rc(s,r,l,c){Bn[Ir++]=s,Bn[Ir++]=r,Bn[Ir++]=l,Bn[Ir++]=c,Qf|=c,s.lanes|=c,s=s.alternate,s!==null&&(s.lanes|=c)}function Xf(s,r,l,c){return rc(s,r,l,c),oc(s)}function Vr(s,r){return rc(s,null,null,r),oc(s)}function ey(s,r,l){s.lanes|=l;var c=s.alternate;c!==null&&(c.lanes|=l);for(var m=!1,p=s.return;p!==null;)p.childLanes|=l,c=p.alternate,c!==null&&(c.childLanes|=l),p.tag===22&&(s=p.stateNode,s===null||s._visibility&1||(m=!0)),s=p,p=p.return;return s.tag===3?(p=s.stateNode,m&&r!==null&&(m=31-tn(l),s=p.hiddenUpdates,c=s[m],c===null?s[m]=[r]:c.push(r),r.lane=l|536870912),p):null}function oc(s){if(50<xl)throw xl=0,tg=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var Nr={};function kA(s,r,l,c){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(s,r,l,c){return new kA(s,r,l,c)}function Kf(s){return s=s.prototype,!(!s||!s.isReactComponent)}function ji(s,r){var l=s.alternate;return l===null?(l=An(s.tag,r,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=r,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,r=s.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function ny(s,r){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,r=l.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function lc(s,r,l,c,m,p){var T=0;if(c=s,typeof s=="function")Kf(s)&&(T=1);else if(typeof s=="string")T=Lx(s,l,dt.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case C:return s=An(31,l,r,m),s.elementType=C,s.lanes=p,s;case x:return Va(l.children,m,p,r);case D:T=8,m|=24;break;case M:return s=An(12,l,r,m|2),s.elementType=M,s.lanes=p,s;case G:return s=An(13,l,r,m),s.elementType=G,s.lanes=p,s;case nt:return s=An(19,l,r,m),s.elementType=nt,s.lanes=p,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case z:case K:T=10;break t;case H:T=9;break t;case $:T=11;break t;case O:T=14;break t;case w:T=16,c=null;break t}T=29,l=Error(i(130,s===null?"null":typeof s,"")),c=null}return r=An(T,l,r,m),r.elementType=s,r.type=c,r.lanes=p,r}function Va(s,r,l,c){return s=An(7,s,c,r),s.lanes=l,s}function Wf(s,r,l){return s=An(6,s,null,r),s.lanes=l,s}function $f(s,r,l){return r=An(4,s.children!==null?s.children:[],s.key,r),r.lanes=l,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var kr=[],Pr=0,uc=null,cc=0,Un=[],Hn=0,Na=null,Fi=1,qi="";function ka(s,r){kr[Pr++]=cc,kr[Pr++]=uc,uc=s,cc=r}function iy(s,r,l){Un[Hn++]=Fi,Un[Hn++]=qi,Un[Hn++]=Na,Na=s;var c=Fi;s=qi;var m=32-tn(c)-1;c&=~(1<<m),l+=1;var p=32-tn(r)+m;if(30<p){var T=m-m%5;p=(c&(1<<T)-1).toString(32),c>>=T,m-=T,Fi=1<<32-tn(r)+m|l<<m|c,qi=p+s}else Fi=1<<p|l<<m|c,qi=s}function Zf(s){s.return!==null&&(ka(s,1),iy(s,1,0))}function Jf(s){for(;s===uc;)uc=kr[--Pr],kr[Pr]=null,cc=kr[--Pr],kr[Pr]=null;for(;s===Na;)Na=Un[--Hn],Un[Hn]=null,qi=Un[--Hn],Un[Hn]=null,Fi=Un[--Hn],Un[Hn]=null}var dn=null,pe=null,Gt=!1,Pa=null,pi=!1,td=Error(i(519));function La(s){var r=Error(i(418,""));throw il(zn(r,s)),td}function sy(s){var r=s.stateNode,l=s.type,c=s.memoizedProps;switch(r[Me]=s,r[Ae]=c,l){case"dialog":Nt("cancel",r),Nt("close",r);break;case"iframe":case"object":case"embed":Nt("load",r);break;case"video":case"audio":for(l=0;l<Rl.length;l++)Nt(Rl[l],r);break;case"source":Nt("error",r);break;case"img":case"image":case"link":Nt("error",r),Nt("load",r);break;case"details":Nt("toggle",r);break;case"input":Nt("invalid",r),Ea(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),br(r);break;case"select":Nt("invalid",r);break;case"textarea":Nt("invalid",r),Ta(r,c.value,c.defaultValue,c.children),br(r)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||r.textContent===""+l||c.suppressHydrationWarning===!0||E0(r.textContent,l)?(c.popover!=null&&(Nt("beforetoggle",r),Nt("toggle",r)),c.onScroll!=null&&Nt("scroll",r),c.onScrollEnd!=null&&Nt("scrollend",r),c.onClick!=null&&(r.onclick=qc),r=!0):r=!1,r||La(s)}function ay(s){for(dn=s.return;dn;)switch(dn.tag){case 5:case 13:pi=!1;return;case 27:case 3:pi=!0;return;default:dn=dn.return}}function el(s){if(s!==dn)return!1;if(!Gt)return ay(s),Gt=!0,!1;var r=s.tag,l;if((l=r!==3&&r!==27)&&((l=r===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||pg(s.type,s.memoizedProps)),l=!l),l&&pe&&La(s),ay(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));t:{for(s=s.nextSibling,r=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(r===0){pe=Zn(s.nextSibling);break t}r--}else l!=="$"&&l!=="$!"&&l!=="$?"||r++;s=s.nextSibling}pe=null}}else r===27?(r=pe,Ps(s.type)?(s=bg,bg=null,pe=s):pe=r):pe=dn?Zn(s.stateNode.nextSibling):null;return!0}function nl(){pe=dn=null,Gt=!1}function ry(){var s=Pa;return s!==null&&(pn===null?pn=s:pn.push.apply(pn,s),Pa=null),s}function il(s){Pa===null?Pa=[s]:Pa.push(s)}var ed=it(null),za=null,Gi=null;function Es(s,r,l){rt(ed,r._currentValue),r._currentValue=l}function Yi(s){s._currentValue=ed.current,lt(ed)}function nd(s,r,l){for(;s!==null;){var c=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),s===l)break;s=s.return}}function id(s,r,l,c){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var p=m.dependencies;if(p!==null){var T=m.child;p=p.firstContext;t:for(;p!==null;){var A=p;p=m;for(var V=0;V<r.length;V++)if(A.context===r[V]){p.lanes|=l,A=p.alternate,A!==null&&(A.lanes|=l),nd(p.return,l,s),c||(T=null);break t}p=A.next}}else if(m.tag===18){if(T=m.return,T===null)throw Error(i(341));T.lanes|=l,p=T.alternate,p!==null&&(p.lanes|=l),nd(T,l,s),T=null}else T=m.child;if(T!==null)T.return=m;else for(T=m;T!==null;){if(T===s){T=null;break}if(m=T.sibling,m!==null){m.return=T.return,T=m;break}T=T.return}m=T}}function sl(s,r,l,c){s=null;for(var m=r,p=!1;m!==null;){if(!p){if((m.flags&524288)!==0)p=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var T=m.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var A=m.type;Sn(m.pendingProps.value,T.value)||(s!==null?s.push(A):s=[A])}}else if(m===ze.current){if(T=m.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(Vl):s=[Vl])}m=m.return}s!==null&&id(r,s,l,c),r.flags|=262144}function hc(s){for(s=s.firstContext;s!==null;){if(!Sn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Ba(s){za=s,Gi=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function en(s){return oy(za,s)}function fc(s,r){return za===null&&Ba(s),oy(s,r)}function oy(s,r){var l=r._currentValue;if(r={context:r,memoizedValue:l,next:null},Gi===null){if(s===null)throw Error(i(308));Gi=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else Gi=Gi.next=r;return l}var PA=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(l,c){s.push(c)}};this.abort=function(){r.aborted=!0,s.forEach(function(l){return l()})}},LA=n.unstable_scheduleCallback,zA=n.unstable_NormalPriority,Ie={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sd(){return{controller:new PA,data:new Map,refCount:0}}function al(s){s.refCount--,s.refCount===0&&LA(zA,function(){s.controller.abort()})}var rl=null,ad=0,Lr=0,zr=null;function BA(s,r){if(rl===null){var l=rl=[];ad=0,Lr=og(),zr={status:"pending",value:void 0,then:function(c){l.push(c)}}}return ad++,r.then(ly,ly),r}function ly(){if(--ad===0&&rl!==null){zr!==null&&(zr.status="fulfilled");var s=rl;rl=null,Lr=0,zr=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function UA(s,r){var l=[],c={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return s.then(function(){c.status="fulfilled",c.value=r;for(var m=0;m<l.length;m++)(0,l[m])(r)},function(m){for(c.status="rejected",c.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),c}var uy=X.S;X.S=function(s,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&BA(s,r),uy!==null&&uy(s,r)};var Ua=it(null);function rd(){var s=Ua.current;return s!==null?s:se.pooledCache}function dc(s,r){r===null?rt(Ua,Ua.current):rt(Ua,r.pool)}function cy(){var s=rd();return s===null?null:{parent:Ie._currentValue,pool:s}}var ol=Error(i(460)),hy=Error(i(474)),gc=Error(i(542)),od={then:function(){}};function fy(s){return s=s.status,s==="fulfilled"||s==="rejected"}function mc(){}function dy(s,r,l){switch(l=s[l],l===void 0?s.push(r):l!==r&&(r.then(mc,mc),r=l),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,my(s),s;default:if(typeof r.status=="string")r.then(mc,mc);else{if(s=se,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(c){if(r.status==="pending"){var m=r;m.status="fulfilled",m.value=c}},function(c){if(r.status==="pending"){var m=r;m.status="rejected",m.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,my(s),s}throw ll=r,ol}}var ll=null;function gy(){if(ll===null)throw Error(i(459));var s=ll;return ll=null,s}function my(s){if(s===ol||s===gc)throw Error(i(483))}var Ts=!1;function ld(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ud(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Ss(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function As(s,r,l){var c=s.updateQueue;if(c===null)return null;if(c=c.shared,(Kt&2)!==0){var m=c.pending;return m===null?r.next=r:(r.next=m.next,m.next=r),c.pending=r,r=oc(s),ey(s,null,l),r}return rc(s,c,r,l),oc(s)}function ul(s,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194048)!==0)){var c=r.lanes;c&=s.pendingLanes,l|=c,r.lanes=l,Lo(s,l)}}function cd(s,r){var l=s.updateQueue,c=s.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var m=null,p=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};p===null?m=p=T:p=p.next=T,l=l.next}while(l!==null);p===null?m=p=r:p=p.next=r}else m=p=r;l={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:p,shared:c.shared,callbacks:c.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=r:s.next=r,l.lastBaseUpdate=r}var hd=!1;function cl(){if(hd){var s=zr;if(s!==null)throw s}}function hl(s,r,l,c){hd=!1;var m=s.updateQueue;Ts=!1;var p=m.firstBaseUpdate,T=m.lastBaseUpdate,A=m.shared.pending;if(A!==null){m.shared.pending=null;var V=A,q=V.next;V.next=null,T===null?p=q:T.next=q,T=V;var Z=s.alternate;Z!==null&&(Z=Z.updateQueue,A=Z.lastBaseUpdate,A!==T&&(A===null?Z.firstBaseUpdate=q:A.next=q,Z.lastBaseUpdate=V))}if(p!==null){var tt=m.baseState;T=0,Z=q=V=null,A=p;do{var Y=A.lane&-536870913,Q=Y!==A.lane;if(Q?(Ut&Y)===Y:(c&Y)===Y){Y!==0&&Y===Lr&&(hd=!0),Z!==null&&(Z=Z.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var At=s,vt=A;Y=r;var ee=l;switch(vt.tag){case 1:if(At=vt.payload,typeof At=="function"){tt=At.call(ee,tt,Y);break t}tt=At;break t;case 3:At.flags=At.flags&-65537|128;case 0:if(At=vt.payload,Y=typeof At=="function"?At.call(ee,tt,Y):At,Y==null)break t;tt=y({},tt,Y);break t;case 2:Ts=!0}}Y=A.callback,Y!==null&&(s.flags|=64,Q&&(s.flags|=8192),Q=m.callbacks,Q===null?m.callbacks=[Y]:Q.push(Y))}else Q={lane:Y,tag:A.tag,payload:A.payload,callback:A.callback,next:null},Z===null?(q=Z=Q,V=tt):Z=Z.next=Q,T|=Y;if(A=A.next,A===null){if(A=m.shared.pending,A===null)break;Q=A,A=Q.next,Q.next=null,m.lastBaseUpdate=Q,m.shared.pending=null}}while(!0);Z===null&&(V=tt),m.baseState=V,m.firstBaseUpdate=q,m.lastBaseUpdate=Z,p===null&&(m.shared.lanes=0),Is|=T,s.lanes=T,s.memoizedState=tt}}function py(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function yy(s,r){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)py(l[s],r)}var Br=it(null),pc=it(0);function _y(s,r){s=Ji,rt(pc,s),rt(Br,r),Ji=s|r.baseLanes}function fd(){rt(pc,Ji),rt(Br,Br.current)}function dd(){Ji=pc.current,lt(Br),lt(pc)}var xs=0,Ct=null,Jt=null,we=null,yc=!1,Ur=!1,Ha=!1,_c=0,fl=0,Hr=null,HA=0;function be(){throw Error(i(321))}function gd(s,r){if(r===null)return!1;for(var l=0;l<r.length&&l<s.length;l++)if(!Sn(s[l],r[l]))return!1;return!0}function md(s,r,l,c,m,p){return xs=p,Ct=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,X.H=s===null||s.memoizedState===null?e_:n_,Ha=!1,p=l(c,m),Ha=!1,Ur&&(p=by(r,l,c,m)),vy(s),p}function vy(s){X.H=Ac;var r=Jt!==null&&Jt.next!==null;if(xs=0,we=Jt=Ct=null,yc=!1,fl=0,Hr=null,r)throw Error(i(300));s===null||He||(s=s.dependencies,s!==null&&hc(s)&&(He=!0))}function by(s,r,l,c){Ct=s;var m=0;do{if(Ur&&(Hr=null),fl=0,Ur=!1,25<=m)throw Error(i(301));if(m+=1,we=Jt=null,s.updateQueue!=null){var p=s.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}X.H=XA,p=r(l,c)}while(Ur);return p}function jA(){var s=X.H,r=s.useState()[0];return r=typeof r.then=="function"?dl(r):r,s=s.useState()[0],(Jt!==null?Jt.memoizedState:null)!==s&&(Ct.flags|=1024),r}function pd(){var s=_c!==0;return _c=0,s}function yd(s,r,l){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~l}function _d(s){if(yc){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}yc=!1}xs=0,we=Jt=Ct=null,Ur=!1,fl=_c=0,Hr=null}function gn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?Ct.memoizedState=we=s:we=we.next=s,we}function Re(){if(Jt===null){var s=Ct.alternate;s=s!==null?s.memoizedState:null}else s=Jt.next;var r=we===null?Ct.memoizedState:we.next;if(r!==null)we=r,Jt=s;else{if(s===null)throw Ct.alternate===null?Error(i(467)):Error(i(310));Jt=s,s={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},we===null?Ct.memoizedState=we=s:we=we.next=s}return we}function vd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function dl(s){var r=fl;return fl+=1,Hr===null&&(Hr=[]),s=dy(Hr,s,r),r=Ct,(we===null?r.memoizedState:we.next)===null&&(r=r.alternate,X.H=r===null||r.memoizedState===null?e_:n_),s}function vc(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return dl(s);if(s.$$typeof===K)return en(s)}throw Error(i(438,String(s)))}function bd(s){var r=null,l=Ct.updateQueue;if(l!==null&&(r=l.memoCache),r==null){var c=Ct.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(m){return m.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),l===null&&(l=vd(),Ct.updateQueue=l),l.memoCache=r,l=r.data[r.index],l===void 0)for(l=r.data[r.index]=Array(s),c=0;c<s;c++)l[c]=N;return r.index++,l}function Qi(s,r){return typeof r=="function"?r(s):r}function bc(s){var r=Re();return Ed(r,Jt,s)}function Ed(s,r,l){var c=s.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=l;var m=s.baseQueue,p=c.pending;if(p!==null){if(m!==null){var T=m.next;m.next=p.next,p.next=T}r.baseQueue=m=p,c.pending=null}if(p=s.baseState,m===null)s.memoizedState=p;else{r=m.next;var A=T=null,V=null,q=r,Z=!1;do{var tt=q.lane&-536870913;if(tt!==q.lane?(Ut&tt)===tt:(xs&tt)===tt){var Y=q.revertLane;if(Y===0)V!==null&&(V=V.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),tt===Lr&&(Z=!0);else if((xs&Y)===Y){q=q.next,Y===Lr&&(Z=!0);continue}else tt={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},V===null?(A=V=tt,T=p):V=V.next=tt,Ct.lanes|=Y,Is|=Y;tt=q.action,Ha&&l(p,tt),p=q.hasEagerState?q.eagerState:l(p,tt)}else Y={lane:tt,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},V===null?(A=V=Y,T=p):V=V.next=Y,Ct.lanes|=tt,Is|=tt;q=q.next}while(q!==null&&q!==r);if(V===null?T=p:V.next=A,!Sn(p,s.memoizedState)&&(He=!0,Z&&(l=zr,l!==null)))throw l;s.memoizedState=p,s.baseState=T,s.baseQueue=V,c.lastRenderedState=p}return m===null&&(c.lanes=0),[s.memoizedState,c.dispatch]}function Td(s){var r=Re(),l=r.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var c=l.dispatch,m=l.pending,p=r.memoizedState;if(m!==null){l.pending=null;var T=m=m.next;do p=s(p,T.action),T=T.next;while(T!==m);Sn(p,r.memoizedState)||(He=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),l.lastRenderedState=p}return[p,c]}function Ey(s,r,l){var c=Ct,m=Re(),p=Gt;if(p){if(l===void 0)throw Error(i(407));l=l()}else l=r();var T=!Sn((Jt||m).memoizedState,l);T&&(m.memoizedState=l,He=!0),m=m.queue;var A=Ay.bind(null,c,m,s);if(gl(2048,8,A,[s]),m.getSnapshot!==r||T||we!==null&&we.memoizedState.tag&1){if(c.flags|=2048,jr(9,Ec(),Sy.bind(null,c,m,l,r),null),se===null)throw Error(i(349));p||(xs&124)!==0||Ty(c,r,l)}return l}function Ty(s,r,l){s.flags|=16384,s={getSnapshot:r,value:l},r=Ct.updateQueue,r===null?(r=vd(),Ct.updateQueue=r,r.stores=[s]):(l=r.stores,l===null?r.stores=[s]:l.push(s))}function Sy(s,r,l,c){r.value=l,r.getSnapshot=c,xy(r)&&wy(s)}function Ay(s,r,l){return l(function(){xy(r)&&wy(s)})}function xy(s){var r=s.getSnapshot;s=s.value;try{var l=r();return!Sn(s,l)}catch{return!0}}function wy(s){var r=Vr(s,2);r!==null&&Mn(r,s,2)}function Sd(s){var r=gn();if(typeof s=="function"){var l=s;if(s=l(),Ha){En(!0);try{l()}finally{En(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:s},r}function Ry(s,r,l,c){return s.baseState=l,Ed(s,Jt,typeof c=="function"?c:Qi)}function FA(s,r,l,c,m){if(Sc(s))throw Error(i(485));if(s=r.action,s!==null){var p={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){p.listeners.push(T)}};X.T!==null?l(!0):p.isTransition=!1,c(p),l=r.pending,l===null?(p.next=r.pending=p,Dy(r,p)):(p.next=l.next,r.pending=l.next=p)}}function Dy(s,r){var l=r.action,c=r.payload,m=s.state;if(r.isTransition){var p=X.T,T={};X.T=T;try{var A=l(m,c),V=X.S;V!==null&&V(T,A),My(s,r,A)}catch(q){Ad(s,r,q)}finally{X.T=p}}else try{p=l(m,c),My(s,r,p)}catch(q){Ad(s,r,q)}}function My(s,r,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){Cy(s,r,c)},function(c){return Ad(s,r,c)}):Cy(s,r,l)}function Cy(s,r,l){r.status="fulfilled",r.value=l,Oy(r),s.state=l,r=s.pending,r!==null&&(l=r.next,l===r?s.pending=null:(l=l.next,r.next=l,Dy(s,l)))}function Ad(s,r,l){var c=s.pending;if(s.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=l,Oy(r),r=r.next;while(r!==c)}s.action=null}function Oy(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function Iy(s,r){return r}function Vy(s,r){if(Gt){var l=se.formState;if(l!==null){t:{var c=Ct;if(Gt){if(pe){e:{for(var m=pe,p=pi;m.nodeType!==8;){if(!p){m=null;break e}if(m=Zn(m.nextSibling),m===null){m=null;break e}}p=m.data,m=p==="F!"||p==="F"?m:null}if(m){pe=Zn(m.nextSibling),c=m.data==="F!";break t}}La(c)}c=!1}c&&(r=l[0])}}return l=gn(),l.memoizedState=l.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Iy,lastRenderedState:r},l.queue=c,l=Zy.bind(null,Ct,c),c.dispatch=l,c=Sd(!1),p=Md.bind(null,Ct,!1,c.queue),c=gn(),m={state:r,dispatch:null,action:s,pending:null},c.queue=m,l=FA.bind(null,Ct,m,p,l),m.dispatch=l,c.memoizedState=s,[r,l,!1]}function Ny(s){var r=Re();return ky(r,Jt,s)}function ky(s,r,l){if(r=Ed(s,r,Iy)[0],s=bc(Qi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=dl(r)}catch(T){throw T===ol?gc:T}else c=r;r=Re();var m=r.queue,p=m.dispatch;return l!==r.memoizedState&&(Ct.flags|=2048,jr(9,Ec(),qA.bind(null,m,l),null)),[c,p,s]}function qA(s,r){s.action=r}function Py(s){var r=Re(),l=Jt;if(l!==null)return ky(r,l,s);Re(),r=r.memoizedState,l=Re();var c=l.queue.dispatch;return l.memoizedState=s,[r,c,!1]}function jr(s,r,l,c){return s={tag:s,create:l,deps:c,inst:r,next:null},r=Ct.updateQueue,r===null&&(r=vd(),Ct.updateQueue=r),l=r.lastEffect,l===null?r.lastEffect=s.next=s:(c=l.next,l.next=s,s.next=c,r.lastEffect=s),s}function Ec(){return{destroy:void 0,resource:void 0}}function Ly(){return Re().memoizedState}function Tc(s,r,l,c){var m=gn();c=c===void 0?null:c,Ct.flags|=s,m.memoizedState=jr(1|r,Ec(),l,c)}function gl(s,r,l,c){var m=Re();c=c===void 0?null:c;var p=m.memoizedState.inst;Jt!==null&&c!==null&&gd(c,Jt.memoizedState.deps)?m.memoizedState=jr(r,p,l,c):(Ct.flags|=s,m.memoizedState=jr(1|r,p,l,c))}function zy(s,r){Tc(8390656,8,s,r)}function By(s,r){gl(2048,8,s,r)}function Uy(s,r){return gl(4,2,s,r)}function Hy(s,r){return gl(4,4,s,r)}function jy(s,r){if(typeof r=="function"){s=s();var l=r(s);return function(){typeof l=="function"?l():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function Fy(s,r,l){l=l!=null?l.concat([s]):null,gl(4,4,jy.bind(null,r,s),l)}function xd(){}function qy(s,r){var l=Re();r=r===void 0?null:r;var c=l.memoizedState;return r!==null&&gd(r,c[1])?c[0]:(l.memoizedState=[s,r],s)}function Gy(s,r){var l=Re();r=r===void 0?null:r;var c=l.memoizedState;if(r!==null&&gd(r,c[1]))return c[0];if(c=s(),Ha){En(!0);try{s()}finally{En(!1)}}return l.memoizedState=[c,r],c}function wd(s,r,l){return l===void 0||(xs&1073741824)!==0?s.memoizedState=r:(s.memoizedState=l,s=X_(),Ct.lanes|=s,Is|=s,l)}function Yy(s,r,l,c){return Sn(l,r)?l:Br.current!==null?(s=wd(s,l,c),Sn(s,r)||(He=!0),s):(xs&42)===0?(He=!0,s.memoizedState=l):(s=X_(),Ct.lanes|=s,Is|=s,r)}function Qy(s,r,l,c,m){var p=st.p;st.p=p!==0&&8>p?p:8;var T=X.T,A={};X.T=A,Md(s,!1,r,l);try{var V=m(),q=X.S;if(q!==null&&q(A,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var Z=UA(V,c);ml(s,r,Z,Dn(s))}else ml(s,r,c,Dn(s))}catch(tt){ml(s,r,{then:function(){},status:"rejected",reason:tt},Dn())}finally{st.p=p,X.T=T}}function GA(){}function Rd(s,r,l,c){if(s.tag!==5)throw Error(i(476));var m=Xy(s).queue;Qy(s,m,r,ht,l===null?GA:function(){return Ky(s),l(c)})}function Xy(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:ht},next:null};var l={};return r.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:l},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function Ky(s){var r=Xy(s).next.queue;ml(s,r,{},Dn())}function Dd(){return en(Vl)}function Wy(){return Re().memoizedState}function $y(){return Re().memoizedState}function YA(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var l=Dn();s=Ss(l);var c=As(r,s,l);c!==null&&(Mn(c,r,l),ul(c,r,l)),r={cache:sd()},s.payload=r;return}r=r.return}}function QA(s,r,l){var c=Dn();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Sc(s)?Jy(r,l):(l=Xf(s,r,l,c),l!==null&&(Mn(l,s,c),t_(l,r,c)))}function Zy(s,r,l){var c=Dn();ml(s,r,l,c)}function ml(s,r,l,c){var m={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Sc(s))Jy(r,m);else{var p=s.alternate;if(s.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var T=r.lastRenderedState,A=p(T,l);if(m.hasEagerState=!0,m.eagerState=A,Sn(A,T))return rc(s,r,m,0),se===null&&ac(),!1}catch{}finally{}if(l=Xf(s,r,m,c),l!==null)return Mn(l,s,c),t_(l,r,c),!0}return!1}function Md(s,r,l,c){if(c={lane:2,revertLane:og(),action:c,hasEagerState:!1,eagerState:null,next:null},Sc(s)){if(r)throw Error(i(479))}else r=Xf(s,l,c,2),r!==null&&Mn(r,s,2)}function Sc(s){var r=s.alternate;return s===Ct||r!==null&&r===Ct}function Jy(s,r){Ur=yc=!0;var l=s.pending;l===null?r.next=r:(r.next=l.next,l.next=r),s.pending=r}function t_(s,r,l){if((l&4194048)!==0){var c=r.lanes;c&=s.pendingLanes,l|=c,r.lanes=l,Lo(s,l)}}var Ac={readContext:en,use:vc,useCallback:be,useContext:be,useEffect:be,useImperativeHandle:be,useLayoutEffect:be,useInsertionEffect:be,useMemo:be,useReducer:be,useRef:be,useState:be,useDebugValue:be,useDeferredValue:be,useTransition:be,useSyncExternalStore:be,useId:be,useHostTransitionStatus:be,useFormState:be,useActionState:be,useOptimistic:be,useMemoCache:be,useCacheRefresh:be},e_={readContext:en,use:vc,useCallback:function(s,r){return gn().memoizedState=[s,r===void 0?null:r],s},useContext:en,useEffect:zy,useImperativeHandle:function(s,r,l){l=l!=null?l.concat([s]):null,Tc(4194308,4,jy.bind(null,r,s),l)},useLayoutEffect:function(s,r){return Tc(4194308,4,s,r)},useInsertionEffect:function(s,r){Tc(4,2,s,r)},useMemo:function(s,r){var l=gn();r=r===void 0?null:r;var c=s();if(Ha){En(!0);try{s()}finally{En(!1)}}return l.memoizedState=[c,r],c},useReducer:function(s,r,l){var c=gn();if(l!==void 0){var m=l(r);if(Ha){En(!0);try{l(r)}finally{En(!1)}}}else m=r;return c.memoizedState=c.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},c.queue=s,s=s.dispatch=QA.bind(null,Ct,s),[c.memoizedState,s]},useRef:function(s){var r=gn();return s={current:s},r.memoizedState=s},useState:function(s){s=Sd(s);var r=s.queue,l=Zy.bind(null,Ct,r);return r.dispatch=l,[s.memoizedState,l]},useDebugValue:xd,useDeferredValue:function(s,r){var l=gn();return wd(l,s,r)},useTransition:function(){var s=Sd(!1);return s=Qy.bind(null,Ct,s.queue,!0,!1),gn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,l){var c=Ct,m=gn();if(Gt){if(l===void 0)throw Error(i(407));l=l()}else{if(l=r(),se===null)throw Error(i(349));(Ut&124)!==0||Ty(c,r,l)}m.memoizedState=l;var p={value:l,getSnapshot:r};return m.queue=p,zy(Ay.bind(null,c,p,s),[s]),c.flags|=2048,jr(9,Ec(),Sy.bind(null,c,p,l,r),null),l},useId:function(){var s=gn(),r=se.identifierPrefix;if(Gt){var l=qi,c=Fi;l=(c&~(1<<32-tn(c)-1)).toString(32)+l,r=""+r+"R"+l,l=_c++,0<l&&(r+="H"+l.toString(32)),r+=""}else l=HA++,r=""+r+"r"+l.toString(32)+"";return s.memoizedState=r},useHostTransitionStatus:Dd,useFormState:Vy,useActionState:Vy,useOptimistic:function(s){var r=gn();r.memoizedState=r.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=l,r=Md.bind(null,Ct,!0,l),l.dispatch=r,[s,r]},useMemoCache:bd,useCacheRefresh:function(){return gn().memoizedState=YA.bind(null,Ct)}},n_={readContext:en,use:vc,useCallback:qy,useContext:en,useEffect:By,useImperativeHandle:Fy,useInsertionEffect:Uy,useLayoutEffect:Hy,useMemo:Gy,useReducer:bc,useRef:Ly,useState:function(){return bc(Qi)},useDebugValue:xd,useDeferredValue:function(s,r){var l=Re();return Yy(l,Jt.memoizedState,s,r)},useTransition:function(){var s=bc(Qi)[0],r=Re().memoizedState;return[typeof s=="boolean"?s:dl(s),r]},useSyncExternalStore:Ey,useId:Wy,useHostTransitionStatus:Dd,useFormState:Ny,useActionState:Ny,useOptimistic:function(s,r){var l=Re();return Ry(l,Jt,s,r)},useMemoCache:bd,useCacheRefresh:$y},XA={readContext:en,use:vc,useCallback:qy,useContext:en,useEffect:By,useImperativeHandle:Fy,useInsertionEffect:Uy,useLayoutEffect:Hy,useMemo:Gy,useReducer:Td,useRef:Ly,useState:function(){return Td(Qi)},useDebugValue:xd,useDeferredValue:function(s,r){var l=Re();return Jt===null?wd(l,s,r):Yy(l,Jt.memoizedState,s,r)},useTransition:function(){var s=Td(Qi)[0],r=Re().memoizedState;return[typeof s=="boolean"?s:dl(s),r]},useSyncExternalStore:Ey,useId:Wy,useHostTransitionStatus:Dd,useFormState:Py,useActionState:Py,useOptimistic:function(s,r){var l=Re();return Jt!==null?Ry(l,Jt,s,r):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:bd,useCacheRefresh:$y},Fr=null,pl=0;function xc(s){var r=pl;return pl+=1,Fr===null&&(Fr=[]),dy(Fr,s,r)}function yl(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function wc(s,r){throw r.$$typeof===_?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function i_(s){var r=s._init;return r(s._payload)}function s_(s){function r(U,B){if(s){var F=U.deletions;F===null?(U.deletions=[B],U.flags|=16):F.push(B)}}function l(U,B){if(!s)return null;for(;B!==null;)r(U,B),B=B.sibling;return null}function c(U){for(var B=new Map;U!==null;)U.key!==null?B.set(U.key,U):B.set(U.index,U),U=U.sibling;return B}function m(U,B){return U=ji(U,B),U.index=0,U.sibling=null,U}function p(U,B,F){return U.index=F,s?(F=U.alternate,F!==null?(F=F.index,F<B?(U.flags|=67108866,B):F):(U.flags|=67108866,B)):(U.flags|=1048576,B)}function T(U){return s&&U.alternate===null&&(U.flags|=67108866),U}function A(U,B,F,J){return B===null||B.tag!==6?(B=Wf(F,U.mode,J),B.return=U,B):(B=m(B,F),B.return=U,B)}function V(U,B,F,J){var ft=F.type;return ft===x?Z(U,B,F.props.children,J,F.key):B!==null&&(B.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===w&&i_(ft)===B.type)?(B=m(B,F.props),yl(B,F),B.return=U,B):(B=lc(F.type,F.key,F.props,null,U.mode,J),yl(B,F),B.return=U,B)}function q(U,B,F,J){return B===null||B.tag!==4||B.stateNode.containerInfo!==F.containerInfo||B.stateNode.implementation!==F.implementation?(B=$f(F,U.mode,J),B.return=U,B):(B=m(B,F.children||[]),B.return=U,B)}function Z(U,B,F,J,ft){return B===null||B.tag!==7?(B=Va(F,U.mode,J,ft),B.return=U,B):(B=m(B,F),B.return=U,B)}function tt(U,B,F){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Wf(""+B,U.mode,F),B.return=U,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case b:return F=lc(B.type,B.key,B.props,null,U.mode,F),yl(F,B),F.return=U,F;case S:return B=$f(B,U.mode,F),B.return=U,B;case w:var J=B._init;return B=J(B._payload),tt(U,B,F)}if(_t(B)||L(B))return B=Va(B,U.mode,F,null),B.return=U,B;if(typeof B.then=="function")return tt(U,xc(B),F);if(B.$$typeof===K)return tt(U,fc(U,B),F);wc(U,B)}return null}function Y(U,B,F,J){var ft=B!==null?B.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return ft!==null?null:A(U,B,""+F,J);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case b:return F.key===ft?V(U,B,F,J):null;case S:return F.key===ft?q(U,B,F,J):null;case w:return ft=F._init,F=ft(F._payload),Y(U,B,F,J)}if(_t(F)||L(F))return ft!==null?null:Z(U,B,F,J,null);if(typeof F.then=="function")return Y(U,B,xc(F),J);if(F.$$typeof===K)return Y(U,B,fc(U,F),J);wc(U,F)}return null}function Q(U,B,F,J,ft){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return U=U.get(F)||null,A(B,U,""+J,ft);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case b:return U=U.get(J.key===null?F:J.key)||null,V(B,U,J,ft);case S:return U=U.get(J.key===null?F:J.key)||null,q(B,U,J,ft);case w:var It=J._init;return J=It(J._payload),Q(U,B,F,J,ft)}if(_t(J)||L(J))return U=U.get(F)||null,Z(B,U,J,ft,null);if(typeof J.then=="function")return Q(U,B,F,xc(J),ft);if(J.$$typeof===K)return Q(U,B,F,fc(B,J),ft);wc(B,J)}return null}function At(U,B,F,J){for(var ft=null,It=null,gt=B,Et=B=0,Fe=null;gt!==null&&Et<F.length;Et++){gt.index>Et?(Fe=gt,gt=null):Fe=gt.sibling;var Ft=Y(U,gt,F[Et],J);if(Ft===null){gt===null&&(gt=Fe);break}s&&gt&&Ft.alternate===null&&r(U,gt),B=p(Ft,B,Et),It===null?ft=Ft:It.sibling=Ft,It=Ft,gt=Fe}if(Et===F.length)return l(U,gt),Gt&&ka(U,Et),ft;if(gt===null){for(;Et<F.length;Et++)gt=tt(U,F[Et],J),gt!==null&&(B=p(gt,B,Et),It===null?ft=gt:It.sibling=gt,It=gt);return Gt&&ka(U,Et),ft}for(gt=c(gt);Et<F.length;Et++)Fe=Q(gt,U,Et,F[Et],J),Fe!==null&&(s&&Fe.alternate!==null&&gt.delete(Fe.key===null?Et:Fe.key),B=p(Fe,B,Et),It===null?ft=Fe:It.sibling=Fe,It=Fe);return s&&gt.forEach(function(Hs){return r(U,Hs)}),Gt&&ka(U,Et),ft}function vt(U,B,F,J){if(F==null)throw Error(i(151));for(var ft=null,It=null,gt=B,Et=B=0,Fe=null,Ft=F.next();gt!==null&&!Ft.done;Et++,Ft=F.next()){gt.index>Et?(Fe=gt,gt=null):Fe=gt.sibling;var Hs=Y(U,gt,Ft.value,J);if(Hs===null){gt===null&&(gt=Fe);break}s&&gt&&Hs.alternate===null&&r(U,gt),B=p(Hs,B,Et),It===null?ft=Hs:It.sibling=Hs,It=Hs,gt=Fe}if(Ft.done)return l(U,gt),Gt&&ka(U,Et),ft;if(gt===null){for(;!Ft.done;Et++,Ft=F.next())Ft=tt(U,Ft.value,J),Ft!==null&&(B=p(Ft,B,Et),It===null?ft=Ft:It.sibling=Ft,It=Ft);return Gt&&ka(U,Et),ft}for(gt=c(gt);!Ft.done;Et++,Ft=F.next())Ft=Q(gt,U,Et,Ft.value,J),Ft!==null&&(s&&Ft.alternate!==null&&gt.delete(Ft.key===null?Et:Ft.key),B=p(Ft,B,Et),It===null?ft=Ft:It.sibling=Ft,It=Ft);return s&&gt.forEach(function(Kx){return r(U,Kx)}),Gt&&ka(U,Et),ft}function ee(U,B,F,J){if(typeof F=="object"&&F!==null&&F.type===x&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case b:t:{for(var ft=F.key;B!==null;){if(B.key===ft){if(ft=F.type,ft===x){if(B.tag===7){l(U,B.sibling),J=m(B,F.props.children),J.return=U,U=J;break t}}else if(B.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===w&&i_(ft)===B.type){l(U,B.sibling),J=m(B,F.props),yl(J,F),J.return=U,U=J;break t}l(U,B);break}else r(U,B);B=B.sibling}F.type===x?(J=Va(F.props.children,U.mode,J,F.key),J.return=U,U=J):(J=lc(F.type,F.key,F.props,null,U.mode,J),yl(J,F),J.return=U,U=J)}return T(U);case S:t:{for(ft=F.key;B!==null;){if(B.key===ft)if(B.tag===4&&B.stateNode.containerInfo===F.containerInfo&&B.stateNode.implementation===F.implementation){l(U,B.sibling),J=m(B,F.children||[]),J.return=U,U=J;break t}else{l(U,B);break}else r(U,B);B=B.sibling}J=$f(F,U.mode,J),J.return=U,U=J}return T(U);case w:return ft=F._init,F=ft(F._payload),ee(U,B,F,J)}if(_t(F))return At(U,B,F,J);if(L(F)){if(ft=L(F),typeof ft!="function")throw Error(i(150));return F=ft.call(F),vt(U,B,F,J)}if(typeof F.then=="function")return ee(U,B,xc(F),J);if(F.$$typeof===K)return ee(U,B,fc(U,F),J);wc(U,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,B!==null&&B.tag===6?(l(U,B.sibling),J=m(B,F),J.return=U,U=J):(l(U,B),J=Wf(F,U.mode,J),J.return=U,U=J),T(U)):l(U,B)}return function(U,B,F,J){try{pl=0;var ft=ee(U,B,F,J);return Fr=null,ft}catch(gt){if(gt===ol||gt===gc)throw gt;var It=An(29,gt,null,U.mode);return It.lanes=J,It.return=U,It}finally{}}}var qr=s_(!0),a_=s_(!1),jn=it(null),yi=null;function ws(s){var r=s.alternate;rt(Ve,Ve.current&1),rt(jn,s),yi===null&&(r===null||Br.current!==null||r.memoizedState!==null)&&(yi=s)}function r_(s){if(s.tag===22){if(rt(Ve,Ve.current),rt(jn,s),yi===null){var r=s.alternate;r!==null&&r.memoizedState!==null&&(yi=s)}}else Rs()}function Rs(){rt(Ve,Ve.current),rt(jn,jn.current)}function Xi(s){lt(jn),yi===s&&(yi=null),lt(Ve)}var Ve=it(0);function Rc(s){for(var r=s;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||vg(l)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Cd(s,r,l,c){r=s.memoizedState,l=l(c,r),l=l==null?r:y({},r,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Od={enqueueSetState:function(s,r,l){s=s._reactInternals;var c=Dn(),m=Ss(c);m.payload=r,l!=null&&(m.callback=l),r=As(s,m,c),r!==null&&(Mn(r,s,c),ul(r,s,c))},enqueueReplaceState:function(s,r,l){s=s._reactInternals;var c=Dn(),m=Ss(c);m.tag=1,m.payload=r,l!=null&&(m.callback=l),r=As(s,m,c),r!==null&&(Mn(r,s,c),ul(r,s,c))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var l=Dn(),c=Ss(l);c.tag=2,r!=null&&(c.callback=r),r=As(s,c,l),r!==null&&(Mn(r,s,l),ul(r,s,l))}};function o_(s,r,l,c,m,p,T){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(c,p,T):r.prototype&&r.prototype.isPureReactComponent?!Jo(l,c)||!Jo(m,p):!0}function l_(s,r,l,c){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,c),r.state!==s&&Od.enqueueReplaceState(r,r.state,null)}function ja(s,r){var l=r;if("ref"in r){l={};for(var c in r)c!=="ref"&&(l[c]=r[c])}if(s=s.defaultProps){l===r&&(l=y({},l));for(var m in s)l[m]===void 0&&(l[m]=s[m])}return l}var Dc=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function u_(s){Dc(s)}function c_(s){console.error(s)}function h_(s){Dc(s)}function Mc(s,r){try{var l=s.onUncaughtError;l(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function f_(s,r,l){try{var c=s.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Id(s,r,l){return l=Ss(l),l.tag=3,l.payload={element:null},l.callback=function(){Mc(s,r)},l}function d_(s){return s=Ss(s),s.tag=3,s}function g_(s,r,l,c){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var p=c.value;s.payload=function(){return m(p)},s.callback=function(){f_(r,l,c)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(s.callback=function(){f_(r,l,c),typeof m!="function"&&(Vs===null?Vs=new Set([this]):Vs.add(this));var A=c.stack;this.componentDidCatch(c.value,{componentStack:A!==null?A:""})})}function KA(s,r,l,c,m){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=l.alternate,r!==null&&sl(r,l,m,!0),l=jn.current,l!==null){switch(l.tag){case 13:return yi===null?ng():l.alternate===null&&ye===0&&(ye=3),l.flags&=-257,l.flags|=65536,l.lanes=m,c===od?l.flags|=16384:(r=l.updateQueue,r===null?l.updateQueue=new Set([c]):r.add(c),sg(s,c,m)),!1;case 22:return l.flags|=65536,c===od?l.flags|=16384:(r=l.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=r):(l=r.retryQueue,l===null?r.retryQueue=new Set([c]):l.add(c)),sg(s,c,m)),!1}throw Error(i(435,l.tag))}return sg(s,c,m),ng(),!1}if(Gt)return r=jn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=m,c!==td&&(s=Error(i(422),{cause:c}),il(zn(s,l)))):(c!==td&&(r=Error(i(423),{cause:c}),il(zn(r,l))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,c=zn(c,l),m=Id(s.stateNode,c,m),cd(s,m),ye!==4&&(ye=2)),!1;var p=Error(i(520),{cause:c});if(p=zn(p,l),Al===null?Al=[p]:Al.push(p),ye!==4&&(ye=2),r===null)return!0;c=zn(c,l),l=r;do{switch(l.tag){case 3:return l.flags|=65536,s=m&-m,l.lanes|=s,s=Id(l.stateNode,c,s),cd(l,s),!1;case 1:if(r=l.type,p=l.stateNode,(l.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Vs===null||!Vs.has(p))))return l.flags|=65536,m&=-m,l.lanes|=m,m=d_(m),g_(m,s,l,c),cd(l,m),!1}l=l.return}while(l!==null);return!1}var m_=Error(i(461)),He=!1;function Xe(s,r,l,c){r.child=s===null?a_(r,null,l,c):qr(r,s.child,l,c)}function p_(s,r,l,c,m){l=l.render;var p=r.ref;if("ref"in c){var T={};for(var A in c)A!=="ref"&&(T[A]=c[A])}else T=c;return Ba(r),c=md(s,r,l,T,p,m),A=pd(),s!==null&&!He?(yd(s,r,m),Ki(s,r,m)):(Gt&&A&&Zf(r),r.flags|=1,Xe(s,r,c,m),r.child)}function y_(s,r,l,c,m){if(s===null){var p=l.type;return typeof p=="function"&&!Kf(p)&&p.defaultProps===void 0&&l.compare===null?(r.tag=15,r.type=p,__(s,r,p,c,m)):(s=lc(l.type,null,c,r,r.mode,m),s.ref=r.ref,s.return=r,r.child=s)}if(p=s.child,!Ud(s,m)){var T=p.memoizedProps;if(l=l.compare,l=l!==null?l:Jo,l(T,c)&&s.ref===r.ref)return Ki(s,r,m)}return r.flags|=1,s=ji(p,c),s.ref=r.ref,s.return=r,r.child=s}function __(s,r,l,c,m){if(s!==null){var p=s.memoizedProps;if(Jo(p,c)&&s.ref===r.ref)if(He=!1,r.pendingProps=c=p,Ud(s,m))(s.flags&131072)!==0&&(He=!0);else return r.lanes=s.lanes,Ki(s,r,m)}return Vd(s,r,l,c,m)}function v_(s,r,l){var c=r.pendingProps,m=c.children,p=s!==null?s.memoizedState:null;if(c.mode==="hidden"){if((r.flags&128)!==0){if(c=p!==null?p.baseLanes|l:l,s!==null){for(m=r.child=s.child,p=0;m!==null;)p=p|m.lanes|m.childLanes,m=m.sibling;r.childLanes=p&~c}else r.childLanes=0,r.child=null;return b_(s,r,c,l)}if((l&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&dc(r,p!==null?p.cachePool:null),p!==null?_y(r,p):fd(),r_(r);else return r.lanes=r.childLanes=536870912,b_(s,r,p!==null?p.baseLanes|l:l,l)}else p!==null?(dc(r,p.cachePool),_y(r,p),Rs(),r.memoizedState=null):(s!==null&&dc(r,null),fd(),Rs());return Xe(s,r,m,l),r.child}function b_(s,r,l,c){var m=rd();return m=m===null?null:{parent:Ie._currentValue,pool:m},r.memoizedState={baseLanes:l,cachePool:m},s!==null&&dc(r,null),fd(),r_(r),s!==null&&sl(s,r,c,!0),null}function Cc(s,r){var l=r.ref;if(l===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(r.flags|=4194816)}}function Vd(s,r,l,c,m){return Ba(r),l=md(s,r,l,c,void 0,m),c=pd(),s!==null&&!He?(yd(s,r,m),Ki(s,r,m)):(Gt&&c&&Zf(r),r.flags|=1,Xe(s,r,l,m),r.child)}function E_(s,r,l,c,m,p){return Ba(r),r.updateQueue=null,l=by(r,c,l,m),vy(s),c=pd(),s!==null&&!He?(yd(s,r,p),Ki(s,r,p)):(Gt&&c&&Zf(r),r.flags|=1,Xe(s,r,l,p),r.child)}function T_(s,r,l,c,m){if(Ba(r),r.stateNode===null){var p=Nr,T=l.contextType;typeof T=="object"&&T!==null&&(p=en(T)),p=new l(c,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Od,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=c,p.state=r.memoizedState,p.refs={},ld(r),T=l.contextType,p.context=typeof T=="object"&&T!==null?en(T):Nr,p.state=r.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(Cd(r,l,T,c),p.state=r.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(T=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),T!==p.state&&Od.enqueueReplaceState(p,p.state,null),hl(r,c,p,m),cl(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(s===null){p=r.stateNode;var A=r.memoizedProps,V=ja(l,A);p.props=V;var q=p.context,Z=l.contextType;T=Nr,typeof Z=="object"&&Z!==null&&(T=en(Z));var tt=l.getDerivedStateFromProps;Z=typeof tt=="function"||typeof p.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,Z||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(A||q!==T)&&l_(r,p,c,T),Ts=!1;var Y=r.memoizedState;p.state=Y,hl(r,c,p,m),cl(),q=r.memoizedState,A||Y!==q||Ts?(typeof tt=="function"&&(Cd(r,l,tt,c),q=r.memoizedState),(V=Ts||o_(r,l,V,c,Y,q,T))?(Z||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=q),p.props=c,p.state=q,p.context=T,c=V):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{p=r.stateNode,ud(s,r),T=r.memoizedProps,Z=ja(l,T),p.props=Z,tt=r.pendingProps,Y=p.context,q=l.contextType,V=Nr,typeof q=="object"&&q!==null&&(V=en(q)),A=l.getDerivedStateFromProps,(q=typeof A=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T!==tt||Y!==V)&&l_(r,p,c,V),Ts=!1,Y=r.memoizedState,p.state=Y,hl(r,c,p,m),cl();var Q=r.memoizedState;T!==tt||Y!==Q||Ts||s!==null&&s.dependencies!==null&&hc(s.dependencies)?(typeof A=="function"&&(Cd(r,l,A,c),Q=r.memoizedState),(Z=Ts||o_(r,l,Z,c,Y,Q,V)||s!==null&&s.dependencies!==null&&hc(s.dependencies))?(q||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(c,Q,V),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(c,Q,V)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||T===s.memoizedProps&&Y===s.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&Y===s.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=Q),p.props=c,p.state=Q,p.context=V,c=Z):(typeof p.componentDidUpdate!="function"||T===s.memoizedProps&&Y===s.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&Y===s.memoizedState||(r.flags|=1024),c=!1)}return p=c,Cc(s,r),c=(r.flags&128)!==0,p||c?(p=r.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,s!==null&&c?(r.child=qr(r,s.child,null,m),r.child=qr(r,null,l,m)):Xe(s,r,l,m),r.memoizedState=p.state,s=r.child):s=Ki(s,r,m),s}function S_(s,r,l,c){return nl(),r.flags|=256,Xe(s,r,l,c),r.child}var Nd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function kd(s){return{baseLanes:s,cachePool:cy()}}function Pd(s,r,l){return s=s!==null?s.childLanes&~l:0,r&&(s|=Fn),s}function A_(s,r,l){var c=r.pendingProps,m=!1,p=(r.flags&128)!==0,T;if((T=p)||(T=s!==null&&s.memoizedState===null?!1:(Ve.current&2)!==0),T&&(m=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,s===null){if(Gt){if(m?ws(r):Rs(),Gt){var A=pe,V;if(V=A){t:{for(V=A,A=pi;V.nodeType!==8;){if(!A){A=null;break t}if(V=Zn(V.nextSibling),V===null){A=null;break t}}A=V}A!==null?(r.memoizedState={dehydrated:A,treeContext:Na!==null?{id:Fi,overflow:qi}:null,retryLane:536870912,hydrationErrors:null},V=An(18,null,null,0),V.stateNode=A,V.return=r,r.child=V,dn=r,pe=null,V=!0):V=!1}V||La(r)}if(A=r.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return vg(A)?r.lanes=32:r.lanes=536870912,null;Xi(r)}return A=c.children,c=c.fallback,m?(Rs(),m=r.mode,A=Oc({mode:"hidden",children:A},m),c=Va(c,m,l,null),A.return=r,c.return=r,A.sibling=c,r.child=A,m=r.child,m.memoizedState=kd(l),m.childLanes=Pd(s,T,l),r.memoizedState=Nd,c):(ws(r),Ld(r,A))}if(V=s.memoizedState,V!==null&&(A=V.dehydrated,A!==null)){if(p)r.flags&256?(ws(r),r.flags&=-257,r=zd(s,r,l)):r.memoizedState!==null?(Rs(),r.child=s.child,r.flags|=128,r=null):(Rs(),m=c.fallback,A=r.mode,c=Oc({mode:"visible",children:c.children},A),m=Va(m,A,l,null),m.flags|=2,c.return=r,m.return=r,c.sibling=m,r.child=c,qr(r,s.child,null,l),c=r.child,c.memoizedState=kd(l),c.childLanes=Pd(s,T,l),r.memoizedState=Nd,r=m);else if(ws(r),vg(A)){if(T=A.nextSibling&&A.nextSibling.dataset,T)var q=T.dgst;T=q,c=Error(i(419)),c.stack="",c.digest=T,il({value:c,source:null,stack:null}),r=zd(s,r,l)}else if(He||sl(s,r,l,!1),T=(l&s.childLanes)!==0,He||T){if(T=se,T!==null&&(c=l&-l,c=(c&42)!==0?1:gs(c),c=(c&(T.suspendedLanes|l))!==0?0:c,c!==0&&c!==V.retryLane))throw V.retryLane=c,Vr(s,c),Mn(T,s,c),m_;A.data==="$?"||ng(),r=zd(s,r,l)}else A.data==="$?"?(r.flags|=192,r.child=s.child,r=null):(s=V.treeContext,pe=Zn(A.nextSibling),dn=r,Gt=!0,Pa=null,pi=!1,s!==null&&(Un[Hn++]=Fi,Un[Hn++]=qi,Un[Hn++]=Na,Fi=s.id,qi=s.overflow,Na=r),r=Ld(r,c.children),r.flags|=4096);return r}return m?(Rs(),m=c.fallback,A=r.mode,V=s.child,q=V.sibling,c=ji(V,{mode:"hidden",children:c.children}),c.subtreeFlags=V.subtreeFlags&65011712,q!==null?m=ji(q,m):(m=Va(m,A,l,null),m.flags|=2),m.return=r,c.return=r,c.sibling=m,r.child=c,c=m,m=r.child,A=s.child.memoizedState,A===null?A=kd(l):(V=A.cachePool,V!==null?(q=Ie._currentValue,V=V.parent!==q?{parent:q,pool:q}:V):V=cy(),A={baseLanes:A.baseLanes|l,cachePool:V}),m.memoizedState=A,m.childLanes=Pd(s,T,l),r.memoizedState=Nd,c):(ws(r),l=s.child,s=l.sibling,l=ji(l,{mode:"visible",children:c.children}),l.return=r,l.sibling=null,s!==null&&(T=r.deletions,T===null?(r.deletions=[s],r.flags|=16):T.push(s)),r.child=l,r.memoizedState=null,l)}function Ld(s,r){return r=Oc({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function Oc(s,r){return s=An(22,s,null,r),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function zd(s,r,l){return qr(r,s.child,null,l),s=Ld(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function x_(s,r,l){s.lanes|=r;var c=s.alternate;c!==null&&(c.lanes|=r),nd(s.return,r,l)}function Bd(s,r,l,c,m){var p=s.memoizedState;p===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:m}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=c,p.tail=l,p.tailMode=m)}function w_(s,r,l){var c=r.pendingProps,m=c.revealOrder,p=c.tail;if(Xe(s,r,c.children,l),c=Ve.current,(c&2)!==0)c=c&1|2,r.flags|=128;else{if(s!==null&&(s.flags&128)!==0)t:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&x_(s,l,r);else if(s.tag===19)x_(s,l,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break t;for(;s.sibling===null;){if(s.return===null||s.return===r)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}c&=1}switch(rt(Ve,c),m){case"forwards":for(l=r.child,m=null;l!==null;)s=l.alternate,s!==null&&Rc(s)===null&&(m=l),l=l.sibling;l=m,l===null?(m=r.child,r.child=null):(m=l.sibling,l.sibling=null),Bd(r,!1,m,l,p);break;case"backwards":for(l=null,m=r.child,r.child=null;m!==null;){if(s=m.alternate,s!==null&&Rc(s)===null){r.child=m;break}s=m.sibling,m.sibling=l,l=m,m=s}Bd(r,!0,l,null,p);break;case"together":Bd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Ki(s,r,l){if(s!==null&&(r.dependencies=s.dependencies),Is|=r.lanes,(l&r.childLanes)===0)if(s!==null){if(sl(s,r,l,!1),(l&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,l=ji(s,s.pendingProps),r.child=l,l.return=r;s.sibling!==null;)s=s.sibling,l=l.sibling=ji(s,s.pendingProps),l.return=r;l.sibling=null}return r.child}function Ud(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&hc(s)))}function WA(s,r,l){switch(r.tag){case 3:ie(r,r.stateNode.containerInfo),Es(r,Ie,s.memoizedState.cache),nl();break;case 27:case 5:ds(r);break;case 4:ie(r,r.stateNode.containerInfo);break;case 10:Es(r,r.type,r.memoizedProps.value);break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(ws(r),r.flags|=128,null):(l&r.child.childLanes)!==0?A_(s,r,l):(ws(r),s=Ki(s,r,l),s!==null?s.sibling:null);ws(r);break;case 19:var m=(s.flags&128)!==0;if(c=(l&r.childLanes)!==0,c||(sl(s,r,l,!1),c=(l&r.childLanes)!==0),m){if(c)return w_(s,r,l);r.flags|=128}if(m=r.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),rt(Ve,Ve.current),c)break;return null;case 22:case 23:return r.lanes=0,v_(s,r,l);case 24:Es(r,Ie,s.memoizedState.cache)}return Ki(s,r,l)}function R_(s,r,l){if(s!==null)if(s.memoizedProps!==r.pendingProps)He=!0;else{if(!Ud(s,l)&&(r.flags&128)===0)return He=!1,WA(s,r,l);He=(s.flags&131072)!==0}else He=!1,Gt&&(r.flags&1048576)!==0&&iy(r,cc,r.index);switch(r.lanes=0,r.tag){case 16:t:{s=r.pendingProps;var c=r.elementType,m=c._init;if(c=m(c._payload),r.type=c,typeof c=="function")Kf(c)?(s=ja(c,s),r.tag=1,r=T_(null,r,c,s,l)):(r.tag=0,r=Vd(null,r,c,s,l));else{if(c!=null){if(m=c.$$typeof,m===$){r.tag=11,r=p_(null,r,c,s,l);break t}else if(m===O){r.tag=14,r=y_(null,r,c,s,l);break t}}throw r=qt(c)||c,Error(i(306,r,""))}}return r;case 0:return Vd(s,r,r.type,r.pendingProps,l);case 1:return c=r.type,m=ja(c,r.pendingProps),T_(s,r,c,m,l);case 3:t:{if(ie(r,r.stateNode.containerInfo),s===null)throw Error(i(387));c=r.pendingProps;var p=r.memoizedState;m=p.element,ud(s,r),hl(r,c,null,l);var T=r.memoizedState;if(c=T.cache,Es(r,Ie,c),c!==p.cache&&id(r,[Ie],l,!0),cl(),c=T.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){r=S_(s,r,c,l);break t}else if(c!==m){m=zn(Error(i(424)),r),il(m),r=S_(s,r,c,l);break t}else{switch(s=r.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(pe=Zn(s.firstChild),dn=r,Gt=!0,Pa=null,pi=!0,l=a_(r,null,c,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(nl(),c===m){r=Ki(s,r,l);break t}Xe(s,r,c,l)}r=r.child}return r;case 26:return Cc(s,r),s===null?(l=O0(r.type,null,r.pendingProps,null))?r.memoizedState=l:Gt||(l=r.type,s=r.pendingProps,c=Gc(pt.current).createElement(l),c[Me]=r,c[Ae]=s,We(c,l,s),ve(c),r.stateNode=c):r.memoizedState=O0(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return ds(r),s===null&&Gt&&(c=r.stateNode=D0(r.type,r.pendingProps,pt.current),dn=r,pi=!0,m=pe,Ps(r.type)?(bg=m,pe=Zn(c.firstChild)):pe=m),Xe(s,r,r.pendingProps.children,l),Cc(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&Gt&&((m=c=pe)&&(c=Ax(c,r.type,r.pendingProps,pi),c!==null?(r.stateNode=c,dn=r,pe=Zn(c.firstChild),pi=!1,m=!0):m=!1),m||La(r)),ds(r),m=r.type,p=r.pendingProps,T=s!==null?s.memoizedProps:null,c=p.children,pg(m,p)?c=null:T!==null&&pg(m,T)&&(r.flags|=32),r.memoizedState!==null&&(m=md(s,r,jA,null,null,l),Vl._currentValue=m),Cc(s,r),Xe(s,r,c,l),r.child;case 6:return s===null&&Gt&&((s=l=pe)&&(l=xx(l,r.pendingProps,pi),l!==null?(r.stateNode=l,dn=r,pe=null,s=!0):s=!1),s||La(r)),null;case 13:return A_(s,r,l);case 4:return ie(r,r.stateNode.containerInfo),c=r.pendingProps,s===null?r.child=qr(r,null,c,l):Xe(s,r,c,l),r.child;case 11:return p_(s,r,r.type,r.pendingProps,l);case 7:return Xe(s,r,r.pendingProps,l),r.child;case 8:return Xe(s,r,r.pendingProps.children,l),r.child;case 12:return Xe(s,r,r.pendingProps.children,l),r.child;case 10:return c=r.pendingProps,Es(r,r.type,c.value),Xe(s,r,c.children,l),r.child;case 9:return m=r.type._context,c=r.pendingProps.children,Ba(r),m=en(m),c=c(m),r.flags|=1,Xe(s,r,c,l),r.child;case 14:return y_(s,r,r.type,r.pendingProps,l);case 15:return __(s,r,r.type,r.pendingProps,l);case 19:return w_(s,r,l);case 31:return c=r.pendingProps,l=r.mode,c={mode:c.mode,children:c.children},s===null?(l=Oc(c,l),l.ref=r.ref,r.child=l,l.return=r,r=l):(l=ji(s.child,c),l.ref=r.ref,r.child=l,l.return=r,r=l),r;case 22:return v_(s,r,l);case 24:return Ba(r),c=en(Ie),s===null?(m=rd(),m===null&&(m=se,p=sd(),m.pooledCache=p,p.refCount++,p!==null&&(m.pooledCacheLanes|=l),m=p),r.memoizedState={parent:c,cache:m},ld(r),Es(r,Ie,m)):((s.lanes&l)!==0&&(ud(s,r),hl(r,null,null,l),cl()),m=s.memoizedState,p=r.memoizedState,m.parent!==c?(m={parent:c,cache:c},r.memoizedState=m,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=m),Es(r,Ie,c)):(c=p.cache,Es(r,Ie,c),c!==m.cache&&id(r,[Ie],l,!0))),Xe(s,r,r.pendingProps.children,l),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function Wi(s){s.flags|=4}function D_(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!P0(r)){if(r=jn.current,r!==null&&((Ut&4194048)===Ut?yi!==null:(Ut&62914560)!==Ut&&(Ut&536870912)===0||r!==yi))throw ll=od,hy;s.flags|=8192}}function Ic(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?ko():536870912,s.lanes|=r,Xr|=r)}function _l(s,r){if(!Gt)switch(s.tailMode){case"hidden":r=s.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:c.sibling=null}}function de(s){var r=s.alternate!==null&&s.alternate.child===s.child,l=0,c=0;if(r)for(var m=s.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=c,s.childLanes=l,r}function $A(s,r,l){var c=r.pendingProps;switch(Jf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return de(r),null;case 1:return de(r),null;case 3:return l=r.stateNode,c=null,s!==null&&(c=s.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),Yi(Ie),si(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(el(r)?Wi(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,ry())),de(r),null;case 26:return l=r.memoizedState,s===null?(Wi(r),l!==null?(de(r),D_(r,l)):(de(r),r.flags&=-16777217)):l?l!==s.memoizedState?(Wi(r),de(r),D_(r,l)):(de(r),r.flags&=-16777217):(s.memoizedProps!==c&&Wi(r),de(r),r.flags&=-16777217),null;case 27:Mi(r),l=pt.current;var m=r.type;if(s!==null&&r.stateNode!=null)s.memoizedProps!==c&&Wi(r);else{if(!c){if(r.stateNode===null)throw Error(i(166));return de(r),null}s=dt.current,el(r)?sy(r):(s=D0(m,c,l),r.stateNode=s,Wi(r))}return de(r),null;case 5:if(Mi(r),l=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==c&&Wi(r);else{if(!c){if(r.stateNode===null)throw Error(i(166));return de(r),null}if(s=dt.current,el(r))sy(r);else{switch(m=Gc(pt.current),s){case 1:s=m.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=m.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=m.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof c.is=="string"?m.createElement("select",{is:c.is}):m.createElement("select"),c.multiple?s.multiple=!0:c.size&&(s.size=c.size);break;default:s=typeof c.is=="string"?m.createElement(l,{is:c.is}):m.createElement(l)}}s[Me]=r,s[Ae]=c;t:for(m=r.child;m!==null;){if(m.tag===5||m.tag===6)s.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===r)break t;for(;m.sibling===null;){if(m.return===null||m.return===r)break t;m=m.return}m.sibling.return=m.return,m=m.sibling}r.stateNode=s;t:switch(We(s,l,c),l){case"button":case"input":case"select":case"textarea":s=!!c.autoFocus;break t;case"img":s=!0;break t;default:s=!1}s&&Wi(r)}}return de(r),r.flags&=-16777217,null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==c&&Wi(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(i(166));if(s=pt.current,el(r)){if(s=r.stateNode,l=r.memoizedProps,c=null,m=dn,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}s[Me]=r,s=!!(s.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||E0(s.nodeValue,l)),s||La(r)}else s=Gc(s).createTextNode(c),s[Me]=r,r.stateNode=s}return de(r),null;case 13:if(c=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=el(r),c!==null&&c.dehydrated!==null){if(s===null){if(!m)throw Error(i(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[Me]=r}else nl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;de(r),m=!1}else m=ry(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),m=!0;if(!m)return r.flags&256?(Xi(r),r):(Xi(r),null)}if(Xi(r),(r.flags&128)!==0)return r.lanes=l,r;if(l=c!==null,s=s!==null&&s.memoizedState!==null,l){c=r.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool);var p=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==m&&(c.flags|=2048)}return l!==s&&l&&(r.child.flags|=8192),Ic(r,r.updateQueue),de(r),null;case 4:return si(),s===null&&hg(r.stateNode.containerInfo),de(r),null;case 10:return Yi(r.type),de(r),null;case 19:if(lt(Ve),m=r.memoizedState,m===null)return de(r),null;if(c=(r.flags&128)!==0,p=m.rendering,p===null)if(c)_l(m,!1);else{if(ye!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(p=Rc(s),p!==null){for(r.flags|=128,_l(m,!1),s=p.updateQueue,r.updateQueue=s,Ic(r,s),r.subtreeFlags=0,s=l,l=r.child;l!==null;)ny(l,s),l=l.sibling;return rt(Ve,Ve.current&1|2),r.child}s=s.sibling}m.tail!==null&&In()>kc&&(r.flags|=128,c=!0,_l(m,!1),r.lanes=4194304)}else{if(!c)if(s=Rc(p),s!==null){if(r.flags|=128,c=!0,s=s.updateQueue,r.updateQueue=s,Ic(r,s),_l(m,!0),m.tail===null&&m.tailMode==="hidden"&&!p.alternate&&!Gt)return de(r),null}else 2*In()-m.renderingStartTime>kc&&l!==536870912&&(r.flags|=128,c=!0,_l(m,!1),r.lanes=4194304);m.isBackwards?(p.sibling=r.child,r.child=p):(s=m.last,s!==null?s.sibling=p:r.child=p,m.last=p)}return m.tail!==null?(r=m.tail,m.rendering=r,m.tail=r.sibling,m.renderingStartTime=In(),r.sibling=null,s=Ve.current,rt(Ve,c?s&1|2:s&1),r):(de(r),null);case 22:case 23:return Xi(r),dd(),c=r.memoizedState!==null,s!==null?s.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(l&536870912)!==0&&(r.flags&128)===0&&(de(r),r.subtreeFlags&6&&(r.flags|=8192)):de(r),l=r.updateQueue,l!==null&&Ic(r,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==l&&(r.flags|=2048),s!==null&&lt(Ua),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Yi(Ie),de(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function ZA(s,r){switch(Jf(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return Yi(Ie),si(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return Mi(r),null;case 13:if(Xi(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));nl()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return lt(Ve),null;case 4:return si(),null;case 10:return Yi(r.type),null;case 22:case 23:return Xi(r),dd(),s!==null&&lt(Ua),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return Yi(Ie),null;case 25:return null;default:return null}}function M_(s,r){switch(Jf(r),r.tag){case 3:Yi(Ie),si();break;case 26:case 27:case 5:Mi(r);break;case 4:si();break;case 13:Xi(r);break;case 19:lt(Ve);break;case 10:Yi(r.type);break;case 22:case 23:Xi(r),dd(),s!==null&&lt(Ua);break;case 24:Yi(Ie)}}function vl(s,r){try{var l=r.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var m=c.next;l=m;do{if((l.tag&s)===s){c=void 0;var p=l.create,T=l.inst;c=p(),T.destroy=c}l=l.next}while(l!==m)}}catch(A){ne(r,r.return,A)}}function Ds(s,r,l){try{var c=r.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var p=m.next;c=p;do{if((c.tag&s)===s){var T=c.inst,A=T.destroy;if(A!==void 0){T.destroy=void 0,m=r;var V=l,q=A;try{q()}catch(Z){ne(m,V,Z)}}}c=c.next}while(c!==p)}}catch(Z){ne(r,r.return,Z)}}function C_(s){var r=s.updateQueue;if(r!==null){var l=s.stateNode;try{yy(r,l)}catch(c){ne(s,s.return,c)}}}function O_(s,r,l){l.props=ja(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(c){ne(s,r,c)}}function bl(s,r){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var c=s.stateNode;break;case 30:c=s.stateNode;break;default:c=s.stateNode}typeof l=="function"?s.refCleanup=l(c):l.current=c}}catch(m){ne(s,r,m)}}function _i(s,r){var l=s.ref,c=s.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(m){ne(s,r,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){ne(s,r,m)}else l.current=null}function I_(s){var r=s.type,l=s.memoizedProps,c=s.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break t;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(m){ne(s,s.return,m)}}function Hd(s,r,l){try{var c=s.stateNode;vx(c,s.type,l,r),c[Ae]=r}catch(m){ne(s,s.return,m)}}function V_(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Ps(s.type)||s.tag===4}function jd(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||V_(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Ps(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Fd(s,r,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,r?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,r):(r=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,r.appendChild(s),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=qc));else if(c!==4&&(c===27&&Ps(s.type)&&(l=s.stateNode,r=null),s=s.child,s!==null))for(Fd(s,r,l),s=s.sibling;s!==null;)Fd(s,r,l),s=s.sibling}function Vc(s,r,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,r?l.insertBefore(s,r):l.appendChild(s);else if(c!==4&&(c===27&&Ps(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(Vc(s,r,l),s=s.sibling;s!==null;)Vc(s,r,l),s=s.sibling}function N_(s){var r=s.stateNode,l=s.memoizedProps;try{for(var c=s.type,m=r.attributes;m.length;)r.removeAttributeNode(m[0]);We(r,c,l),r[Me]=s,r[Ae]=l}catch(p){ne(s,s.return,p)}}var $i=!1,Ee=!1,qd=!1,k_=typeof WeakSet=="function"?WeakSet:Set,je=null;function JA(s,r){if(s=s.containerInfo,gg=$c,s=Yp(s),jf(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else t:{l=(l=s.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var m=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{l.nodeType,p.nodeType}catch{l=null;break t}var T=0,A=-1,V=-1,q=0,Z=0,tt=s,Y=null;e:for(;;){for(var Q;tt!==l||m!==0&&tt.nodeType!==3||(A=T+m),tt!==p||c!==0&&tt.nodeType!==3||(V=T+c),tt.nodeType===3&&(T+=tt.nodeValue.length),(Q=tt.firstChild)!==null;)Y=tt,tt=Q;for(;;){if(tt===s)break e;if(Y===l&&++q===m&&(A=T),Y===p&&++Z===c&&(V=T),(Q=tt.nextSibling)!==null)break;tt=Y,Y=tt.parentNode}tt=Q}l=A===-1||V===-1?null:{start:A,end:V}}else l=null}l=l||{start:0,end:0}}else l=null;for(mg={focusedElem:s,selectionRange:l},$c=!1,je=r;je!==null;)if(r=je,s=r.child,(r.subtreeFlags&1024)!==0&&s!==null)s.return=r,je=s;else for(;je!==null;){switch(r=je,p=r.alternate,s=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&p!==null){s=void 0,l=r,m=p.memoizedProps,p=p.memoizedState,c=l.stateNode;try{var At=ja(l.type,m,l.elementType===l.type);s=c.getSnapshotBeforeUpdate(At,p),c.__reactInternalSnapshotBeforeUpdate=s}catch(vt){ne(l,l.return,vt)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,l=s.nodeType,l===9)_g(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":_g(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,je=s;break}je=r.return}}function P_(s,r,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:Ms(s,l),c&4&&vl(5,l);break;case 1:if(Ms(s,l),c&4)if(s=l.stateNode,r===null)try{s.componentDidMount()}catch(T){ne(l,l.return,T)}else{var m=ja(l.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(m,r,s.__reactInternalSnapshotBeforeUpdate)}catch(T){ne(l,l.return,T)}}c&64&&C_(l),c&512&&bl(l,l.return);break;case 3:if(Ms(s,l),c&64&&(s=l.updateQueue,s!==null)){if(r=null,l.child!==null)switch(l.child.tag){case 27:case 5:r=l.child.stateNode;break;case 1:r=l.child.stateNode}try{yy(s,r)}catch(T){ne(l,l.return,T)}}break;case 27:r===null&&c&4&&N_(l);case 26:case 5:Ms(s,l),r===null&&c&4&&I_(l),c&512&&bl(l,l.return);break;case 12:Ms(s,l);break;case 13:Ms(s,l),c&4&&B_(s,l),c&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=lx.bind(null,l),wx(s,l))));break;case 22:if(c=l.memoizedState!==null||$i,!c){r=r!==null&&r.memoizedState!==null||Ee,m=$i;var p=Ee;$i=c,(Ee=r)&&!p?Cs(s,l,(l.subtreeFlags&8772)!==0):Ms(s,l),$i=m,Ee=p}break;case 30:break;default:Ms(s,l)}}function L_(s){var r=s.alternate;r!==null&&(s.alternate=null,L_(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&ys(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var ue=null,mn=!1;function Zi(s,r,l){for(l=l.child;l!==null;)z_(s,r,l),l=l.sibling}function z_(s,r,l){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(me,l)}catch{}switch(l.tag){case 26:Ee||_i(l,r),Zi(s,r,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ee||_i(l,r);var c=ue,m=mn;Ps(l.type)&&(ue=l.stateNode,mn=!1),Zi(s,r,l),Ml(l.stateNode),ue=c,mn=m;break;case 5:Ee||_i(l,r);case 6:if(c=ue,m=mn,ue=null,Zi(s,r,l),ue=c,mn=m,ue!==null)if(mn)try{(ue.nodeType===9?ue.body:ue.nodeName==="HTML"?ue.ownerDocument.body:ue).removeChild(l.stateNode)}catch(p){ne(l,r,p)}else try{ue.removeChild(l.stateNode)}catch(p){ne(l,r,p)}break;case 18:ue!==null&&(mn?(s=ue,w0(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),Ll(s)):w0(ue,l.stateNode));break;case 4:c=ue,m=mn,ue=l.stateNode.containerInfo,mn=!0,Zi(s,r,l),ue=c,mn=m;break;case 0:case 11:case 14:case 15:Ee||Ds(2,l,r),Ee||Ds(4,l,r),Zi(s,r,l);break;case 1:Ee||(_i(l,r),c=l.stateNode,typeof c.componentWillUnmount=="function"&&O_(l,r,c)),Zi(s,r,l);break;case 21:Zi(s,r,l);break;case 22:Ee=(c=Ee)||l.memoizedState!==null,Zi(s,r,l),Ee=c;break;default:Zi(s,r,l)}}function B_(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Ll(s)}catch(l){ne(r,r.return,l)}}function tx(s){switch(s.tag){case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new k_),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new k_),r;default:throw Error(i(435,s.tag))}}function Gd(s,r){var l=tx(s);r.forEach(function(c){var m=ux.bind(null,s,c);l.has(c)||(l.add(c),c.then(m,m))})}function xn(s,r){var l=r.deletions;if(l!==null)for(var c=0;c<l.length;c++){var m=l[c],p=s,T=r,A=T;t:for(;A!==null;){switch(A.tag){case 27:if(Ps(A.type)){ue=A.stateNode,mn=!1;break t}break;case 5:ue=A.stateNode,mn=!1;break t;case 3:case 4:ue=A.stateNode.containerInfo,mn=!0;break t}A=A.return}if(ue===null)throw Error(i(160));z_(p,T,m),ue=null,mn=!1,p=m.alternate,p!==null&&(p.return=null),m.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)U_(r,s),r=r.sibling}var $n=null;function U_(s,r){var l=s.alternate,c=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:xn(r,s),wn(s),c&4&&(Ds(3,s,s.return),vl(3,s),Ds(5,s,s.return));break;case 1:xn(r,s),wn(s),c&512&&(Ee||l===null||_i(l,l.return)),c&64&&$i&&(s=s.updateQueue,s!==null&&(c=s.callbacks,c!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var m=$n;if(xn(r,s),wn(s),c&512&&(Ee||l===null||_i(l,l.return)),c&4){var p=l!==null?l.memoizedState:null;if(c=s.memoizedState,l===null)if(c===null)if(s.stateNode===null){t:{c=s.type,l=s.memoizedProps,m=m.ownerDocument||m;e:switch(c){case"title":p=m.getElementsByTagName("title")[0],(!p||p[ya]||p[Me]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=m.createElement(c),m.head.insertBefore(p,m.querySelector("head > title"))),We(p,c,l),p[Me]=s,ve(p),c=p;break t;case"link":var T=N0("link","href",m).get(c+(l.href||""));if(T){for(var A=0;A<T.length;A++)if(p=T[A],p.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&p.getAttribute("rel")===(l.rel==null?null:l.rel)&&p.getAttribute("title")===(l.title==null?null:l.title)&&p.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(A,1);break e}}p=m.createElement(c),We(p,c,l),m.head.appendChild(p);break;case"meta":if(T=N0("meta","content",m).get(c+(l.content||""))){for(A=0;A<T.length;A++)if(p=T[A],p.getAttribute("content")===(l.content==null?null:""+l.content)&&p.getAttribute("name")===(l.name==null?null:l.name)&&p.getAttribute("property")===(l.property==null?null:l.property)&&p.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&p.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(A,1);break e}}p=m.createElement(c),We(p,c,l),m.head.appendChild(p);break;default:throw Error(i(468,c))}p[Me]=s,ve(p),c=p}s.stateNode=c}else k0(m,s.type,s.stateNode);else s.stateNode=V0(m,c,s.memoizedProps);else p!==c?(p===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):p.count--,c===null?k0(m,s.type,s.stateNode):V0(m,c,s.memoizedProps)):c===null&&s.stateNode!==null&&Hd(s,s.memoizedProps,l.memoizedProps)}break;case 27:xn(r,s),wn(s),c&512&&(Ee||l===null||_i(l,l.return)),l!==null&&c&4&&Hd(s,s.memoizedProps,l.memoizedProps);break;case 5:if(xn(r,s),wn(s),c&512&&(Ee||l===null||_i(l,l.return)),s.flags&32){m=s.stateNode;try{Nn(m,"")}catch(Q){ne(s,s.return,Q)}}c&4&&s.stateNode!=null&&(m=s.memoizedProps,Hd(s,m,l!==null?l.memoizedProps:m)),c&1024&&(qd=!0);break;case 6:if(xn(r,s),wn(s),c&4){if(s.stateNode===null)throw Error(i(162));c=s.memoizedProps,l=s.stateNode;try{l.nodeValue=c}catch(Q){ne(s,s.return,Q)}}break;case 3:if(Xc=null,m=$n,$n=Yc(r.containerInfo),xn(r,s),$n=m,wn(s),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Ll(r.containerInfo)}catch(Q){ne(s,s.return,Q)}qd&&(qd=!1,H_(s));break;case 4:c=$n,$n=Yc(s.stateNode.containerInfo),xn(r,s),wn(s),$n=c;break;case 12:xn(r,s),wn(s);break;case 13:xn(r,s),wn(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&($d=In()),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Gd(s,c)));break;case 22:m=s.memoizedState!==null;var V=l!==null&&l.memoizedState!==null,q=$i,Z=Ee;if($i=q||m,Ee=Z||V,xn(r,s),Ee=Z,$i=q,wn(s),c&8192)t:for(r=s.stateNode,r._visibility=m?r._visibility&-2:r._visibility|1,m&&(l===null||V||$i||Ee||Fa(s)),l=null,r=s;;){if(r.tag===5||r.tag===26){if(l===null){V=l=r;try{if(p=V.stateNode,m)T=p.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{A=V.stateNode;var tt=V.memoizedProps.style,Y=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;A.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(Q){ne(V,V.return,Q)}}}else if(r.tag===6){if(l===null){V=r;try{V.stateNode.nodeValue=m?"":V.memoizedProps}catch(Q){ne(V,V.return,Q)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break t;for(;r.sibling===null;){if(r.return===null||r.return===s)break t;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=s.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,Gd(s,l))));break;case 19:xn(r,s),wn(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Gd(s,c)));break;case 30:break;case 21:break;default:xn(r,s),wn(s)}}function wn(s){var r=s.flags;if(r&2){try{for(var l,c=s.return;c!==null;){if(V_(c)){l=c;break}c=c.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var m=l.stateNode,p=jd(s);Vc(s,p,m);break;case 5:var T=l.stateNode;l.flags&32&&(Nn(T,""),l.flags&=-33);var A=jd(s);Vc(s,A,T);break;case 3:case 4:var V=l.stateNode.containerInfo,q=jd(s);Fd(s,q,V);break;default:throw Error(i(161))}}catch(Z){ne(s,s.return,Z)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function H_(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;H_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function Ms(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)P_(s,r.alternate,r),r=r.sibling}function Fa(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:Ds(4,r,r.return),Fa(r);break;case 1:_i(r,r.return);var l=r.stateNode;typeof l.componentWillUnmount=="function"&&O_(r,r.return,l),Fa(r);break;case 27:Ml(r.stateNode);case 26:case 5:_i(r,r.return),Fa(r);break;case 22:r.memoizedState===null&&Fa(r);break;case 30:Fa(r);break;default:Fa(r)}s=s.sibling}}function Cs(s,r,l){for(l=l&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,m=s,p=r,T=p.flags;switch(p.tag){case 0:case 11:case 15:Cs(m,p,l),vl(4,p);break;case 1:if(Cs(m,p,l),c=p,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(q){ne(c,c.return,q)}if(c=p,m=c.updateQueue,m!==null){var A=c.stateNode;try{var V=m.shared.hiddenCallbacks;if(V!==null)for(m.shared.hiddenCallbacks=null,m=0;m<V.length;m++)py(V[m],A)}catch(q){ne(c,c.return,q)}}l&&T&64&&C_(p),bl(p,p.return);break;case 27:N_(p);case 26:case 5:Cs(m,p,l),l&&c===null&&T&4&&I_(p),bl(p,p.return);break;case 12:Cs(m,p,l);break;case 13:Cs(m,p,l),l&&T&4&&B_(m,p);break;case 22:p.memoizedState===null&&Cs(m,p,l),bl(p,p.return);break;case 30:break;default:Cs(m,p,l)}r=r.sibling}}function Yd(s,r){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&al(l))}function Qd(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&al(s))}function vi(s,r,l,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)j_(s,r,l,c),r=r.sibling}function j_(s,r,l,c){var m=r.flags;switch(r.tag){case 0:case 11:case 15:vi(s,r,l,c),m&2048&&vl(9,r);break;case 1:vi(s,r,l,c);break;case 3:vi(s,r,l,c),m&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&al(s)));break;case 12:if(m&2048){vi(s,r,l,c),s=r.stateNode;try{var p=r.memoizedProps,T=p.id,A=p.onPostCommit;typeof A=="function"&&A(T,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(V){ne(r,r.return,V)}}else vi(s,r,l,c);break;case 13:vi(s,r,l,c);break;case 23:break;case 22:p=r.stateNode,T=r.alternate,r.memoizedState!==null?p._visibility&2?vi(s,r,l,c):El(s,r):p._visibility&2?vi(s,r,l,c):(p._visibility|=2,Gr(s,r,l,c,(r.subtreeFlags&10256)!==0)),m&2048&&Yd(T,r);break;case 24:vi(s,r,l,c),m&2048&&Qd(r.alternate,r);break;default:vi(s,r,l,c)}}function Gr(s,r,l,c,m){for(m=m&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var p=s,T=r,A=l,V=c,q=T.flags;switch(T.tag){case 0:case 11:case 15:Gr(p,T,A,V,m),vl(8,T);break;case 23:break;case 22:var Z=T.stateNode;T.memoizedState!==null?Z._visibility&2?Gr(p,T,A,V,m):El(p,T):(Z._visibility|=2,Gr(p,T,A,V,m)),m&&q&2048&&Yd(T.alternate,T);break;case 24:Gr(p,T,A,V,m),m&&q&2048&&Qd(T.alternate,T);break;default:Gr(p,T,A,V,m)}r=r.sibling}}function El(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var l=s,c=r,m=c.flags;switch(c.tag){case 22:El(l,c),m&2048&&Yd(c.alternate,c);break;case 24:El(l,c),m&2048&&Qd(c.alternate,c);break;default:El(l,c)}r=r.sibling}}var Tl=8192;function Yr(s){if(s.subtreeFlags&Tl)for(s=s.child;s!==null;)F_(s),s=s.sibling}function F_(s){switch(s.tag){case 26:Yr(s),s.flags&Tl&&s.memoizedState!==null&&Bx($n,s.memoizedState,s.memoizedProps);break;case 5:Yr(s);break;case 3:case 4:var r=$n;$n=Yc(s.stateNode.containerInfo),Yr(s),$n=r;break;case 22:s.memoizedState===null&&(r=s.alternate,r!==null&&r.memoizedState!==null?(r=Tl,Tl=16777216,Yr(s),Tl=r):Yr(s));break;default:Yr(s)}}function q_(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function Sl(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var c=r[l];je=c,Y_(c,s)}q_(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)G_(s),s=s.sibling}function G_(s){switch(s.tag){case 0:case 11:case 15:Sl(s),s.flags&2048&&Ds(9,s,s.return);break;case 3:Sl(s);break;case 12:Sl(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,Nc(s)):Sl(s);break;default:Sl(s)}}function Nc(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var c=r[l];je=c,Y_(c,s)}q_(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:Ds(8,r,r.return),Nc(r);break;case 22:l=r.stateNode,l._visibility&2&&(l._visibility&=-3,Nc(r));break;default:Nc(r)}s=s.sibling}}function Y_(s,r){for(;je!==null;){var l=je;switch(l.tag){case 0:case 11:case 15:Ds(8,l,r);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:al(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,je=c;else t:for(l=s;je!==null;){c=je;var m=c.sibling,p=c.return;if(L_(c),c===l){je=null;break t}if(m!==null){m.return=p,je=m;break t}je=p}}}var ex={getCacheForType:function(s){var r=en(Ie),l=r.data.get(s);return l===void 0&&(l=s(),r.data.set(s,l)),l}},nx=typeof WeakMap=="function"?WeakMap:Map,Kt=0,se=null,Vt=null,Ut=0,Wt=0,Rn=null,Os=!1,Qr=!1,Xd=!1,Ji=0,ye=0,Is=0,qa=0,Kd=0,Fn=0,Xr=0,Al=null,pn=null,Wd=!1,$d=0,kc=1/0,Pc=null,Vs=null,Ke=0,Ns=null,Kr=null,Wr=0,Zd=0,Jd=null,Q_=null,xl=0,tg=null;function Dn(){if((Kt&2)!==0&&Ut!==0)return Ut&-Ut;if(X.T!==null){var s=Lr;return s!==0?s:og()}return ms()}function X_(){Fn===0&&(Fn=(Ut&536870912)===0||Gt?No():536870912);var s=jn.current;return s!==null&&(s.flags|=32),Fn}function Mn(s,r,l){(s===se&&(Wt===2||Wt===9)||s.cancelPendingCommit!==null)&&($r(s,0),ks(s,Ut,Fn,!1)),Oi(s,l),((Kt&2)===0||s!==se)&&(s===se&&((Kt&2)===0&&(qa|=l),ye===4&&ks(s,Ut,Fn,!1)),bi(s))}function K_(s,r,l){if((Kt&6)!==0)throw Error(i(327));var c=!l&&(r&124)===0&&(r&s.expiredLanes)===0||pa(s,r),m=c?ax(s,r):ig(s,r,!0),p=c;do{if(m===0){Qr&&!c&&ks(s,r,0,!1);break}else{if(l=s.current.alternate,p&&!ix(l)){m=ig(s,r,!1),p=!1;continue}if(m===2){if(p=r,s.errorRecoveryDisabledLanes&p)var T=0;else T=s.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;t:{var A=s;m=Al;var V=A.current.memoizedState.isDehydrated;if(V&&($r(A,T).flags|=256),T=ig(A,T,!1),T!==2){if(Xd&&!V){A.errorRecoveryDisabledLanes|=p,qa|=p,m=4;break t}p=pn,pn=m,p!==null&&(pn===null?pn=p:pn.push.apply(pn,p))}m=T}if(p=!1,m!==2)continue}}if(m===1){$r(s,0),ks(s,r,0,!0);break}t:{switch(c=s,p=m,p){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:ks(c,r,Fn,!Os);break t;case 2:pn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(m=$d+300-In(),10<m)){if(ks(c,r,Fn,!Os),gr(c,0,!0)!==0)break t;c.timeoutHandle=A0(W_.bind(null,c,l,pn,Pc,Wd,r,Fn,qa,Xr,Os,p,2,-0,0),m);break t}W_(c,l,pn,Pc,Wd,r,Fn,qa,Xr,Os,p,0,-0,0)}}break}while(!0);bi(s)}function W_(s,r,l,c,m,p,T,A,V,q,Z,tt,Y,Q){if(s.timeoutHandle=-1,tt=r.subtreeFlags,(tt&8192||(tt&16785408)===16785408)&&(Il={stylesheets:null,count:0,unsuspend:zx},F_(r),tt=Ux(),tt!==null)){s.cancelPendingCommit=tt(i0.bind(null,s,r,p,l,c,m,T,A,V,Z,1,Y,Q)),ks(s,p,T,!q);return}i0(s,r,p,l,c,m,T,A,V)}function ix(s){for(var r=s;;){var l=r.tag;if((l===0||l===11||l===15)&&r.flags&16384&&(l=r.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var m=l[c],p=m.getSnapshot;m=m.value;try{if(!Sn(p(),m))return!1}catch{return!1}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ks(s,r,l,c){r&=~Kd,r&=~qa,s.suspendedLanes|=r,s.pingedLanes&=~r,c&&(s.warmLanes|=r),c=s.expirationTimes;for(var m=r;0<m;){var p=31-tn(m),T=1<<p;c[p]=-1,m&=~T}l!==0&&ai(s,l,r)}function Lc(){return(Kt&6)===0?(wl(0),!1):!0}function eg(){if(Vt!==null){if(Wt===0)var s=Vt.return;else s=Vt,Gi=za=null,_d(s),Fr=null,pl=0,s=Vt;for(;s!==null;)M_(s.alternate,s),s=s.return;Vt=null}}function $r(s,r){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,Ex(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),eg(),se=s,Vt=l=ji(s.current,null),Ut=r,Wt=0,Rn=null,Os=!1,Qr=pa(s,r),Xd=!1,Xr=Fn=Kd=qa=Is=ye=0,pn=Al=null,Wd=!1,(r&8)!==0&&(r|=r&32);var c=s.entangledLanes;if(c!==0)for(s=s.entanglements,c&=r;0<c;){var m=31-tn(c),p=1<<m;r|=s[m],c&=~p}return Ji=r,ac(),l}function $_(s,r){Ct=null,X.H=Ac,r===ol||r===gc?(r=gy(),Wt=3):r===hy?(r=gy(),Wt=4):Wt=r===m_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Rn=r,Vt===null&&(ye=1,Mc(s,zn(r,s.current)))}function Z_(){var s=X.H;return X.H=Ac,s===null?Ac:s}function J_(){var s=X.A;return X.A=ex,s}function ng(){ye=4,Os||(Ut&4194048)!==Ut&&jn.current!==null||(Qr=!0),(Is&134217727)===0&&(qa&134217727)===0||se===null||ks(se,Ut,Fn,!1)}function ig(s,r,l){var c=Kt;Kt|=2;var m=Z_(),p=J_();(se!==s||Ut!==r)&&(Pc=null,$r(s,r)),r=!1;var T=ye;t:do try{if(Wt!==0&&Vt!==null){var A=Vt,V=Rn;switch(Wt){case 8:eg(),T=6;break t;case 3:case 2:case 9:case 6:jn.current===null&&(r=!0);var q=Wt;if(Wt=0,Rn=null,Zr(s,A,V,q),l&&Qr){T=0;break t}break;default:q=Wt,Wt=0,Rn=null,Zr(s,A,V,q)}}sx(),T=ye;break}catch(Z){$_(s,Z)}while(!0);return r&&s.shellSuspendCounter++,Gi=za=null,Kt=c,X.H=m,X.A=p,Vt===null&&(se=null,Ut=0,ac()),T}function sx(){for(;Vt!==null;)t0(Vt)}function ax(s,r){var l=Kt;Kt|=2;var c=Z_(),m=J_();se!==s||Ut!==r?(Pc=null,kc=In()+500,$r(s,r)):Qr=pa(s,r);t:do try{if(Wt!==0&&Vt!==null){r=Vt;var p=Rn;e:switch(Wt){case 1:Wt=0,Rn=null,Zr(s,r,p,1);break;case 2:case 9:if(fy(p)){Wt=0,Rn=null,e0(r);break}r=function(){Wt!==2&&Wt!==9||se!==s||(Wt=7),bi(s)},p.then(r,r);break t;case 3:Wt=7;break t;case 4:Wt=5;break t;case 7:fy(p)?(Wt=0,Rn=null,e0(r)):(Wt=0,Rn=null,Zr(s,r,p,7));break;case 5:var T=null;switch(Vt.tag){case 26:T=Vt.memoizedState;case 5:case 27:var A=Vt;if(!T||P0(T)){Wt=0,Rn=null;var V=A.sibling;if(V!==null)Vt=V;else{var q=A.return;q!==null?(Vt=q,zc(q)):Vt=null}break e}}Wt=0,Rn=null,Zr(s,r,p,5);break;case 6:Wt=0,Rn=null,Zr(s,r,p,6);break;case 8:eg(),ye=6;break t;default:throw Error(i(462))}}rx();break}catch(Z){$_(s,Z)}while(!0);return Gi=za=null,X.H=c,X.A=m,Kt=l,Vt!==null?0:(se=null,Ut=0,ac(),ye)}function rx(){for(;Vt!==null&&!Co();)t0(Vt)}function t0(s){var r=R_(s.alternate,s,Ji);s.memoizedProps=s.pendingProps,r===null?zc(s):Vt=r}function e0(s){var r=s,l=r.alternate;switch(r.tag){case 15:case 0:r=E_(l,r,r.pendingProps,r.type,void 0,Ut);break;case 11:r=E_(l,r,r.pendingProps,r.type.render,r.ref,Ut);break;case 5:_d(r);default:M_(l,r),r=Vt=ny(r,Ji),r=R_(l,r,Ji)}s.memoizedProps=s.pendingProps,r===null?zc(s):Vt=r}function Zr(s,r,l,c){Gi=za=null,_d(r),Fr=null,pl=0;var m=r.return;try{if(KA(s,m,r,l,Ut)){ye=1,Mc(s,zn(l,s.current)),Vt=null;return}}catch(p){if(m!==null)throw Vt=m,p;ye=1,Mc(s,zn(l,s.current)),Vt=null;return}r.flags&32768?(Gt||c===1?s=!0:Qr||(Ut&536870912)!==0?s=!1:(Os=s=!0,(c===2||c===9||c===3||c===6)&&(c=jn.current,c!==null&&c.tag===13&&(c.flags|=16384))),n0(r,s)):zc(r)}function zc(s){var r=s;do{if((r.flags&32768)!==0){n0(r,Os);return}s=r.return;var l=$A(r.alternate,r,Ji);if(l!==null){Vt=l;return}if(r=r.sibling,r!==null){Vt=r;return}Vt=r=s}while(r!==null);ye===0&&(ye=5)}function n0(s,r){do{var l=ZA(s.alternate,s);if(l!==null){l.flags&=32767,Vt=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!r&&(s=s.sibling,s!==null)){Vt=s;return}Vt=s=l}while(s!==null);ye=6,Vt=null}function i0(s,r,l,c,m,p,T,A,V){s.cancelPendingCommit=null;do Bc();while(Ke!==0);if((Kt&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(p=r.lanes|r.childLanes,p|=Qf,Po(s,l,p,T,A,V),s===se&&(Vt=se=null,Ut=0),Kr=r,Ns=s,Wr=l,Zd=p,Jd=m,Q_=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,cx(fa,function(){return l0(),null})):(s.callbackNode=null,s.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=X.T,X.T=null,m=st.p,st.p=2,T=Kt,Kt|=4;try{JA(s,r,l)}finally{Kt=T,st.p=m,X.T=c}}Ke=1,s0(),a0(),r0()}}function s0(){if(Ke===1){Ke=0;var s=Ns,r=Kr,l=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||l){l=X.T,X.T=null;var c=st.p;st.p=2;var m=Kt;Kt|=4;try{U_(r,s);var p=mg,T=Yp(s.containerInfo),A=p.focusedElem,V=p.selectionRange;if(T!==A&&A&&A.ownerDocument&&Gp(A.ownerDocument.documentElement,A)){if(V!==null&&jf(A)){var q=V.start,Z=V.end;if(Z===void 0&&(Z=q),"selectionStart"in A)A.selectionStart=q,A.selectionEnd=Math.min(Z,A.value.length);else{var tt=A.ownerDocument||document,Y=tt&&tt.defaultView||window;if(Y.getSelection){var Q=Y.getSelection(),At=A.textContent.length,vt=Math.min(V.start,At),ee=V.end===void 0?vt:Math.min(V.end,At);!Q.extend&&vt>ee&&(T=ee,ee=vt,vt=T);var U=qp(A,vt),B=qp(A,ee);if(U&&B&&(Q.rangeCount!==1||Q.anchorNode!==U.node||Q.anchorOffset!==U.offset||Q.focusNode!==B.node||Q.focusOffset!==B.offset)){var F=tt.createRange();F.setStart(U.node,U.offset),Q.removeAllRanges(),vt>ee?(Q.addRange(F),Q.extend(B.node,B.offset)):(F.setEnd(B.node,B.offset),Q.addRange(F))}}}}for(tt=[],Q=A;Q=Q.parentNode;)Q.nodeType===1&&tt.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<tt.length;A++){var J=tt[A];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}$c=!!gg,mg=gg=null}finally{Kt=m,st.p=c,X.T=l}}s.current=r,Ke=2}}function a0(){if(Ke===2){Ke=0;var s=Ns,r=Kr,l=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||l){l=X.T,X.T=null;var c=st.p;st.p=2;var m=Kt;Kt|=4;try{P_(s,r.alternate,r)}finally{Kt=m,st.p=c,X.T=l}}Ke=3}}function r0(){if(Ke===4||Ke===3){Ke=0,Nu();var s=Ns,r=Kr,l=Wr,c=Q_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ke=5:(Ke=0,Kr=Ns=null,o0(s,s.pendingLanes));var m=s.pendingLanes;if(m===0&&(Vs=null),mr(l),r=r.stateNode,Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(me,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=X.T,m=st.p,st.p=2,X.T=null;try{for(var p=s.onRecoverableError,T=0;T<c.length;T++){var A=c[T];p(A.value,{componentStack:A.stack})}}finally{X.T=r,st.p=m}}(Wr&3)!==0&&Bc(),bi(s),m=s.pendingLanes,(l&4194090)!==0&&(m&42)!==0?s===tg?xl++:(xl=0,tg=s):xl=0,wl(0)}}function o0(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,al(r)))}function Bc(s){return s0(),a0(),r0(),l0()}function l0(){if(Ke!==5)return!1;var s=Ns,r=Zd;Zd=0;var l=mr(Wr),c=X.T,m=st.p;try{st.p=32>l?32:l,X.T=null,l=Jd,Jd=null;var p=Ns,T=Wr;if(Ke=0,Kr=Ns=null,Wr=0,(Kt&6)!==0)throw Error(i(331));var A=Kt;if(Kt|=4,G_(p.current),j_(p,p.current,T,l),Kt=A,wl(0,!1),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(me,p)}catch{}return!0}finally{st.p=m,X.T=c,o0(s,r)}}function u0(s,r,l){r=zn(l,r),r=Id(s.stateNode,r,2),s=As(s,r,2),s!==null&&(Oi(s,2),bi(s))}function ne(s,r,l){if(s.tag===3)u0(s,s,l);else for(;r!==null;){if(r.tag===3){u0(r,s,l);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Vs===null||!Vs.has(c))){s=zn(l,s),l=d_(2),c=As(r,l,2),c!==null&&(g_(l,c,r,s),Oi(c,2),bi(c));break}}r=r.return}}function sg(s,r,l){var c=s.pingCache;if(c===null){c=s.pingCache=new nx;var m=new Set;c.set(r,m)}else m=c.get(r),m===void 0&&(m=new Set,c.set(r,m));m.has(l)||(Xd=!0,m.add(l),s=ox.bind(null,s,r,l),r.then(s,s))}function ox(s,r,l){var c=s.pingCache;c!==null&&c.delete(r),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,se===s&&(Ut&l)===l&&(ye===4||ye===3&&(Ut&62914560)===Ut&&300>In()-$d?(Kt&2)===0&&$r(s,0):Kd|=l,Xr===Ut&&(Xr=0)),bi(s)}function c0(s,r){r===0&&(r=ko()),s=Vr(s,r),s!==null&&(Oi(s,r),bi(s))}function lx(s){var r=s.memoizedState,l=0;r!==null&&(l=r.retryLane),c0(s,l)}function ux(s,r){var l=0;switch(s.tag){case 13:var c=s.stateNode,m=s.memoizedState;m!==null&&(l=m.retryLane);break;case 19:c=s.stateNode;break;case 22:c=s.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(r),c0(s,l)}function cx(s,r){return ca(s,r)}var Uc=null,Jr=null,ag=!1,Hc=!1,rg=!1,Ga=0;function bi(s){s!==Jr&&s.next===null&&(Jr===null?Uc=Jr=s:Jr=Jr.next=s),Hc=!0,ag||(ag=!0,fx())}function wl(s,r){if(!rg&&Hc){rg=!0;do for(var l=!1,c=Uc;c!==null;){if(s!==0){var m=c.pendingLanes;if(m===0)var p=0;else{var T=c.suspendedLanes,A=c.pingedLanes;p=(1<<31-tn(42|s)+1)-1,p&=m&~(T&~A),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(l=!0,g0(c,p))}else p=Ut,p=gr(c,c===se?p:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(p&3)===0||pa(c,p)||(l=!0,g0(c,p));c=c.next}while(l);rg=!1}}function hx(){h0()}function h0(){Hc=ag=!1;var s=0;Ga!==0&&(bx()&&(s=Ga),Ga=0);for(var r=In(),l=null,c=Uc;c!==null;){var m=c.next,p=f0(c,r);p===0?(c.next=null,l===null?Uc=m:l.next=m,m===null&&(Jr=l)):(l=c,(s!==0||(p&3)!==0)&&(Hc=!0)),c=m}wl(s)}function f0(s,r){for(var l=s.suspendedLanes,c=s.pingedLanes,m=s.expirationTimes,p=s.pendingLanes&-62914561;0<p;){var T=31-tn(p),A=1<<T,V=m[T];V===-1?((A&l)===0||(A&c)!==0)&&(m[T]=Vo(A,r)):V<=r&&(s.expiredLanes|=A),p&=~A}if(r=se,l=Ut,l=gr(s,s===r?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c=s.callbackNode,l===0||s===r&&(Wt===2||Wt===9)||s.cancelPendingCommit!==null)return c!==null&&c!==null&&ha(c),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||pa(s,l)){if(r=l&-l,r===s.callbackPriority)return r;switch(c!==null&&ha(c),mr(l)){case 2:case 8:l=fr;break;case 32:l=fa;break;case 268435456:l=dr;break;default:l=fa}return c=d0.bind(null,s),l=ca(l,c),s.callbackPriority=r,s.callbackNode=l,r}return c!==null&&c!==null&&ha(c),s.callbackPriority=2,s.callbackNode=null,2}function d0(s,r){if(Ke!==0&&Ke!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(Bc()&&s.callbackNode!==l)return null;var c=Ut;return c=gr(s,s===se?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c===0?null:(K_(s,c,r),f0(s,In()),s.callbackNode!=null&&s.callbackNode===l?d0.bind(null,s):null)}function g0(s,r){if(Bc())return null;K_(s,r,!0)}function fx(){Tx(function(){(Kt&6)!==0?ca(Oo,hx):h0()})}function og(){return Ga===0&&(Ga=No()),Ga}function m0(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Er(""+s)}function p0(s,r){var l=r.ownerDocument.createElement("input");return l.name=r.name,l.value=r.value,s.id&&l.setAttribute("form",s.id),r.parentNode.insertBefore(l,r),s=new FormData(s),l.parentNode.removeChild(l),s}function dx(s,r,l,c,m){if(r==="submit"&&l&&l.stateNode===m){var p=m0((m[Ae]||null).action),T=c.submitter;T&&(r=(r=T[Ae]||null)?m0(r.formAction):T.getAttribute("formAction"),r!==null&&(p=r,T=null));var A=new Tr("action","action",null,c,m);s.push({event:A,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ga!==0){var V=T?p0(m,T):new FormData(m);Rd(l,{pending:!0,data:V,method:m.method,action:p},null,V)}}else typeof p=="function"&&(A.preventDefault(),V=T?p0(m,T):new FormData(m),Rd(l,{pending:!0,data:V,method:m.method,action:p},p,V))},currentTarget:m}]})}}for(var lg=0;lg<Yf.length;lg++){var ug=Yf[lg],gx=ug.toLowerCase(),mx=ug[0].toUpperCase()+ug.slice(1);Wn(gx,"on"+mx)}Wn(Kp,"onAnimationEnd"),Wn(Wp,"onAnimationIteration"),Wn($p,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(IA,"onTransitionRun"),Wn(VA,"onTransitionStart"),Wn(NA,"onTransitionCancel"),Wn(Zp,"onTransitionEnd"),Vi("onMouseEnter",["mouseout","mouseover"]),Vi("onMouseLeave",["mouseout","mouseover"]),Vi("onPointerEnter",["pointerout","pointerover"]),Vi("onPointerLeave",["pointerout","pointerover"]),Xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),px=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rl));function y0(s,r){r=(r&4)!==0;for(var l=0;l<s.length;l++){var c=s[l],m=c.event;c=c.listeners;t:{var p=void 0;if(r)for(var T=c.length-1;0<=T;T--){var A=c[T],V=A.instance,q=A.currentTarget;if(A=A.listener,V!==p&&m.isPropagationStopped())break t;p=A,m.currentTarget=q;try{p(m)}catch(Z){Dc(Z)}m.currentTarget=null,p=V}else for(T=0;T<c.length;T++){if(A=c[T],V=A.instance,q=A.currentTarget,A=A.listener,V!==p&&m.isPropagationStopped())break t;p=A,m.currentTarget=q;try{p(m)}catch(Z){Dc(Z)}m.currentTarget=null,p=V}}}}function Nt(s,r){var l=r[zo];l===void 0&&(l=r[zo]=new Set);var c=s+"__bubble";l.has(c)||(_0(r,s,2,!1),l.add(c))}function cg(s,r,l){var c=0;r&&(c|=4),_0(l,s,c,r)}var jc="_reactListening"+Math.random().toString(36).slice(2);function hg(s){if(!s[jc]){s[jc]=!0,Bo.forEach(function(l){l!=="selectionchange"&&(px.has(l)||cg(l,!1,s),cg(l,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[jc]||(r[jc]=!0,cg("selectionchange",!1,r))}}function _0(s,r,l,c){switch(j0(r)){case 2:var m=Fx;break;case 8:m=qx;break;default:m=xg}l=m.bind(null,r,l,s),m=void 0,!Pn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(m=!0),c?m!==void 0?s.addEventListener(r,l,{capture:!0,passive:m}):s.addEventListener(r,l,!0):m!==void 0?s.addEventListener(r,l,{passive:m}):s.addEventListener(r,l,!1)}function fg(s,r,l,c,m){var p=c;if((r&1)===0&&(r&2)===0&&c!==null)t:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var A=c.stateNode.containerInfo;if(A===m)break;if(T===4)for(T=c.return;T!==null;){var V=T.tag;if((V===3||V===4)&&T.stateNode.containerInfo===m)return;T=T.return}for(;A!==null;){if(T=Ii(A),T===null)return;if(V=T.tag,V===5||V===6||V===26||V===27){c=p=T;continue t}A=A.parentNode}}c=c.return}qu(function(){var q=p,Z=kn(l),tt=[];t:{var Y=Jp.get(s);if(Y!==void 0){var Q=Tr,At=s;switch(s){case"keypress":if(hi(l)===0)break t;case"keydown":case"keyup":Q=Dr;break;case"focusin":At="focus",Q=xr;break;case"focusout":At="blur",Q=xr;break;case"beforeblur":case"afterblur":Q=xr;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Ln;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=zf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Zu;break;case Kp:case Wp:case $p:Q=wr;break;case Zp:Q=tc;break;case"scroll":case"scrollend":Q=Gu;break;case"wheel":Q=Mr;break;case"copy":case"cut":case"paste":Q=Rr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=$o;break;case"toggle":case"beforetoggle":Q=nc}var vt=(r&4)!==0,ee=!vt&&(s==="scroll"||s==="scrollend"),U=vt?Y!==null?Y+"Capture":null:Y;vt=[];for(var B=q,F;B!==null;){var J=B;if(F=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||F===null||U===null||(J=Aa(B,U),J!=null&&vt.push(Dl(B,J,F))),ee)break;B=B.return}0<vt.length&&(Y=new Q(Y,At,null,l,Z),tt.push({event:Y,listeners:vt}))}}if((r&7)===0){t:{if(Y=s==="mouseover"||s==="pointerover",Q=s==="mouseout"||s==="pointerout",Y&&l!==Pi&&(At=l.relatedTarget||l.fromElement)&&(Ii(At)||At[Vn]))break t;if((Q||Y)&&(Y=Z.window===Z?Z:(Y=Z.ownerDocument)?Y.defaultView||Y.parentWindow:window,Q?(At=l.relatedTarget||l.toElement,Q=q,At=At?Ii(At):null,At!==null&&(ee=o(At),vt=At.tag,At!==ee||vt!==5&&vt!==27&&vt!==6)&&(At=null)):(Q=null,At=q),Q!==At)){if(vt=Ln,J="onMouseLeave",U="onMouseEnter",B="mouse",(s==="pointerout"||s==="pointerover")&&(vt=$o,J="onPointerLeave",U="onPointerEnter",B="pointer"),ee=Q==null?Y:oi(Q),F=At==null?Y:oi(At),Y=new vt(J,B+"leave",Q,l,Z),Y.target=ee,Y.relatedTarget=F,J=null,Ii(Z)===q&&(vt=new vt(U,B+"enter",At,l,Z),vt.target=F,vt.relatedTarget=ee,J=vt),ee=J,Q&&At)e:{for(vt=Q,U=At,B=0,F=vt;F;F=to(F))B++;for(F=0,J=U;J;J=to(J))F++;for(;0<B-F;)vt=to(vt),B--;for(;0<F-B;)U=to(U),F--;for(;B--;){if(vt===U||U!==null&&vt===U.alternate)break e;vt=to(vt),U=to(U)}vt=null}else vt=null;Q!==null&&v0(tt,Y,Q,vt,!1),At!==null&&ee!==null&&v0(tt,ee,At,vt,!0)}}t:{if(Y=q?oi(q):window,Q=Y.nodeName&&Y.nodeName.toLowerCase(),Q==="select"||Q==="input"&&Y.type==="file")var ft=zp;else if(Oe(Y))if(Bp)ft=MA;else{ft=RA;var It=wA}else Q=Y.nodeName,!Q||Q.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?q&&qo(q.elementType)&&(ft=zp):ft=DA;if(ft&&(ft=ft(s,q))){Hi(tt,ft,l,Z);break t}It&&It(s,Y,q),s==="focusout"&&q&&Y.type==="number"&&q.memoizedProps.value!=null&&vs(Y,"number",Y.value)}switch(It=q?oi(q):window,s){case"focusin":(Oe(It)||It.contentEditable==="true")&&(Cr=It,Ff=q,tl=null);break;case"focusout":tl=Ff=Cr=null;break;case"mousedown":qf=!0;break;case"contextmenu":case"mouseup":case"dragend":qf=!1,Qp(tt,l,Z);break;case"selectionchange":if(OA)break;case"keydown":case"keyup":Qp(tt,l,Z)}var gt;if(gi)t:{switch(s){case"compositionstart":var Et="onCompositionStart";break t;case"compositionend":Et="onCompositionEnd";break t;case"compositionupdate":Et="onCompositionUpdate";break t}Et=void 0}else zt?W(s,l)&&(Et="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Et="onCompositionStart");Et&&(E&&l.locale!=="ko"&&(zt||Et!=="onCompositionStart"?Et==="onCompositionEnd"&&zt&&(gt=Yo()):(ci=Z,bs="value"in ci?ci.value:ci.textContent,zt=!0)),It=Fc(q,Et),0<It.length&&(Et=new Ko(Et,s,null,l,Z),tt.push({event:Et,listeners:It}),gt?Et.data=gt:(gt=ot(l),gt!==null&&(Et.data=gt)))),(gt=v?Ce(s,l):Bt(s,l))&&(Et=Fc(q,"onBeforeInput"),0<Et.length&&(It=new Ko("onBeforeInput","beforeinput",null,l,Z),tt.push({event:It,listeners:Et}),It.data=gt)),dx(tt,s,q,l,Z)}y0(tt,r)})}function Dl(s,r,l){return{instance:s,listener:r,currentTarget:l}}function Fc(s,r){for(var l=r+"Capture",c=[];s!==null;){var m=s,p=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||p===null||(m=Aa(s,l),m!=null&&c.unshift(Dl(s,m,p)),m=Aa(s,r),m!=null&&c.push(Dl(s,m,p))),s.tag===3)return c;s=s.return}return[]}function to(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function v0(s,r,l,c,m){for(var p=r._reactName,T=[];l!==null&&l!==c;){var A=l,V=A.alternate,q=A.stateNode;if(A=A.tag,V!==null&&V===c)break;A!==5&&A!==26&&A!==27||q===null||(V=q,m?(q=Aa(l,p),q!=null&&T.unshift(Dl(l,q,V))):m||(q=Aa(l,p),q!=null&&T.push(Dl(l,q,V)))),l=l.return}T.length!==0&&s.push({event:r,listeners:T})}var yx=/\r\n?/g,_x=/\u0000|\uFFFD/g;function b0(s){return(typeof s=="string"?s:""+s).replace(yx,`
`).replace(_x,"")}function E0(s,r){return r=b0(r),b0(s)===r}function qc(){}function te(s,r,l,c,m,p){switch(l){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||Nn(s,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&Nn(s,""+c);break;case"className":li(s,"class",c);break;case"tabIndex":li(s,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":li(s,l,c);break;case"style":Fo(s,c,p);break;case"data":if(r!=="object"){li(s,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||l!=="href")){s.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=Er(""+c),s.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(l==="formAction"?(r!=="input"&&te(s,r,"name",m.name,m,null),te(s,r,"formEncType",m.formEncType,m,null),te(s,r,"formMethod",m.formMethod,m,null),te(s,r,"formTarget",m.formTarget,m,null)):(te(s,r,"encType",m.encType,m,null),te(s,r,"method",m.method,m,null),te(s,r,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=Er(""+c),s.setAttribute(l,c);break;case"onClick":c!=null&&(s.onclick=qc);break;case"onScroll":c!=null&&Nt("scroll",s);break;case"onScrollEnd":c!=null&&Nt("scrollend",s);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":s.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){s.removeAttribute("xlink:href");break}l=Er(""+c),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""+c):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":c===!0?s.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,c):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?s.setAttribute(l,c):s.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?s.removeAttribute(l):s.setAttribute(l,c);break;case"popover":Nt("beforetoggle",s),Nt("toggle",s),_s(s,"popover",c);break;case"xlinkActuate":Ye(s,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Ye(s,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Ye(s,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Ye(s,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Ye(s,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Ye(s,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Ye(s,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Ye(s,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Ye(s,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":_s(s,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Pf.get(l)||l,_s(s,l,c))}}function dg(s,r,l,c,m,p){switch(l){case"style":Fo(s,c,p);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof c=="string"?Nn(s,c):(typeof c=="number"||typeof c=="bigint")&&Nn(s,""+c);break;case"onScroll":c!=null&&Nt("scroll",s);break;case"onScrollEnd":c!=null&&Nt("scrollend",s);break;case"onClick":c!=null&&(s.onclick=qc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pr.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),r=l.slice(2,m?l.length-7:void 0),p=s[Ae]||null,p=p!=null?p[l]:null,typeof p=="function"&&s.removeEventListener(r,p,m),typeof c=="function")){typeof p!="function"&&p!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(r,c,m);break t}l in s?s[l]=c:c===!0?s.setAttribute(l,""):_s(s,l,c)}}}function We(s,r,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",s),Nt("load",s);var c=!1,m=!1,p;for(p in l)if(l.hasOwnProperty(p)){var T=l[p];if(T!=null)switch(p){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:te(s,r,p,T,l,null)}}m&&te(s,r,"srcSet",l.srcSet,l,null),c&&te(s,r,"src",l.src,l,null);return;case"input":Nt("invalid",s);var A=p=T=m=null,V=null,q=null;for(c in l)if(l.hasOwnProperty(c)){var Z=l[c];if(Z!=null)switch(c){case"name":m=Z;break;case"type":T=Z;break;case"checked":V=Z;break;case"defaultChecked":q=Z;break;case"value":p=Z;break;case"defaultValue":A=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,r));break;default:te(s,r,c,Z,l,null)}}Ea(s,p,A,V,q,T,m,!1),br(s);return;case"select":Nt("invalid",s),c=T=p=null;for(m in l)if(l.hasOwnProperty(m)&&(A=l[m],A!=null))switch(m){case"value":p=A;break;case"defaultValue":T=A;break;case"multiple":c=A;default:te(s,r,m,A,l,null)}r=p,l=T,s.multiple=!!c,r!=null?ki(s,!!c,r,!1):l!=null&&ki(s,!!c,l,!0);return;case"textarea":Nt("invalid",s),p=m=c=null;for(T in l)if(l.hasOwnProperty(T)&&(A=l[T],A!=null))switch(T){case"value":c=A;break;case"defaultValue":m=A;break;case"children":p=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(i(91));break;default:te(s,r,T,A,l,null)}Ta(s,c,m,p),br(s);return;case"option":for(V in l)if(l.hasOwnProperty(V)&&(c=l[V],c!=null))switch(V){case"selected":s.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:te(s,r,V,c,l,null)}return;case"dialog":Nt("beforetoggle",s),Nt("toggle",s),Nt("cancel",s),Nt("close",s);break;case"iframe":case"object":Nt("load",s);break;case"video":case"audio":for(c=0;c<Rl.length;c++)Nt(Rl[c],s);break;case"image":Nt("error",s),Nt("load",s);break;case"details":Nt("toggle",s);break;case"embed":case"source":case"link":Nt("error",s),Nt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in l)if(l.hasOwnProperty(q)&&(c=l[q],c!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:te(s,r,q,c,l,null)}return;default:if(qo(r)){for(Z in l)l.hasOwnProperty(Z)&&(c=l[Z],c!==void 0&&dg(s,r,Z,c,l,void 0));return}}for(A in l)l.hasOwnProperty(A)&&(c=l[A],c!=null&&te(s,r,A,c,l,null))}function vx(s,r,l,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,p=null,T=null,A=null,V=null,q=null,Z=null;for(Q in l){var tt=l[Q];if(l.hasOwnProperty(Q)&&tt!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":V=tt;default:c.hasOwnProperty(Q)||te(s,r,Q,null,c,tt)}}for(var Y in c){var Q=c[Y];if(tt=l[Y],c.hasOwnProperty(Y)&&(Q!=null||tt!=null))switch(Y){case"type":p=Q;break;case"name":m=Q;break;case"checked":q=Q;break;case"defaultChecked":Z=Q;break;case"value":T=Q;break;case"defaultValue":A=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,r));break;default:Q!==tt&&te(s,r,Y,Q,c,tt)}}Tn(s,T,A,V,q,Z,p,m);return;case"select":Q=T=A=Y=null;for(p in l)if(V=l[p],l.hasOwnProperty(p)&&V!=null)switch(p){case"value":break;case"multiple":Q=V;default:c.hasOwnProperty(p)||te(s,r,p,null,c,V)}for(m in c)if(p=c[m],V=l[m],c.hasOwnProperty(m)&&(p!=null||V!=null))switch(m){case"value":Y=p;break;case"defaultValue":A=p;break;case"multiple":T=p;default:p!==V&&te(s,r,m,p,c,V)}r=A,l=T,c=Q,Y!=null?ki(s,!!l,Y,!1):!!c!=!!l&&(r!=null?ki(s,!!l,r,!0):ki(s,!!l,l?[]:"",!1));return;case"textarea":Q=Y=null;for(A in l)if(m=l[A],l.hasOwnProperty(A)&&m!=null&&!c.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:te(s,r,A,null,c,m)}for(T in c)if(m=c[T],p=l[T],c.hasOwnProperty(T)&&(m!=null||p!=null))switch(T){case"value":Y=m;break;case"defaultValue":Q=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==p&&te(s,r,T,m,c,p)}Zt(s,Y,Q);return;case"option":for(var At in l)if(Y=l[At],l.hasOwnProperty(At)&&Y!=null&&!c.hasOwnProperty(At))switch(At){case"selected":s.selected=!1;break;default:te(s,r,At,null,c,Y)}for(V in c)if(Y=c[V],Q=l[V],c.hasOwnProperty(V)&&Y!==Q&&(Y!=null||Q!=null))switch(V){case"selected":s.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:te(s,r,V,Y,c,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in l)Y=l[vt],l.hasOwnProperty(vt)&&Y!=null&&!c.hasOwnProperty(vt)&&te(s,r,vt,null,c,Y);for(q in c)if(Y=c[q],Q=l[q],c.hasOwnProperty(q)&&Y!==Q&&(Y!=null||Q!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,r));break;default:te(s,r,q,Y,c,Q)}return;default:if(qo(r)){for(var ee in l)Y=l[ee],l.hasOwnProperty(ee)&&Y!==void 0&&!c.hasOwnProperty(ee)&&dg(s,r,ee,void 0,c,Y);for(Z in c)Y=c[Z],Q=l[Z],!c.hasOwnProperty(Z)||Y===Q||Y===void 0&&Q===void 0||dg(s,r,Z,Y,c,Q);return}}for(var U in l)Y=l[U],l.hasOwnProperty(U)&&Y!=null&&!c.hasOwnProperty(U)&&te(s,r,U,null,c,Y);for(tt in c)Y=c[tt],Q=l[tt],!c.hasOwnProperty(tt)||Y===Q||Y==null&&Q==null||te(s,r,tt,Y,c,Q)}var gg=null,mg=null;function Gc(s){return s.nodeType===9?s:s.ownerDocument}function T0(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function S0(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function pg(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var yg=null;function bx(){var s=window.event;return s&&s.type==="popstate"?s===yg?!1:(yg=s,!0):(yg=null,!1)}var A0=typeof setTimeout=="function"?setTimeout:void 0,Ex=typeof clearTimeout=="function"?clearTimeout:void 0,x0=typeof Promise=="function"?Promise:void 0,Tx=typeof queueMicrotask=="function"?queueMicrotask:typeof x0<"u"?function(s){return x0.resolve(null).then(s).catch(Sx)}:A0;function Sx(s){setTimeout(function(){throw s})}function Ps(s){return s==="head"}function w0(s,r){var l=r,c=0,m=0;do{var p=l.nextSibling;if(s.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(0<c&&8>c){l=c;var T=s.ownerDocument;if(l&1&&Ml(T.documentElement),l&2&&Ml(T.body),l&4)for(l=T.head,Ml(l),T=l.firstChild;T;){var A=T.nextSibling,V=T.nodeName;T[ya]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&T.rel.toLowerCase()==="stylesheet"||l.removeChild(T),T=A}}if(m===0){s.removeChild(p),Ll(r);return}m--}else l==="$"||l==="$?"||l==="$!"?m++:c=l.charCodeAt(0)-48;else c=0;l=p}while(l);Ll(r)}function _g(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var l=r;switch(r=r.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":_g(l),ys(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function Ax(s,r,l,c){for(;s.nodeType===1;){var m=l;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(c){if(!s[ya])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(p=s.getAttribute("rel"),p==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(p!==m.rel||s.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(p=s.getAttribute("src"),(p!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&p&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var p=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===p)return s}else return s;if(s=Zn(s.nextSibling),s===null)break}return null}function xx(s,r,l){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=Zn(s.nextSibling),s===null))return null;return s}function vg(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function wx(s,r){var l=s.ownerDocument;if(s.data!=="$?"||l.readyState==="complete")r();else{var c=function(){r(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),s._reactRetry=c}}function Zn(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return s}var bg=null;function R0(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(r===0)return s;r--}else l==="/$"&&r++}s=s.previousSibling}return null}function D0(s,r,l){switch(r=Gc(l),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Ml(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);ys(s)}var qn=new Map,M0=new Set;function Yc(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var ts=st.d;st.d={f:Rx,r:Dx,D:Mx,C:Cx,L:Ox,m:Ix,X:Nx,S:Vx,M:kx};function Rx(){var s=ts.f(),r=Lc();return s||r}function Dx(s){var r=ri(s);r!==null&&r.tag===5&&r.type==="form"?Ky(r):ts.r(s)}var eo=typeof document>"u"?null:document;function C0(s,r,l){var c=eo;if(c&&typeof r=="string"&&r){var m=xe(r);m='link[rel="'+s+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),M0.has(m)||(M0.add(m),s={rel:s,crossOrigin:l,href:r},c.querySelector(m)===null&&(r=c.createElement("link"),We(r,"link",s),ve(r),c.head.appendChild(r)))}}function Mx(s){ts.D(s),C0("dns-prefetch",s,null)}function Cx(s,r){ts.C(s,r),C0("preconnect",s,r)}function Ox(s,r,l){ts.L(s,r,l);var c=eo;if(c&&s&&r){var m='link[rel="preload"][as="'+xe(r)+'"]';r==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+xe(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+xe(l.imageSizes)+'"]')):m+='[href="'+xe(s)+'"]';var p=m;switch(r){case"style":p=no(s);break;case"script":p=io(s)}qn.has(p)||(s=y({rel:"preload",href:r==="image"&&l&&l.imageSrcSet?void 0:s,as:r},l),qn.set(p,s),c.querySelector(m)!==null||r==="style"&&c.querySelector(Cl(p))||r==="script"&&c.querySelector(Ol(p))||(r=c.createElement("link"),We(r,"link",s),ve(r),c.head.appendChild(r)))}}function Ix(s,r){ts.m(s,r);var l=eo;if(l&&s){var c=r&&typeof r.as=="string"?r.as:"script",m='link[rel="modulepreload"][as="'+xe(c)+'"][href="'+xe(s)+'"]',p=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=io(s)}if(!qn.has(p)&&(s=y({rel:"modulepreload",href:s},r),qn.set(p,s),l.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Ol(p)))return}c=l.createElement("link"),We(c,"link",s),ve(c),l.head.appendChild(c)}}}function Vx(s,r,l){ts.S(s,r,l);var c=eo;if(c&&s){var m=cn(c).hoistableStyles,p=no(s);r=r||"default";var T=m.get(p);if(!T){var A={loading:0,preload:null};if(T=c.querySelector(Cl(p)))A.loading=5;else{s=y({rel:"stylesheet",href:s,"data-precedence":r},l),(l=qn.get(p))&&Eg(s,l);var V=T=c.createElement("link");ve(V),We(V,"link",s),V._p=new Promise(function(q,Z){V.onload=q,V.onerror=Z}),V.addEventListener("load",function(){A.loading|=1}),V.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Qc(T,r,c)}T={type:"stylesheet",instance:T,count:1,state:A},m.set(p,T)}}}function Nx(s,r){ts.X(s,r);var l=eo;if(l&&s){var c=cn(l).hoistableScripts,m=io(s),p=c.get(m);p||(p=l.querySelector(Ol(m)),p||(s=y({src:s,async:!0},r),(r=qn.get(m))&&Tg(s,r),p=l.createElement("script"),ve(p),We(p,"link",s),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(m,p))}}function kx(s,r){ts.M(s,r);var l=eo;if(l&&s){var c=cn(l).hoistableScripts,m=io(s),p=c.get(m);p||(p=l.querySelector(Ol(m)),p||(s=y({src:s,async:!0,type:"module"},r),(r=qn.get(m))&&Tg(s,r),p=l.createElement("script"),ve(p),We(p,"link",s),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(m,p))}}function O0(s,r,l,c){var m=(m=pt.current)?Yc(m):null;if(!m)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(r=no(l.href),l=cn(m).hoistableStyles,c=l.get(r),c||(c={type:"style",instance:null,count:0,state:null},l.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=no(l.href);var p=cn(m).hoistableStyles,T=p.get(s);if(T||(m=m.ownerDocument||m,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(s,T),(p=m.querySelector(Cl(s)))&&!p._p&&(T.instance=p,T.state.loading=5),qn.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},qn.set(s,l),p||Px(m,s,l,T.state))),r&&c===null)throw Error(i(528,""));return T}if(r&&c!==null)throw Error(i(529,""));return null;case"script":return r=l.async,l=l.src,typeof l=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=io(l),l=cn(m).hoistableScripts,c=l.get(r),c||(c={type:"script",instance:null,count:0,state:null},l.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function no(s){return'href="'+xe(s)+'"'}function Cl(s){return'link[rel="stylesheet"]['+s+"]"}function I0(s){return y({},s,{"data-precedence":s.precedence,precedence:null})}function Px(s,r,l,c){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=s.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),We(r,"link",l),ve(r),s.head.appendChild(r))}function io(s){return'[src="'+xe(s)+'"]'}function Ol(s){return"script[async]"+s}function V0(s,r,l){if(r.count++,r.instance===null)switch(r.type){case"style":var c=s.querySelector('style[data-href~="'+xe(l.href)+'"]');if(c)return r.instance=c,ve(c),c;var m=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(s.ownerDocument||s).createElement("style"),ve(c),We(c,"style",m),Qc(c,l.precedence,s),r.instance=c;case"stylesheet":m=no(l.href);var p=s.querySelector(Cl(m));if(p)return r.state.loading|=4,r.instance=p,ve(p),p;c=I0(l),(m=qn.get(m))&&Eg(c,m),p=(s.ownerDocument||s).createElement("link"),ve(p);var T=p;return T._p=new Promise(function(A,V){T.onload=A,T.onerror=V}),We(p,"link",c),r.state.loading|=4,Qc(p,l.precedence,s),r.instance=p;case"script":return p=io(l.src),(m=s.querySelector(Ol(p)))?(r.instance=m,ve(m),m):(c=l,(m=qn.get(p))&&(c=y({},l),Tg(c,m)),s=s.ownerDocument||s,m=s.createElement("script"),ve(m),We(m,"link",c),s.head.appendChild(m),r.instance=m);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,Qc(c,l.precedence,s));return r.instance}function Qc(s,r,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,p=m,T=0;T<c.length;T++){var A=c[T];if(A.dataset.precedence===r)p=A;else if(p!==m)break}p?p.parentNode.insertBefore(s,p.nextSibling):(r=l.nodeType===9?l.head:l,r.insertBefore(s,r.firstChild))}function Eg(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function Tg(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var Xc=null;function N0(s,r,l){if(Xc===null){var c=new Map,m=Xc=new Map;m.set(l,c)}else m=Xc,c=m.get(l),c||(c=new Map,m.set(l,c));if(c.has(s))return c;for(c.set(s,null),l=l.getElementsByTagName(s),m=0;m<l.length;m++){var p=l[m];if(!(p[ya]||p[Me]||s==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var T=p.getAttribute(r)||"";T=s+T;var A=c.get(T);A?A.push(p):c.set(T,[p])}}return c}function k0(s,r,l){s=s.ownerDocument||s,s.head.insertBefore(l,r==="title"?s.querySelector("head > title"):null)}function Lx(s,r,l){if(l===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return s=r.disabled,typeof r.precedence=="string"&&s==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function P0(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Il=null;function zx(){}function Bx(s,r,l){if(Il===null)throw Error(i(475));var c=Il;if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var m=no(l.href),p=s.querySelector(Cl(m));if(p){s=p._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(c.count++,c=Kc.bind(c),s.then(c,c)),r.state.loading|=4,r.instance=p,ve(p);return}p=s.ownerDocument||s,l=I0(l),(m=qn.get(m))&&Eg(l,m),p=p.createElement("link"),ve(p);var T=p;T._p=new Promise(function(A,V){T.onload=A,T.onerror=V}),We(p,"link",l),r.instance=p}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(r,s),(s=r.state.preload)&&(r.state.loading&3)===0&&(c.count++,r=Kc.bind(c),s.addEventListener("load",r),s.addEventListener("error",r))}}function Ux(){if(Il===null)throw Error(i(475));var s=Il;return s.stylesheets&&s.count===0&&Sg(s,s.stylesheets),0<s.count?function(r){var l=setTimeout(function(){if(s.stylesheets&&Sg(s,s.stylesheets),s.unsuspend){var c=s.unsuspend;s.unsuspend=null,c()}},6e4);return s.unsuspend=r,function(){s.unsuspend=null,clearTimeout(l)}}:null}function Kc(){if(this.count--,this.count===0){if(this.stylesheets)Sg(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Wc=null;function Sg(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Wc=new Map,r.forEach(Hx,s),Wc=null,Kc.call(s))}function Hx(s,r){if(!(r.state.loading&4)){var l=Wc.get(s);if(l)var c=l.get(null);else{l=new Map,Wc.set(s,l);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<m.length;p++){var T=m[p];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),c=T)}c&&l.set(null,c)}m=r.instance,T=m.getAttribute("data-precedence"),p=l.get(T)||c,p===c&&l.set(null,m),l.set(T,m),this.count++,c=Kc.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),p?p.parentNode.insertBefore(m,p.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),r.state.loading|=4}}var Vl={$$typeof:K,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function jx(s,r,l,c,m,p,T,A){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ci(0),this.hiddenUpdates=Ci(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=p,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function L0(s,r,l,c,m,p,T,A,V,q,Z,tt){return s=new jx(s,r,l,T,A,V,q,tt),r=1,p===!0&&(r|=24),p=An(3,null,null,r),s.current=p,p.stateNode=s,r=sd(),r.refCount++,s.pooledCache=r,r.refCount++,p.memoizedState={element:c,isDehydrated:l,cache:r},ld(p),s}function z0(s){return s?(s=Nr,s):Nr}function B0(s,r,l,c,m,p){m=z0(m),c.context===null?c.context=m:c.pendingContext=m,c=Ss(r),c.payload={element:l},p=p===void 0?null:p,p!==null&&(c.callback=p),l=As(s,c,r),l!==null&&(Mn(l,s,r),ul(l,s,r))}function U0(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<r?l:r}}function Ag(s,r){U0(s,r),(s=s.alternate)&&U0(s,r)}function H0(s){if(s.tag===13){var r=Vr(s,67108864);r!==null&&Mn(r,s,67108864),Ag(s,67108864)}}var $c=!0;function Fx(s,r,l,c){var m=X.T;X.T=null;var p=st.p;try{st.p=2,xg(s,r,l,c)}finally{st.p=p,X.T=m}}function qx(s,r,l,c){var m=X.T;X.T=null;var p=st.p;try{st.p=8,xg(s,r,l,c)}finally{st.p=p,X.T=m}}function xg(s,r,l,c){if($c){var m=wg(c);if(m===null)fg(s,r,c,Zc,l),F0(s,c);else if(Yx(m,s,r,l,c))c.stopPropagation();else if(F0(s,c),r&4&&-1<Gx.indexOf(s)){for(;m!==null;){var p=ri(m);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var T=Qn(p.pendingLanes);if(T!==0){var A=p;for(A.pendingLanes|=2,A.entangledLanes|=2;T;){var V=1<<31-tn(T);A.entanglements[1]|=V,T&=~V}bi(p),(Kt&6)===0&&(kc=In()+500,wl(0))}}break;case 13:A=Vr(p,2),A!==null&&Mn(A,p,2),Lc(),Ag(p,2)}if(p=wg(c),p===null&&fg(s,r,c,Zc,l),p===m)break;m=p}m!==null&&c.stopPropagation()}else fg(s,r,c,null,l)}}function wg(s){return s=kn(s),Rg(s)}var Zc=null;function Rg(s){if(Zc=null,s=Ii(s),s!==null){var r=o(s);if(r===null)s=null;else{var l=r.tag;if(l===13){if(s=u(r),s!==null)return s;s=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return Zc=s,null}function j0(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Cf()){case Oo:return 2;case fr:return 8;case fa:case Of:return 32;case dr:return 268435456;default:return 32}default:return 32}}var Dg=!1,Ls=null,zs=null,Bs=null,Nl=new Map,kl=new Map,Us=[],Gx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function F0(s,r){switch(s){case"focusin":case"focusout":Ls=null;break;case"dragenter":case"dragleave":zs=null;break;case"mouseover":case"mouseout":Bs=null;break;case"pointerover":case"pointerout":Nl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":kl.delete(r.pointerId)}}function Pl(s,r,l,c,m,p){return s===null||s.nativeEvent!==p?(s={blockedOn:r,domEventName:l,eventSystemFlags:c,nativeEvent:p,targetContainers:[m]},r!==null&&(r=ri(r),r!==null&&H0(r)),s):(s.eventSystemFlags|=c,r=s.targetContainers,m!==null&&r.indexOf(m)===-1&&r.push(m),s)}function Yx(s,r,l,c,m){switch(r){case"focusin":return Ls=Pl(Ls,s,r,l,c,m),!0;case"dragenter":return zs=Pl(zs,s,r,l,c,m),!0;case"mouseover":return Bs=Pl(Bs,s,r,l,c,m),!0;case"pointerover":var p=m.pointerId;return Nl.set(p,Pl(Nl.get(p)||null,s,r,l,c,m)),!0;case"gotpointercapture":return p=m.pointerId,kl.set(p,Pl(kl.get(p)||null,s,r,l,c,m)),!0}return!1}function q0(s){var r=Ii(s.target);if(r!==null){var l=o(r);if(l!==null){if(r=l.tag,r===13){if(r=u(l),r!==null){s.blockedOn=r,Lu(s.priority,function(){if(l.tag===13){var c=Dn();c=gs(c);var m=Vr(l,c);m!==null&&Mn(m,l,c),Ag(l,c)}});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Jc(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var l=wg(s.nativeEvent);if(l===null){l=s.nativeEvent;var c=new l.constructor(l.type,l);Pi=c,l.target.dispatchEvent(c),Pi=null}else return r=ri(l),r!==null&&H0(r),s.blockedOn=l,!1;r.shift()}return!0}function G0(s,r,l){Jc(s)&&l.delete(r)}function Qx(){Dg=!1,Ls!==null&&Jc(Ls)&&(Ls=null),zs!==null&&Jc(zs)&&(zs=null),Bs!==null&&Jc(Bs)&&(Bs=null),Nl.forEach(G0),kl.forEach(G0)}function th(s,r){s.blockedOn===r&&(s.blockedOn=null,Dg||(Dg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Qx)))}var eh=null;function Y0(s){eh!==s&&(eh=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){eh===s&&(eh=null);for(var r=0;r<s.length;r+=3){var l=s[r],c=s[r+1],m=s[r+2];if(typeof c!="function"){if(Rg(c||l)===null)continue;break}var p=ri(l);p!==null&&(s.splice(r,3),r-=3,Rd(p,{pending:!0,data:m,method:l.method,action:c},c,m))}}))}function Ll(s){function r(V){return th(V,s)}Ls!==null&&th(Ls,s),zs!==null&&th(zs,s),Bs!==null&&th(Bs,s),Nl.forEach(r),kl.forEach(r);for(var l=0;l<Us.length;l++){var c=Us[l];c.blockedOn===s&&(c.blockedOn=null)}for(;0<Us.length&&(l=Us[0],l.blockedOn===null);)q0(l),l.blockedOn===null&&Us.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var m=l[c],p=l[c+1],T=m[Ae]||null;if(typeof p=="function")T||Y0(l);else if(T){var A=null;if(p&&p.hasAttribute("formAction")){if(m=p,T=p[Ae]||null)A=T.formAction;else if(Rg(m)!==null)continue}else A=T.action;typeof A=="function"?l[c+1]=A:(l.splice(c,3),c-=3),Y0(l)}}}function Mg(s){this._internalRoot=s}nh.prototype.render=Mg.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var l=r.current,c=Dn();B0(l,c,s,r,null,null)},nh.prototype.unmount=Mg.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;B0(s.current,2,null,s,null,null),Lc(),r[Vn]=null}};function nh(s){this._internalRoot=s}nh.prototype.unstable_scheduleHydration=function(s){if(s){var r=ms();s={blockedOn:null,target:s,priority:r};for(var l=0;l<Us.length&&r!==0&&r<Us[l].priority;l++);Us.splice(l,0,s),l===0&&q0(s)}};var Q0=t.version;if(Q0!=="19.1.0")throw Error(i(527,Q0,"19.1.0"));st.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=f(r),s=s!==null?g(s):null,s=s===null?null:s.stateNode,s};var Xx={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ih=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ih.isDisabled&&ih.supportsFiber)try{me=ih.inject(Xx),Xt=ih}catch{}}return Bl.createRoot=function(s,r){if(!a(s))throw Error(i(299));var l=!1,c="",m=u_,p=c_,T=h_,A=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(A=r.unstable_transitionCallbacks)),r=L0(s,1,!1,null,null,l,c,m,p,T,A,null),s[Vn]=r.current,hg(s),new Mg(r)},Bl.hydrateRoot=function(s,r,l){if(!a(s))throw Error(i(299));var c=!1,m="",p=u_,T=c_,A=h_,V=null,q=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(p=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(A=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(V=l.unstable_transitionCallbacks),l.formState!==void 0&&(q=l.formState)),r=L0(s,1,!0,r,l??null,c,m,p,T,A,V,q),r.context=z0(null),l=r.current,c=Dn(),c=gs(c),m=Ss(c),m.callback=null,As(l,m,c),l=c,r.current.lanes=l,Oi(r,l),bi(r),s[Vn]=r.current,hg(s),new nh(r)},Bl.version="19.1.0",Bl}var iv;function r1(){if(iv)return Ig.exports;iv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Ig.exports=a1(),Ig.exports}var o1=r1();const l1=PE(o1),u1=()=>{};var sv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?t[e++]=a:a<2048?(t[e++]=a>>6|192,t[e++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=a>>18|240,t[e++]=a>>12&63|128,t[e++]=a>>6&63|128,t[e++]=a&63|128):(t[e++]=a>>12|224,t[e++]=a>>6&63|128,t[e++]=a&63|128)}return t},c1=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const a=n[e++];if(a<128)t[i++]=String.fromCharCode(a);else if(a>191&&a<224){const o=n[e++];t[i++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=n[e++],u=n[e++],h=n[e++],f=((a&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(f&1023))}else{const o=n[e++],u=n[e++];t[i++]=String.fromCharCode((a&15)<<12|(o&63)<<6|u&63)}}return t.join("")},BE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const o=n[a],u=a+1<n.length,h=u?n[a+1]:0,f=a+2<n.length,g=f?n[a+2]:0,y=o>>2,_=(o&3)<<4|h>>4;let b=(h&15)<<2|g>>6,S=g&63;f||(S=64,u||(b=64)),i.push(e[y],e[_],e[b],e[S])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(zE(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):c1(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const o=e[n.charAt(a++)],h=a<n.length?e[n.charAt(a)]:0;++a;const g=a<n.length?e[n.charAt(a)]:64;++a;const _=a<n.length?e[n.charAt(a)]:64;if(++a,o==null||h==null||g==null||_==null)throw new h1;const b=o<<2|h>>4;if(i.push(b),g!==64){const S=h<<4&240|g>>2;if(i.push(S),_!==64){const x=g<<6&192|_;i.push(x)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class h1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const f1=function(n){const t=zE(n);return BE.encodeByteArray(t,!0)},zh=function(n){return f1(n).replace(/\./g,"")},d1=function(n){try{return BE.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1=()=>g1().__FIREBASE_DEFAULTS__,p1=()=>{if(typeof process>"u"||typeof sv>"u")return;const n=sv.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},y1=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&d1(n[1]);return t&&JSON.parse(t)},qm=()=>{try{return u1()||m1()||p1()||y1()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},_1=n=>{var t,e;return(e=(t=qm())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[n]},v1=n=>{const t=_1(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},UE=()=>{var n;return(n=qm())===null||n===void 0?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",a=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[zh(JSON.stringify(e)),zh(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function S1(){var n;const t=(n=qm())===null||n===void 0?void 0:n.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function A1(){return!S1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function x1(){try{return typeof indexedDB=="object"}catch{return!1}}function w1(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{e=!1},a.onerror=()=>{var o;t(((o=a.error)===null||o===void 0?void 0:o.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1="FirebaseError";class xo extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=R1,Object.setPrototypeOf(this,xo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,HE.prototype.create)}}class HE{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},a=`${this.service}/${t}`,o=this.errors[t],u=o?D1(o,i):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new xo(a,h,i)}}function D1(n,t){return n.replace(M1,(e,i)=>{const a=t[i];return a!=null?String(a):`<${i}?>`})}const M1=/\{\$([^}]+)}/g;function Bh(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const a of e){if(!i.includes(a))return!1;const o=n[a],u=t[a];if(av(o)&&av(u)){if(!Bh(o,u))return!1}else if(o!==u)return!1}for(const a of i)if(!e.includes(a))return!1;return!0}function av(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function go(n){return n&&n._delegate?n._delegate:n}class hu{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new b1;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:e});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(I1(t))try{this.getOrInitializeService({instanceIdentifier:Wa})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:a});i.resolve(o)}catch{}}}}clearInstance(t=Wa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Wa){return this.instances.has(t)}getOptions(t=Wa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&u.resolve(a)}return a}onInit(t,e){var i;const a=this.normalizeInstanceIdentifier(e),o=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;o.add(t),this.onInitCallbacks.set(a,o);const u=this.instances.get(a);return u&&t(u,a),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const a of i)try{a(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:O1(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Wa){return this.component?this.component.multipleInstances?t:Wa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function O1(n){return n===Wa?void 0:n}function I1(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new C1(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(jt||(jt={}));const N1={debug:jt.DEBUG,verbose:jt.VERBOSE,info:jt.INFO,warn:jt.WARN,error:jt.ERROR,silent:jt.SILENT},k1=jt.INFO,P1={[jt.DEBUG]:"log",[jt.VERBOSE]:"log",[jt.INFO]:"info",[jt.WARN]:"warn",[jt.ERROR]:"error"},L1=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),a=P1[t];if(a)console[a](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class jE{constructor(t){this.name=t,this._logLevel=k1,this._logHandler=L1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in jt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?N1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,jt.DEBUG,...t),this._logHandler(this,jt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,jt.VERBOSE,...t),this._logHandler(this,jt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,jt.INFO,...t),this._logHandler(this,jt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,jt.WARN,...t),this._logHandler(this,jt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,jt.ERROR,...t),this._logHandler(this,jt.ERROR,...t)}}const z1=(n,t)=>t.some(e=>n instanceof e);let rv,ov;function B1(){return rv||(rv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function U1(){return ov||(ov=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const FE=new WeakMap,am=new WeakMap,qE=new WeakMap,Pg=new WeakMap,Gm=new WeakMap;function H1(n){const t=new Promise((e,i)=>{const a=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{e(Qs(n.result)),a()},u=()=>{i(n.error),a()};n.addEventListener("success",o),n.addEventListener("error",u)});return t.then(e=>{e instanceof IDBCursor&&FE.set(e,n)}).catch(()=>{}),Gm.set(t,n),t}function j1(n){if(am.has(n))return;const t=new Promise((e,i)=>{const a=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{e(),a()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});am.set(n,t)}let rm={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return am.get(n);if(t==="objectStoreNames")return n.objectStoreNames||qE.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Qs(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function F1(n){rm=n(rm)}function q1(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(Lg(this),t,...e);return qE.set(i,t.sort?t.sort():[t]),Qs(i)}:U1().includes(n)?function(...t){return n.apply(Lg(this),t),Qs(FE.get(this))}:function(...t){return Qs(n.apply(Lg(this),t))}}function G1(n){return typeof n=="function"?q1(n):(n instanceof IDBTransaction&&j1(n),z1(n,B1())?new Proxy(n,rm):n)}function Qs(n){if(n instanceof IDBRequest)return H1(n);if(Pg.has(n))return Pg.get(n);const t=G1(n);return t!==n&&(Pg.set(n,t),Gm.set(t,n)),t}const Lg=n=>Gm.get(n);function Y1(n,t,{blocked:e,upgrade:i,blocking:a,terminated:o}={}){const u=indexedDB.open(n,t),h=Qs(u);return i&&u.addEventListener("upgradeneeded",f=>{i(Qs(u.result),f.oldVersion,f.newVersion,Qs(u.transaction),f)}),e&&u.addEventListener("blocked",f=>e(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),a&&f.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const Q1=["get","getKey","getAll","getAllKeys","count"],X1=["put","add","delete","clear"],zg=new Map;function lv(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(zg.get(t))return zg.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,a=X1.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(a||Q1.includes(e)))return;const o=async function(u,...h){const f=this.transaction(u,a?"readwrite":"readonly");let g=f.store;return i&&(g=g.index(h.shift())),(await Promise.all([g[e](...h),a&&f.done]))[0]};return zg.set(t,o),o}F1(n=>({...n,get:(t,e,i)=>lv(t,e)||n.get(t,e,i),has:(t,e)=>!!lv(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(W1(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function W1(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const om="@firebase/app",uv="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs=new jE("@firebase/app"),$1="@firebase/app-compat",Z1="@firebase/analytics-compat",J1="@firebase/analytics",tw="@firebase/app-check-compat",ew="@firebase/app-check",nw="@firebase/auth",iw="@firebase/auth-compat",sw="@firebase/database",aw="@firebase/data-connect",rw="@firebase/database-compat",ow="@firebase/functions",lw="@firebase/functions-compat",uw="@firebase/installations",cw="@firebase/installations-compat",hw="@firebase/messaging",fw="@firebase/messaging-compat",dw="@firebase/performance",gw="@firebase/performance-compat",mw="@firebase/remote-config",pw="@firebase/remote-config-compat",yw="@firebase/storage",_w="@firebase/storage-compat",vw="@firebase/firestore",bw="@firebase/vertexai",Ew="@firebase/firestore-compat",Tw="firebase",Sw="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm="[DEFAULT]",Aw={[om]:"fire-core",[$1]:"fire-core-compat",[J1]:"fire-analytics",[Z1]:"fire-analytics-compat",[ew]:"fire-app-check",[tw]:"fire-app-check-compat",[nw]:"fire-auth",[iw]:"fire-auth-compat",[sw]:"fire-rtdb",[aw]:"fire-data-connect",[rw]:"fire-rtdb-compat",[ow]:"fire-fn",[lw]:"fire-fn-compat",[uw]:"fire-iid",[cw]:"fire-iid-compat",[hw]:"fire-fcm",[fw]:"fire-fcm-compat",[dw]:"fire-perf",[gw]:"fire-perf-compat",[mw]:"fire-rc",[pw]:"fire-rc-compat",[yw]:"fire-gcs",[_w]:"fire-gcs-compat",[vw]:"fire-fst",[Ew]:"fire-fst-compat",[bw]:"fire-vertex","fire-js":"fire-js",[Tw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh=new Map,xw=new Map,um=new Map;function cv(n,t){try{n.container.addComponent(t)}catch(e){cs.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Hh(n){const t=n.name;if(um.has(t))return cs.debug(`There were multiple attempts to register component ${t}.`),!1;um.set(t,n);for(const e of Uh.values())cv(e,n);for(const e of xw.values())cv(e,n);return!0}function ww(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Rw(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xs=new HE("app","Firebase",Dw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(t,e,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new hu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Xs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw=Sw;function GE(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i=Object.assign({name:lm,automaticDataCollectionEnabled:!1},t),a=i.name;if(typeof a!="string"||!a)throw Xs.create("bad-app-name",{appName:String(a)});if(e||(e=UE()),!e)throw Xs.create("no-options");const o=Uh.get(a);if(o){if(Bh(e,o.options)&&Bh(i,o.config))return o;throw Xs.create("duplicate-app",{appName:a})}const u=new V1(a);for(const f of um.values())u.addComponent(f);const h=new Mw(e,i,u);return Uh.set(a,h),h}function Ow(n=lm){const t=Uh.get(n);if(!t&&n===lm&&UE())return GE();if(!t)throw Xs.create("no-app",{appName:n});return t}function co(n,t,e){var i;let a=(i=Aw[n])!==null&&i!==void 0?i:n;e&&(a+=`-${e}`);const o=a.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const h=[`Unable to register library "${a}" with version "${t}":`];o&&h.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),cs.warn(h.join(" "));return}Hh(new hu(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw="firebase-heartbeat-database",Vw=1,fu="firebase-heartbeat-store";let Bg=null;function YE(){return Bg||(Bg=Y1(Iw,Vw,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(fu)}catch(e){console.warn(e)}}}}).catch(n=>{throw Xs.create("idb-open",{originalErrorMessage:n.message})})),Bg}async function Nw(n){try{const e=(await YE()).transaction(fu),i=await e.objectStore(fu).get(QE(n));return await e.done,i}catch(t){if(t instanceof xo)cs.warn(t.message);else{const e=Xs.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});cs.warn(e.message)}}}async function hv(n,t){try{const i=(await YE()).transaction(fu,"readwrite");await i.objectStore(fu).put(t,QE(n)),await i.done}catch(e){if(e instanceof xo)cs.warn(e.message);else{const i=Xs.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});cs.warn(i.message)}}}function QE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw=1024,Pw=30;class Lw{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new Bw(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,e;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=fv();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:a}),this._heartbeatsCache.heartbeats.length>Pw){const u=Uw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){cs.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=fv(),{heartbeatsToSend:i,unsentEntries:a}=zw(this._heartbeatsCache.heartbeats),o=zh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return cs.warn(e),""}}}function fv(){return new Date().toISOString().substring(0,10)}function zw(n,t=kw){const e=[];let i=n.slice();for(const a of n){const o=e.find(u=>u.agent===a.agent);if(o){if(o.dates.push(a.date),dv(e)>t){o.dates.pop();break}}else if(e.push({agent:a.agent,dates:[a.date]}),dv(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class Bw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return x1()?w1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await Nw(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const a=await this.read();return hv(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const a=await this.read();return hv(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function dv(n){return zh(JSON.stringify({version:2,heartbeats:n})).length}function Uw(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(n){Hh(new hu("platform-logger",t=>new K1(t),"PRIVATE")),Hh(new hu("heartbeat",t=>new Lw(t),"PRIVATE")),co(om,uv,n),co(om,uv,"esm2017"),co("fire-js","")}Hw("");var gv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ks,XE;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(O,w){function C(){}C.prototype=w.prototype,O.D=w.prototype,O.prototype=new C,O.prototype.constructor=O,O.C=function(N,k,L){for(var I=Array(arguments.length-2),qt=2;qt<arguments.length;qt++)I[qt-2]=arguments[qt];return w.prototype[k].apply(N,I)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,e),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(O,w,C){C||(C=0);var N=Array(16);if(typeof w=="string")for(var k=0;16>k;++k)N[k]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(k=0;16>k;++k)N[k]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=O.g[0],C=O.g[1],k=O.g[2];var L=O.g[3],I=w+(L^C&(k^L))+N[0]+3614090360&4294967295;w=C+(I<<7&4294967295|I>>>25),I=L+(k^w&(C^k))+N[1]+3905402710&4294967295,L=w+(I<<12&4294967295|I>>>20),I=k+(C^L&(w^C))+N[2]+606105819&4294967295,k=L+(I<<17&4294967295|I>>>15),I=C+(w^k&(L^w))+N[3]+3250441966&4294967295,C=k+(I<<22&4294967295|I>>>10),I=w+(L^C&(k^L))+N[4]+4118548399&4294967295,w=C+(I<<7&4294967295|I>>>25),I=L+(k^w&(C^k))+N[5]+1200080426&4294967295,L=w+(I<<12&4294967295|I>>>20),I=k+(C^L&(w^C))+N[6]+2821735955&4294967295,k=L+(I<<17&4294967295|I>>>15),I=C+(w^k&(L^w))+N[7]+4249261313&4294967295,C=k+(I<<22&4294967295|I>>>10),I=w+(L^C&(k^L))+N[8]+1770035416&4294967295,w=C+(I<<7&4294967295|I>>>25),I=L+(k^w&(C^k))+N[9]+2336552879&4294967295,L=w+(I<<12&4294967295|I>>>20),I=k+(C^L&(w^C))+N[10]+4294925233&4294967295,k=L+(I<<17&4294967295|I>>>15),I=C+(w^k&(L^w))+N[11]+2304563134&4294967295,C=k+(I<<22&4294967295|I>>>10),I=w+(L^C&(k^L))+N[12]+1804603682&4294967295,w=C+(I<<7&4294967295|I>>>25),I=L+(k^w&(C^k))+N[13]+4254626195&4294967295,L=w+(I<<12&4294967295|I>>>20),I=k+(C^L&(w^C))+N[14]+2792965006&4294967295,k=L+(I<<17&4294967295|I>>>15),I=C+(w^k&(L^w))+N[15]+1236535329&4294967295,C=k+(I<<22&4294967295|I>>>10),I=w+(k^L&(C^k))+N[1]+4129170786&4294967295,w=C+(I<<5&4294967295|I>>>27),I=L+(C^k&(w^C))+N[6]+3225465664&4294967295,L=w+(I<<9&4294967295|I>>>23),I=k+(w^C&(L^w))+N[11]+643717713&4294967295,k=L+(I<<14&4294967295|I>>>18),I=C+(L^w&(k^L))+N[0]+3921069994&4294967295,C=k+(I<<20&4294967295|I>>>12),I=w+(k^L&(C^k))+N[5]+3593408605&4294967295,w=C+(I<<5&4294967295|I>>>27),I=L+(C^k&(w^C))+N[10]+38016083&4294967295,L=w+(I<<9&4294967295|I>>>23),I=k+(w^C&(L^w))+N[15]+3634488961&4294967295,k=L+(I<<14&4294967295|I>>>18),I=C+(L^w&(k^L))+N[4]+3889429448&4294967295,C=k+(I<<20&4294967295|I>>>12),I=w+(k^L&(C^k))+N[9]+568446438&4294967295,w=C+(I<<5&4294967295|I>>>27),I=L+(C^k&(w^C))+N[14]+3275163606&4294967295,L=w+(I<<9&4294967295|I>>>23),I=k+(w^C&(L^w))+N[3]+4107603335&4294967295,k=L+(I<<14&4294967295|I>>>18),I=C+(L^w&(k^L))+N[8]+1163531501&4294967295,C=k+(I<<20&4294967295|I>>>12),I=w+(k^L&(C^k))+N[13]+2850285829&4294967295,w=C+(I<<5&4294967295|I>>>27),I=L+(C^k&(w^C))+N[2]+4243563512&4294967295,L=w+(I<<9&4294967295|I>>>23),I=k+(w^C&(L^w))+N[7]+1735328473&4294967295,k=L+(I<<14&4294967295|I>>>18),I=C+(L^w&(k^L))+N[12]+2368359562&4294967295,C=k+(I<<20&4294967295|I>>>12),I=w+(C^k^L)+N[5]+4294588738&4294967295,w=C+(I<<4&4294967295|I>>>28),I=L+(w^C^k)+N[8]+2272392833&4294967295,L=w+(I<<11&4294967295|I>>>21),I=k+(L^w^C)+N[11]+1839030562&4294967295,k=L+(I<<16&4294967295|I>>>16),I=C+(k^L^w)+N[14]+4259657740&4294967295,C=k+(I<<23&4294967295|I>>>9),I=w+(C^k^L)+N[1]+2763975236&4294967295,w=C+(I<<4&4294967295|I>>>28),I=L+(w^C^k)+N[4]+1272893353&4294967295,L=w+(I<<11&4294967295|I>>>21),I=k+(L^w^C)+N[7]+4139469664&4294967295,k=L+(I<<16&4294967295|I>>>16),I=C+(k^L^w)+N[10]+3200236656&4294967295,C=k+(I<<23&4294967295|I>>>9),I=w+(C^k^L)+N[13]+681279174&4294967295,w=C+(I<<4&4294967295|I>>>28),I=L+(w^C^k)+N[0]+3936430074&4294967295,L=w+(I<<11&4294967295|I>>>21),I=k+(L^w^C)+N[3]+3572445317&4294967295,k=L+(I<<16&4294967295|I>>>16),I=C+(k^L^w)+N[6]+76029189&4294967295,C=k+(I<<23&4294967295|I>>>9),I=w+(C^k^L)+N[9]+3654602809&4294967295,w=C+(I<<4&4294967295|I>>>28),I=L+(w^C^k)+N[12]+3873151461&4294967295,L=w+(I<<11&4294967295|I>>>21),I=k+(L^w^C)+N[15]+530742520&4294967295,k=L+(I<<16&4294967295|I>>>16),I=C+(k^L^w)+N[2]+3299628645&4294967295,C=k+(I<<23&4294967295|I>>>9),I=w+(k^(C|~L))+N[0]+4096336452&4294967295,w=C+(I<<6&4294967295|I>>>26),I=L+(C^(w|~k))+N[7]+1126891415&4294967295,L=w+(I<<10&4294967295|I>>>22),I=k+(w^(L|~C))+N[14]+2878612391&4294967295,k=L+(I<<15&4294967295|I>>>17),I=C+(L^(k|~w))+N[5]+4237533241&4294967295,C=k+(I<<21&4294967295|I>>>11),I=w+(k^(C|~L))+N[12]+1700485571&4294967295,w=C+(I<<6&4294967295|I>>>26),I=L+(C^(w|~k))+N[3]+2399980690&4294967295,L=w+(I<<10&4294967295|I>>>22),I=k+(w^(L|~C))+N[10]+4293915773&4294967295,k=L+(I<<15&4294967295|I>>>17),I=C+(L^(k|~w))+N[1]+2240044497&4294967295,C=k+(I<<21&4294967295|I>>>11),I=w+(k^(C|~L))+N[8]+1873313359&4294967295,w=C+(I<<6&4294967295|I>>>26),I=L+(C^(w|~k))+N[15]+4264355552&4294967295,L=w+(I<<10&4294967295|I>>>22),I=k+(w^(L|~C))+N[6]+2734768916&4294967295,k=L+(I<<15&4294967295|I>>>17),I=C+(L^(k|~w))+N[13]+1309151649&4294967295,C=k+(I<<21&4294967295|I>>>11),I=w+(k^(C|~L))+N[4]+4149444226&4294967295,w=C+(I<<6&4294967295|I>>>26),I=L+(C^(w|~k))+N[11]+3174756917&4294967295,L=w+(I<<10&4294967295|I>>>22),I=k+(w^(L|~C))+N[2]+718787259&4294967295,k=L+(I<<15&4294967295|I>>>17),I=C+(L^(k|~w))+N[9]+3951481745&4294967295,O.g[0]=O.g[0]+w&4294967295,O.g[1]=O.g[1]+(k+(I<<21&4294967295|I>>>11))&4294967295,O.g[2]=O.g[2]+k&4294967295,O.g[3]=O.g[3]+L&4294967295}i.prototype.u=function(O,w){w===void 0&&(w=O.length);for(var C=w-this.blockSize,N=this.B,k=this.h,L=0;L<w;){if(k==0)for(;L<=C;)a(this,O,L),L+=this.blockSize;if(typeof O=="string"){for(;L<w;)if(N[k++]=O.charCodeAt(L++),k==this.blockSize){a(this,N),k=0;break}}else for(;L<w;)if(N[k++]=O[L++],k==this.blockSize){a(this,N),k=0;break}}this.h=k,this.o+=w},i.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var w=1;w<O.length-8;++w)O[w]=0;var C=8*this.o;for(w=O.length-8;w<O.length;++w)O[w]=C&255,C/=256;for(this.u(O),O=Array(16),w=C=0;4>w;++w)for(var N=0;32>N;N+=8)O[C++]=this.g[w]>>>N&255;return O};function o(O,w){var C=h;return Object.prototype.hasOwnProperty.call(C,O)?C[O]:C[O]=w(O)}function u(O,w){this.h=w;for(var C=[],N=!0,k=O.length-1;0<=k;k--){var L=O[k]|0;N&&L==w||(C[k]=L,N=!1)}this.g=C}var h={};function f(O){return-128<=O&&128>O?o(O,function(w){return new u([w|0],0>w?-1:0)}):new u([O|0],0>O?-1:0)}function g(O){if(isNaN(O)||!isFinite(O))return _;if(0>O)return M(g(-O));for(var w=[],C=1,N=0;O>=C;N++)w[N]=O/C|0,C*=4294967296;return new u(w,0)}function y(O,w){if(O.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(O.charAt(0)=="-")return M(y(O.substring(1),w));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=g(Math.pow(w,8)),N=_,k=0;k<O.length;k+=8){var L=Math.min(8,O.length-k),I=parseInt(O.substring(k,k+L),w);8>L?(L=g(Math.pow(w,L)),N=N.j(L).add(g(I))):(N=N.j(C),N=N.add(g(I)))}return N}var _=f(0),b=f(1),S=f(16777216);n=u.prototype,n.m=function(){if(D(this))return-M(this).m();for(var O=0,w=1,C=0;C<this.g.length;C++){var N=this.i(C);O+=(0<=N?N:4294967296+N)*w,w*=4294967296}return O},n.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(x(this))return"0";if(D(this))return"-"+M(this).toString(O);for(var w=g(Math.pow(O,6)),C=this,N="";;){var k=$(C,w).g;C=z(C,k.j(w));var L=((0<C.g.length?C.g[0]:C.h)>>>0).toString(O);if(C=k,x(C))return L+N;for(;6>L.length;)L="0"+L;N=L+N}},n.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function x(O){if(O.h!=0)return!1;for(var w=0;w<O.g.length;w++)if(O.g[w]!=0)return!1;return!0}function D(O){return O.h==-1}n.l=function(O){return O=z(this,O),D(O)?-1:x(O)?0:1};function M(O){for(var w=O.g.length,C=[],N=0;N<w;N++)C[N]=~O.g[N];return new u(C,~O.h).add(b)}n.abs=function(){return D(this)?M(this):this},n.add=function(O){for(var w=Math.max(this.g.length,O.g.length),C=[],N=0,k=0;k<=w;k++){var L=N+(this.i(k)&65535)+(O.i(k)&65535),I=(L>>>16)+(this.i(k)>>>16)+(O.i(k)>>>16);N=I>>>16,L&=65535,I&=65535,C[k]=I<<16|L}return new u(C,C[C.length-1]&-2147483648?-1:0)};function z(O,w){return O.add(M(w))}n.j=function(O){if(x(this)||x(O))return _;if(D(this))return D(O)?M(this).j(M(O)):M(M(this).j(O));if(D(O))return M(this.j(M(O)));if(0>this.l(S)&&0>O.l(S))return g(this.m()*O.m());for(var w=this.g.length+O.g.length,C=[],N=0;N<2*w;N++)C[N]=0;for(N=0;N<this.g.length;N++)for(var k=0;k<O.g.length;k++){var L=this.i(N)>>>16,I=this.i(N)&65535,qt=O.i(k)>>>16,_t=O.i(k)&65535;C[2*N+2*k]+=I*_t,H(C,2*N+2*k),C[2*N+2*k+1]+=L*_t,H(C,2*N+2*k+1),C[2*N+2*k+1]+=I*qt,H(C,2*N+2*k+1),C[2*N+2*k+2]+=L*qt,H(C,2*N+2*k+2)}for(N=0;N<w;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=w;N<2*w;N++)C[N]=0;return new u(C,0)};function H(O,w){for(;(O[w]&65535)!=O[w];)O[w+1]+=O[w]>>>16,O[w]&=65535,w++}function K(O,w){this.g=O,this.h=w}function $(O,w){if(x(w))throw Error("division by zero");if(x(O))return new K(_,_);if(D(O))return w=$(M(O),w),new K(M(w.g),M(w.h));if(D(w))return w=$(O,M(w)),new K(M(w.g),w.h);if(30<O.g.length){if(D(O)||D(w))throw Error("slowDivide_ only works with positive integers.");for(var C=b,N=w;0>=N.l(O);)C=G(C),N=G(N);var k=nt(C,1),L=nt(N,1);for(N=nt(N,2),C=nt(C,2);!x(N);){var I=L.add(N);0>=I.l(O)&&(k=k.add(C),L=I),N=nt(N,1),C=nt(C,1)}return w=z(O,k.j(w)),new K(k,w)}for(k=_;0<=O.l(w);){for(C=Math.max(1,Math.floor(O.m()/w.m())),N=Math.ceil(Math.log(C)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),L=g(C),I=L.j(w);D(I)||0<I.l(O);)C-=N,L=g(C),I=L.j(w);x(L)&&(L=b),k=k.add(L),O=z(O,I)}return new K(k,O)}n.A=function(O){return $(this,O).h},n.and=function(O){for(var w=Math.max(this.g.length,O.g.length),C=[],N=0;N<w;N++)C[N]=this.i(N)&O.i(N);return new u(C,this.h&O.h)},n.or=function(O){for(var w=Math.max(this.g.length,O.g.length),C=[],N=0;N<w;N++)C[N]=this.i(N)|O.i(N);return new u(C,this.h|O.h)},n.xor=function(O){for(var w=Math.max(this.g.length,O.g.length),C=[],N=0;N<w;N++)C[N]=this.i(N)^O.i(N);return new u(C,this.h^O.h)};function G(O){for(var w=O.g.length+1,C=[],N=0;N<w;N++)C[N]=O.i(N)<<1|O.i(N-1)>>>31;return new u(C,O.h)}function nt(O,w){var C=w>>5;w%=32;for(var N=O.g.length-C,k=[],L=0;L<N;L++)k[L]=0<w?O.i(L+C)>>>w|O.i(L+C+1)<<32-w:O.i(L+C);return new u(k,O.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,XE=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=y,Ks=u}).apply(typeof gv<"u"?gv:typeof self<"u"?self:typeof window<"u"?window:{});var sh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var KE,Yl,WE,Sh,cm,$E,ZE,JE;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,v,E){return d==Array.prototype||d==Object.prototype||(d[v]=E.value),d};function e(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof sh=="object"&&sh];for(var v=0;v<d.length;++v){var E=d[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=e(this);function a(d,v){if(v)t:{var E=i;d=d.split(".");for(var R=0;R<d.length-1;R++){var j=d[R];if(!(j in E))break t;E=E[j]}d=d[d.length-1],R=E[d],v=v(R),v!=R&&v!=null&&t(E,d,{configurable:!0,writable:!0,value:v})}}function o(d,v){d instanceof String&&(d+="");var E=0,R=!1,j={next:function(){if(!R&&E<d.length){var W=E++;return{value:v(W,d[W]),done:!1}}return R=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}a("Array.prototype.values",function(d){return d||function(){return o(this,function(v,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function f(d){var v=typeof d;return v=v!="object"?v:d?Array.isArray(d)?"array":v:"null",v=="array"||v=="object"&&typeof d.length=="number"}function g(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function y(d,v,E){return d.call.apply(d.bind,arguments)}function _(d,v,E){if(!d)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,R),d.apply(v,j)}}return function(){return d.apply(v,arguments)}}function b(d,v,E){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,b.apply(null,arguments)}function S(d,v){var E=Array.prototype.slice.call(arguments,1);return function(){var R=E.slice();return R.push.apply(R,arguments),d.apply(this,R)}}function x(d,v){function E(){}E.prototype=v.prototype,d.aa=v.prototype,d.prototype=new E,d.prototype.constructor=d,d.Qb=function(R,j,W){for(var ot=Array(arguments.length-2),zt=2;zt<arguments.length;zt++)ot[zt-2]=arguments[zt];return v.prototype[j].apply(R,ot)}}function D(d){const v=d.length;if(0<v){const E=Array(v);for(let R=0;R<v;R++)E[R]=d[R];return E}return[]}function M(d,v){for(let E=1;E<arguments.length;E++){const R=arguments[E];if(f(R)){const j=d.length||0,W=R.length||0;d.length=j+W;for(let ot=0;ot<W;ot++)d[j+ot]=R[ot]}else d.push(R)}}class z{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function H(d){return/^[\s\xa0]*$/.test(d)}function K(){var d=h.navigator;return d&&(d=d.userAgent)?d:""}function $(d){return $[" "](d),d}$[" "]=function(){};var G=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function nt(d,v,E){for(const R in d)v.call(E,d[R],R,d)}function O(d,v){for(const E in d)v.call(void 0,d[E],E,d)}function w(d){const v={};for(const E in d)v[E]=d[E];return v}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(d,v){let E,R;for(let j=1;j<arguments.length;j++){R=arguments[j];for(E in R)d[E]=R[E];for(let W=0;W<C.length;W++)E=C[W],Object.prototype.hasOwnProperty.call(R,E)&&(d[E]=R[E])}}function k(d){var v=1;d=d.split(":");const E=[];for(;0<v&&d.length;)E.push(d.shift()),v--;return d.length&&E.push(d.join(":")),E}function L(d){h.setTimeout(()=>{throw d},0)}function I(){var d=St;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class qt{constructor(){this.h=this.g=null}add(v,E){const R=_t.get();R.set(v,E),this.h?this.h.next=R:this.g=R,this.h=R}}var _t=new z(()=>new X,d=>d.reset());class X{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let st,ht=!1,St=new qt,P=()=>{const d=h.Promise.resolve(void 0);st=()=>{d.then(it)}};var it=()=>{for(var d;d=I();){try{d.h.call(d.g)}catch(E){L(E)}var v=_t;v.j(d),100>v.h&&(v.h++,d.next=v.g,v.g=d)}ht=!1};function lt(){this.s=this.s,this.C=this.C}lt.prototype.s=!1,lt.prototype.ma=function(){this.s||(this.s=!0,this.N())},lt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function rt(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}rt.prototype.h=function(){this.defaultPrevented=!0};var dt=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const E=()=>{};h.addEventListener("test",E,v),h.removeEventListener("test",E,v)}catch{}return d}();function wt(d,v){if(rt.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var E=this.type=d.type,R=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget){if(G){t:{try{$(v.nodeName);var j=!0;break t}catch{}j=!1}j||(v=null)}}else E=="mouseover"?v=d.fromElement:E=="mouseout"&&(v=d.toElement);this.relatedTarget=v,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:pt[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&wt.aa.h.call(this)}}x(wt,rt);var pt={2:"touch",3:"pen",4:"mouse"};wt.prototype.h=function(){wt.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var ze="closure_listenable_"+(1e6*Math.random()|0),ie=0;function si(d,v,E,R,j){this.listener=d,this.proxy=null,this.src=v,this.type=E,this.capture=!!R,this.ha=j,this.key=++ie,this.da=this.fa=!1}function ds(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Mi(d){this.src=d,this.g={},this.h=0}Mi.prototype.add=function(d,v,E,R,j){var W=d.toString();d=this.g[W],d||(d=this.g[W]=[],this.h++);var ot=ca(d,v,R,j);return-1<ot?(v=d[ot],E||(v.fa=!1)):(v=new si(v,this.src,W,!!R,j),v.fa=E,d.push(v)),v};function ua(d,v){var E=v.type;if(E in d.g){var R=d.g[E],j=Array.prototype.indexOf.call(R,v,void 0),W;(W=0<=j)&&Array.prototype.splice.call(R,j,1),W&&(ds(v),d.g[E].length==0&&(delete d.g[E],d.h--))}}function ca(d,v,E,R){for(var j=0;j<d.length;++j){var W=d[j];if(!W.da&&W.listener==v&&W.capture==!!E&&W.ha==R)return j}return-1}var ha="closure_lm_"+(1e6*Math.random()|0),Co={};function Nu(d,v,E,R,j){if(Array.isArray(v)){for(var W=0;W<v.length;W++)Nu(d,v[W],E,R,j);return null}return E=ku(E),d&&d[ze]?d.K(v,E,g(R)?!!R.capture:!1,j):In(d,v,E,!1,R,j)}function In(d,v,E,R,j,W){if(!v)throw Error("Invalid event type");var ot=g(j)?!!j.capture:!!j,zt=dr(d);if(zt||(d[ha]=zt=new Mi(d)),E=zt.add(v,E,R,ot,W),E.proxy)return E;if(R=Cf(),E.proxy=R,R.src=d,R.listener=E,d.addEventListener)dt||(j=ot),j===void 0&&(j=!1),d.addEventListener(v.toString(),R,j);else if(d.attachEvent)d.attachEvent(fa(v.toString()),R);else if(d.addListener&&d.removeListener)d.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Cf(){function d(E){return v.call(d.src,d.listener,E)}const v=Of;return d}function Oo(d,v,E,R,j){if(Array.isArray(v))for(var W=0;W<v.length;W++)Oo(d,v[W],E,R,j);else R=g(R)?!!R.capture:!!R,E=ku(E),d&&d[ze]?(d=d.i,v=String(v).toString(),v in d.g&&(W=d.g[v],E=ca(W,E,R,j),-1<E&&(ds(W[E]),Array.prototype.splice.call(W,E,1),W.length==0&&(delete d.g[v],d.h--)))):d&&(d=dr(d))&&(v=d.g[v.toString()],d=-1,v&&(d=ca(v,E,R,j)),(E=-1<d?v[d]:null)&&fr(E))}function fr(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[ze])ua(v.i,d);else{var E=d.type,R=d.proxy;v.removeEventListener?v.removeEventListener(E,R,d.capture):v.detachEvent?v.detachEvent(fa(E),R):v.addListener&&v.removeListener&&v.removeListener(R),(E=dr(v))?(ua(E,d),E.h==0&&(E.src=null,v[ha]=null)):ds(d)}}}function fa(d){return d in Co?Co[d]:Co[d]="on"+d}function Of(d,v){if(d.da)d=!0;else{v=new wt(v,this);var E=d.listener,R=d.ha||d.src;d.fa&&fr(d),d=E.call(R,v)}return d}function dr(d){return d=d[ha],d instanceof Mi?d:null}var Io="__closure_events_fn_"+(1e9*Math.random()>>>0);function ku(d){return typeof d=="function"?d:(d[Io]||(d[Io]=function(v){return d.handleEvent(v)}),d[Io])}function me(){lt.call(this),this.i=new Mi(this),this.M=this,this.F=null}x(me,lt),me.prototype[ze]=!0,me.prototype.removeEventListener=function(d,v,E,R){Oo(this,d,v,E,R)};function Xt(d,v){var E,R=d.F;if(R)for(E=[];R;R=R.F)E.push(R);if(d=d.M,R=v.type||v,typeof v=="string")v=new rt(v,d);else if(v instanceof rt)v.target=v.target||d;else{var j=v;v=new rt(R,d),N(v,j)}if(j=!0,E)for(var W=E.length-1;0<=W;W--){var ot=v.g=E[W];j=En(ot,R,!0,v)&&j}if(ot=v.g=d,j=En(ot,R,!0,v)&&j,j=En(ot,R,!1,v)&&j,E)for(W=0;W<E.length;W++)ot=v.g=E[W],j=En(ot,R,!1,v)&&j}me.prototype.N=function(){if(me.aa.N.call(this),this.i){var d=this.i,v;for(v in d.g){for(var E=d.g[v],R=0;R<E.length;R++)ds(E[R]);delete d.g[v],d.h--}}this.F=null},me.prototype.K=function(d,v,E,R){return this.i.add(String(d),v,!1,E,R)},me.prototype.L=function(d,v,E,R){return this.i.add(String(d),v,!0,E,R)};function En(d,v,E,R){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();for(var j=!0,W=0;W<v.length;++W){var ot=v[W];if(ot&&!ot.da&&ot.capture==E){var zt=ot.listener,Ce=ot.ha||ot.src;ot.fa&&ua(d.i,ot),j=zt.call(Ce,R)!==!1&&j}}return j&&!R.defaultPrevented}function tn(d,v,E){if(typeof d=="function")E&&(d=b(d,E));else if(d&&typeof d.handleEvent=="function")d=b(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:h.setTimeout(d,v||0)}function Pu(d){d.g=tn(()=>{d.g=null,d.i&&(d.i=!1,Pu(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class If extends lt{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Pu(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function da(d){lt.call(this),this.h=d,this.g={}}x(da,lt);var ga=[];function ma(d){nt(d.g,function(v,E){this.g.hasOwnProperty(E)&&fr(v)},d),d.g={}}da.prototype.N=function(){da.aa.N.call(this),ma(this)},da.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qn=h.JSON.stringify,gr=h.JSON.parse,pa=class{stringify(d){return h.JSON.stringify(d,void 0)}parse(d){return h.JSON.parse(d,void 0)}};function Vo(){}Vo.prototype.h=null;function No(d){return d.h||(d.h=d.i())}function ko(){}var Ci={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Oi(){rt.call(this,"d")}x(Oi,rt);function Po(){rt.call(this,"c")}x(Po,rt);var ai={},Lo=null;function gs(){return Lo=Lo||new me}ai.La="serverreachability";function mr(d){rt.call(this,ai.La,d)}x(mr,rt);function ms(d){const v=gs();Xt(v,new mr(v))}ai.STAT_EVENT="statevent";function Lu(d,v){rt.call(this,ai.STAT_EVENT,d),this.stat=v}x(Lu,rt);function le(d){const v=gs();Xt(v,new Lu(v,d))}ai.Ma="timingevent";function Me(d,v){rt.call(this,ai.Ma,d),this.size=v}x(Me,rt);function Ae(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){d()},v)}function Vn(){this.g=!0}Vn.prototype.xa=function(){this.g=!1};function zo(d,v,E,R,j,W){d.info(function(){if(d.g)if(W)for(var ot="",zt=W.split("&"),Ce=0;Ce<zt.length;Ce++){var Bt=zt[Ce].split("=");if(1<Bt.length){var Ue=Bt[0];Bt=Bt[1];var Oe=Ue.split("_");ot=2<=Oe.length&&Oe[1]=="type"?ot+(Ue+"="+Bt+"&"):ot+(Ue+"=redacted&")}}else ot=null;else ot=W;return"XMLHTTP REQ ("+R+") [attempt "+j+"]: "+v+`
`+E+`
`+ot})}function Vf(d,v,E,R,j,W,ot){d.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+j+"]: "+v+`
`+E+`
`+W+" "+ot})}function ps(d,v,E,R){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+ya(d,E)+(R?" "+R:"")})}function zu(d,v){d.info(function(){return"TIMEOUT: "+v})}Vn.prototype.info=function(){};function ya(d,v){if(!d.g)return v;if(!v)return null;try{var E=JSON.parse(v);if(E){for(d=0;d<E.length;d++)if(Array.isArray(E[d])){var R=E[d];if(!(2>R.length)){var j=R[1];if(Array.isArray(j)&&!(1>j.length)){var W=j[0];if(W!="noop"&&W!="stop"&&W!="close")for(var ot=1;ot<j.length;ot++)j[ot]=""}}}}return Qn(E)}catch{return v}}var ys={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ii={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ri;function oi(){}x(oi,Vo),oi.prototype.g=function(){return new XMLHttpRequest},oi.prototype.i=function(){return{}},ri=new oi;function cn(d,v,E,R){this.j=d,this.i=v,this.l=E,this.R=R||1,this.U=new da(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ve}function ve(){this.i=null,this.g="",this.h=!1}var Bo={},pr={};function Xn(d,v,E){d.L=1,d.v=Ta(Tn(v)),d.m=E,d.P=!0,Vi(d,null)}function Vi(d,v){d.F=Date.now(),_a(d),d.A=Tn(d.v);var E=d.A,R=d.R;Array.isArray(R)||(R=[String(R)]),Go(E.i,"t",R),d.C=0,E=d.j.J,d.h=new ve,d.g=tc(d.j,E?v:null,!d.m),0<d.O&&(d.M=new If(b(d.Y,d,d.g),d.O)),v=d.U,E=d.g,R=d.ca;var j="readystatechange";Array.isArray(j)||(j&&(ga[0]=j.toString()),j=ga);for(var W=0;W<j.length;W++){var ot=Nu(E,j[W],R||v.handleEvent,!1,v.h||v);if(!ot)break;v.g[ot.key]=ot}v=d.H?w(d.H):{},d.m?(d.u||(d.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,v)):(d.u="GET",d.g.ea(d.A,d.u,null,v)),ms(),zo(d.i,d.u,d.A,d.l,d.R,d.m)}cn.prototype.ca=function(d){d=d.target;const v=this.M;v&&Ln(d)==3?v.j():this.Y(d)},cn.prototype.Y=function(d){try{if(d==this.g)t:{const Oe=Ln(this.g);var v=this.g.Ba();const Hi=this.g.Z();if(!(3>Oe)&&(Oe!=3||this.g&&(this.h.h||this.g.oa()||Yu(this.g)))){this.J||Oe!=4||v==7||(v==8||0>=Hi?ms(3):ms(2)),_s(this);var E=this.g.Z();this.X=E;e:if(Bu(this)){var R=Yu(this.g);d="";var j=R.length,W=Ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ye(this),li(this);var ot="";break e}this.h.i=new h.TextDecoder}for(v=0;v<j;v++)this.h.h=!0,d+=this.h.i.decode(R[v],{stream:!(W&&v==j-1)});R.length=0,this.h.g+=d,this.C=0,ot=this.h.g}else ot=this.g.oa();if(this.o=E==200,Vf(this.i,this.u,this.A,this.l,this.R,Oe,E),this.o){if(this.T&&!this.K){e:{if(this.g){var zt,Ce=this.g;if((zt=Ce.g?Ce.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(zt)){var Bt=zt;break e}}Bt=null}if(E=Bt)ps(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,va(this,E);else{this.o=!1,this.s=3,le(12),Ye(this),li(this);break t}}if(this.P){E=!0;let Qe;for(;!this.J&&this.C<ot.length;)if(Qe=Uu(this,ot),Qe==pr){Oe==4&&(this.s=4,le(14),E=!1),ps(this.i,this.l,null,"[Incomplete Response]");break}else if(Qe==Bo){this.s=4,le(15),ps(this.i,this.l,ot,"[Invalid Chunk]"),E=!1;break}else ps(this.i,this.l,Qe,null),va(this,Qe);if(Bu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Oe!=4||ot.length!=0||this.h.h||(this.s=1,le(16),E=!1),this.o=this.o&&E,!E)ps(this.i,this.l,ot,"[Invalid Chunked Response]"),Ye(this),li(this);else if(0<ot.length&&!this.W){this.W=!0;var Ue=this.j;Ue.g==this&&Ue.ba&&!Ue.M&&(Ue.j.info("Great, no buffering proxy detected. Bytes received: "+ot.length),Ca(Ue),Ue.M=!0,le(11))}}else ps(this.i,this.l,ot,null),va(this,ot);Oe==4&&Ye(this),this.o&&!this.J&&(Oe==4?$u(this.j,this):(this.o=!1,_a(this)))}else zf(this.g),E==400&&0<ot.indexOf("Unknown SID")?(this.s=3,le(12)):(this.s=0,le(13)),Ye(this),li(this)}}}catch{}finally{}};function Bu(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Uu(d,v){var E=d.C,R=v.indexOf(`
`,E);return R==-1?pr:(E=Number(v.substring(E,R)),isNaN(E)?Bo:(R+=1,R+E>v.length?pr:(v=v.slice(R,R+E),d.C=R+E,v)))}cn.prototype.cancel=function(){this.J=!0,Ye(this)};function _a(d){d.S=Date.now()+d.I,Hu(d,d.I)}function Hu(d,v){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Ae(b(d.ba,d),v)}function _s(d){d.B&&(h.clearTimeout(d.B),d.B=null)}cn.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(zu(this.i,this.A),this.L!=2&&(ms(),le(17)),Ye(this),this.s=2,li(this)):Hu(this,this.S-d)};function li(d){d.j.G==0||d.J||$u(d.j,d)}function Ye(d){_s(d);var v=d.M;v&&typeof v.ma=="function"&&v.ma(),d.M=null,ma(d.U),d.g&&(v=d.g,d.g=null,v.abort(),v.ma())}function va(d,v){try{var E=d.j;if(E.G!=0&&(E.g==d||Uo(E.h,d))){if(!d.K&&Uo(E.h,d)&&E.G==3){try{var R=E.Da.g.parse(v)}catch{R=null}if(Array.isArray(R)&&R.length==3){var j=R;if(j[0]==0){t:if(!E.u){if(E.g)if(E.g.F+3e3<d.F)Dr(E),wr(E);else break t;Wo(E),le(18)}}else E.za=j[1],0<E.za-E.T&&37500>j[2]&&E.F&&E.v==0&&!E.C&&(E.C=Ae(b(E.Za,E),6e3));if(1>=_r(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Ui(E,11)}else if((d.K||E.g==d)&&Dr(E),!H(v))for(j=E.Da.g.parse(v),v=0;v<j.length;v++){let Bt=j[v];if(E.T=Bt[0],Bt=Bt[1],E.G==2)if(Bt[0]=="c"){E.K=Bt[1],E.ia=Bt[2];const Ue=Bt[3];Ue!=null&&(E.la=Ue,E.j.info("VER="+E.la));const Oe=Bt[4];Oe!=null&&(E.Aa=Oe,E.j.info("SVER="+E.Aa));const Hi=Bt[5];Hi!=null&&typeof Hi=="number"&&0<Hi&&(R=1.5*Hi,E.L=R,E.j.info("backChannelRequestTimeoutMs_="+R)),R=E;const Qe=d.g;if(Qe){const mi=Qe.g?Qe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(mi){var W=R.h;W.g||mi.indexOf("spdy")==-1&&mi.indexOf("quic")==-1&&mi.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(vr(W,W.h),W.h=null))}if(R.D){const Zo=Qe.g?Qe.g.getResponseHeader("X-HTTP-Session-Id"):null;Zo&&(R.ya=Zo,Zt(R.I,R.D,Zo))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-d.F,E.j.info("Handshake RTT: "+E.R+"ms")),R=E;var ot=d;if(R.qa=Ju(R,R.J?R.ia:null,R.W),ot.K){hn(R.h,ot);var zt=ot,Ce=R.L;Ce&&(zt.I=Ce),zt.B&&(_s(zt),_a(zt)),R.g=ot}else Ku(R);0<E.i.length&&Rr(E)}else Bt[0]!="stop"&&Bt[0]!="close"||Ui(E,7);else E.G==3&&(Bt[0]=="stop"||Bt[0]=="close"?Bt[0]=="stop"?Ui(E,7):Xo(E):Bt[0]!="noop"&&E.l&&E.l.ta(Bt),E.v=0)}}ms(4)}catch{}}var ju=class{constructor(d,v){this.g=d,this.map=v}};function Ni(d){this.l=d||10,h.PerformanceNavigationTiming?(d=h.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function yr(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function _r(d){return d.h?1:d.g?d.g.size:0}function Uo(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function vr(d,v){d.g?d.g.add(v):d.h=v}function hn(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}Ni.prototype.cancel=function(){if(this.i=Ho(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Ho(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const E of d.g.values())v=v.concat(E.D);return v}return D(d.i)}function Nf(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(f(d)){for(var v=[],E=d.length,R=0;R<E;R++)v.push(d[R]);return v}v=[],E=0;for(R in d)v[E++]=d[R];return v}function br(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(f(d)||typeof d=="string"){var v=[];d=d.length;for(var E=0;E<d;E++)v.push(E);return v}v=[],E=0;for(const R in d)v[E++]=R;return v}}}function jo(d,v){if(d.forEach&&typeof d.forEach=="function")d.forEach(v,void 0);else if(f(d)||typeof d=="string")Array.prototype.forEach.call(d,v,void 0);else for(var E=br(d),R=Nf(d),j=R.length,W=0;W<j;W++)v.call(void 0,R[W],E&&E[W],d)}var ba=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kf(d,v){if(d){d=d.split("&");for(var E=0;E<d.length;E++){var R=d[E].indexOf("="),j=null;if(0<=R){var W=d[E].substring(0,R);j=d[E].substring(R+1)}else W=d[E];v(W,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function xe(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof xe){this.h=d.h,Ea(this,d.j),this.o=d.o,this.g=d.g,vs(this,d.s),this.l=d.l;var v=d.i,E=new Pi;E.i=v.i,v.g&&(E.g=new Map(v.g),E.h=v.h),ki(this,E),this.m=d.m}else d&&(v=String(d).match(ba))?(this.h=!1,Ea(this,v[1]||"",!0),this.o=Nn(v[2]||""),this.g=Nn(v[3]||"",!0),vs(this,v[4]),this.l=Nn(v[5]||"",!0),ki(this,v[6]||"",!0),this.m=Nn(v[7]||"")):(this.h=!1,this.i=new Pi(null,this.h))}xe.prototype.toString=function(){var d=[],v=this.j;v&&d.push(Sa(v,Fo,!0),":");var E=this.g;return(E||v=="file")&&(d.push("//"),(v=this.o)&&d.push(Sa(v,Fo,!0),"@"),d.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&d.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push(Sa(E,E.charAt(0)=="/"?Pf:qo,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",Sa(E,Er)),d.join("")};function Tn(d){return new xe(d)}function Ea(d,v,E){d.j=E?Nn(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function vs(d,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);d.s=v}else d.s=null}function ki(d,v,E){v instanceof Pi?(d.i=v,qu(d.i,d.h)):(E||(v=Sa(v,Lf)),d.i=new Pi(v,d.h))}function Zt(d,v,E){d.i.set(v,E)}function Ta(d){return Zt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Nn(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Sa(d,v,E){return typeof d=="string"?(d=encodeURI(d).replace(v,Fu),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Fu(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Fo=/[#\/\?@]/g,qo=/[#\?:]/g,Pf=/[#\?]/g,Lf=/[#\?@]/g,Er=/#/g;function Pi(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function kn(d){d.g||(d.g=new Map,d.h=0,d.i&&kf(d.i,function(v,E){d.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}n=Pi.prototype,n.add=function(d,v){kn(this),this.i=null,d=ui(this,d);var E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(v),this.h+=1,this};function Li(d,v){kn(d),v=ui(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function zi(d,v){return kn(d),v=ui(d,v),d.g.has(v)}n.forEach=function(d,v){kn(this),this.g.forEach(function(E,R){E.forEach(function(j){d.call(v,j,R,this)},this)},this)},n.na=function(){kn(this);const d=Array.from(this.g.values()),v=Array.from(this.g.keys()),E=[];for(let R=0;R<v.length;R++){const j=d[R];for(let W=0;W<j.length;W++)E.push(v[R])}return E},n.V=function(d){kn(this);let v=[];if(typeof d=="string")zi(this,d)&&(v=v.concat(this.g.get(ui(this,d))));else{d=Array.from(this.g.values());for(let E=0;E<d.length;E++)v=v.concat(d[E])}return v},n.set=function(d,v){return kn(this),this.i=null,d=ui(this,d),zi(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},n.get=function(d,v){return d?(d=this.V(d),0<d.length?String(d[0]):v):v};function Go(d,v,E){Li(d,v),0<E.length&&(d.i=null,d.g.set(ui(d,v),D(E)),d.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(var E=0;E<v.length;E++){var R=v[E];const W=encodeURIComponent(String(R)),ot=this.V(R);for(R=0;R<ot.length;R++){var j=W;ot[R]!==""&&(j+="="+encodeURIComponent(String(ot[R]))),d.push(j)}}return this.i=d.join("&")};function ui(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function qu(d,v){v&&!d.j&&(kn(d),d.i=null,d.g.forEach(function(E,R){var j=R.toLowerCase();R!=j&&(Li(this,R),Go(this,j,E))},d)),d.j=v}function Aa(d,v){const E=new Vn;if(h.Image){const R=new Image;R.onload=S(Pn,E,"TestLoadImage: loaded",!0,v,R),R.onerror=S(Pn,E,"TestLoadImage: error",!1,v,R),R.onabort=S(Pn,E,"TestLoadImage: abort",!1,v,R),R.ontimeout=S(Pn,E,"TestLoadImage: timeout",!1,v,R),h.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=d}else v(!1)}function Kn(d,v){const E=new Vn,R=new AbortController,j=setTimeout(()=>{R.abort(),Pn(E,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:R.signal}).then(W=>{clearTimeout(j),W.ok?Pn(E,"TestPingServer: ok",!0,v):Pn(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(j),Pn(E,"TestPingServer: error",!1,v)})}function Pn(d,v,E,R,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),R(E)}catch{}}function xa(){this.g=new pa}function ci(d,v,E){const R=E||"";try{jo(d,function(j,W){let ot=j;g(j)&&(ot=Qn(j)),v.push(R+W+"="+encodeURIComponent(ot))})}catch(j){throw v.push(R+"type="+encodeURIComponent("_badmap")),j}}function bs(d){this.l=d.Ub||null,this.j=d.eb||!1}x(bs,Vo),bs.prototype.g=function(){return new Bi(this.l,this.j)},bs.prototype.i=function(d){return function(){return d}}({});function Bi(d,v){me.call(this),this.D=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Bi,me),n=Bi.prototype,n.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=v,this.readyState=1,fi(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(v.body=d),(this.D||h).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,hi(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,fi(this)),this.g&&(this.readyState=3,fi(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Yo(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Yo(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?hi(this):fi(this),this.readyState==3&&Yo(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,hi(this))},n.Qa=function(d){this.g&&(this.response=d,hi(this))},n.ga=function(){this.g&&hi(this)};function hi(d){d.readyState=4,d.l=null,d.j=null,d.v=null,fi(d)}n.setRequestHeader=function(d,v){this.u.append(d,v)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=v.next();return d.join(`\r
`)};function fi(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Bi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Qo(d){let v="";return nt(d,function(E,R){v+=R,v+=":",v+=E,v+=`\r
`}),v}function Be(d,v,E){t:{for(R in E){var R=!1;break t}R=!0}R||(E=Qo(E),typeof d=="string"?E!=null&&encodeURIComponent(String(E)):Zt(d,v,E))}function Yt(d){me.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Yt,me);var Tr=/^https?$/i,wa=["POST","PUT"];n=Yt.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,v,E,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ri.g(),this.v=this.o?No(this.o):No(ri),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(W){Gu(this,W);return}if(d=E||"",E=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var j in R)E.set(j,R[j]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const W of R.keys())E.set(W,R.get(W));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(E.keys()).find(W=>W.toLowerCase()=="content-type"),j=h.FormData&&d instanceof h.FormData,!(0<=Array.prototype.indexOf.call(wa,v,void 0))||R||j||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,ot]of E)this.g.setRequestHeader(W,ot);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ra(this),this.u=!0,this.g.send(d),this.u=!1}catch(W){Gu(this,W)}};function Gu(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.m=5,Sr(d),di(d)}function Sr(d){d.A||(d.A=!0,Xt(d,"complete"),Xt(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Xt(this,"complete"),Xt(this,"abort"),di(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),di(this,!0)),Yt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ar(this):this.bb())},n.bb=function(){Ar(this)};function Ar(d){if(d.h&&typeof u<"u"&&(!d.v[1]||Ln(d)!=4||d.Z()!=2)){if(d.u&&Ln(d)==4)tn(d.Ea,0,d);else if(Xt(d,"readystatechange"),Ln(d)==4){d.h=!1;try{const ot=d.Z();t:switch(ot){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var E;if(!(E=v)){var R;if(R=ot===0){var j=String(d.D).match(ba)[1]||null;!j&&h.self&&h.self.location&&(j=h.self.location.protocol.slice(0,-1)),R=!Tr.test(j?j.toLowerCase():"")}E=R}if(E)Xt(d,"complete"),Xt(d,"success");else{d.m=6;try{var W=2<Ln(d)?d.g.statusText:""}catch{W=""}d.l=W+" ["+d.Z()+"]",Sr(d)}}finally{di(d)}}}}function di(d,v){if(d.g){Ra(d);const E=d.g,R=d.v[0]?()=>{}:null;d.g=null,d.v=null,v||Xt(d,"ready");try{E.onreadystatechange=R}catch{}}}function Ra(d){d.I&&(h.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function Ln(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<Ln(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),gr(v)}};function Yu(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function zf(d){const v={};d=(d.g&&2<=Ln(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<d.length;R++){if(H(d[R]))continue;var E=k(d[R]);const j=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const W=v[j]||[];v[j]=W,W.push(E)}O(v,function(R){return R.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Da(d,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||v}function xr(d){this.Aa=0,this.i=[],this.j=new Vn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Da("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Da("baseRetryDelayMs",5e3,d),this.cb=Da("retryDelaySeedMs",1e4,d),this.Wa=Da("forwardChannelMaxRetries",2,d),this.wa=Da("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Ni(d&&d.concurrentRequestLimit),this.Da=new xa,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=xr.prototype,n.la=8,n.G=1,n.connect=function(d,v,E,R){le(0),this.W=d,this.H=v||{},E&&R!==void 0&&(this.H.OSID=E,this.H.OAID=R),this.F=this.X,this.I=Ju(this,null,this.W),Rr(this)};function Xo(d){if(Qu(d),d.G==3){var v=d.U++,E=Tn(d.I);if(Zt(E,"SID",d.K),Zt(E,"RID",v),Zt(E,"TYPE","terminate"),Ma(d,E),v=new cn(d,d.j,v),v.L=2,v.v=Ta(Tn(E)),E=!1,h.navigator&&h.navigator.sendBeacon)try{E=h.navigator.sendBeacon(v.v.toString(),"")}catch{}!E&&h.Image&&(new Image().src=v.v,E=!0),E||(v.g=tc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),_a(v)}Zu(d)}function wr(d){d.g&&(Ca(d),d.g.cancel(),d.g=null)}function Qu(d){wr(d),d.u&&(h.clearTimeout(d.u),d.u=null),Dr(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&h.clearTimeout(d.s),d.s=null)}function Rr(d){if(!yr(d.h)&&!d.s){d.s=!0;var v=d.Ga;st||P(),ht||(st(),ht=!0),St.add(v,d),d.B=0}}function Bf(d,v){return _r(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=v.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Ae(b(d.Ga,d,v),$o(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const j=new cn(this,this.j,d);let W=this.o;if(this.S&&(W?(W=w(W),N(W,this.S)):W=this.S),this.m!==null||this.O||(j.H=W,W=null),this.P)t:{for(var v=0,E=0;E<this.i.length;E++){e:{var R=this.i[E];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break e}R=void 0}if(R===void 0)break;if(v+=R,4096<v){v=E;break t}if(v===4096||E===this.i.length-1){v=E+1;break t}}v=1e3}else v=1e3;v=Xu(this,j,v),E=Tn(this.I),Zt(E,"RID",d),Zt(E,"CVER",22),this.D&&Zt(E,"X-HTTP-Session-Id",this.D),Ma(this,E),W&&(this.O?v="headers="+encodeURIComponent(String(Qo(W)))+"&"+v:this.m&&Be(E,this.m,W)),vr(this.h,j),this.Ua&&Zt(E,"TYPE","init"),this.P?(Zt(E,"$req",v),Zt(E,"SID","null"),j.T=!0,Xn(j,E,null)):Xn(j,E,v),this.G=2}}else this.G==3&&(d?Ko(this,d):this.i.length==0||yr(this.h)||Ko(this))};function Ko(d,v){var E;v?E=v.l:E=d.U++;const R=Tn(d.I);Zt(R,"SID",d.K),Zt(R,"RID",E),Zt(R,"AID",d.T),Ma(d,R),d.m&&d.o&&Be(R,d.m,d.o),E=new cn(d,d.j,E,d.B+1),d.m===null&&(E.H=d.o),v&&(d.i=v.D.concat(d.i)),v=Xu(d,E,1e3),E.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),vr(d.h,E),Xn(E,R,v)}function Ma(d,v){d.H&&nt(d.H,function(E,R){Zt(v,R,E)}),d.l&&jo({},function(E,R){Zt(v,R,E)})}function Xu(d,v,E){E=Math.min(d.i.length,E);var R=d.l?b(d.l.Na,d.l,d):null;t:{var j=d.i;let W=-1;for(;;){const ot=["count="+E];W==-1?0<E?(W=j[0].g,ot.push("ofs="+W)):W=0:ot.push("ofs="+W);let zt=!0;for(let Ce=0;Ce<E;Ce++){let Bt=j[Ce].g;const Ue=j[Ce].map;if(Bt-=W,0>Bt)W=Math.max(0,j[Ce].g-100),zt=!1;else try{ci(Ue,ot,"req"+Bt+"_")}catch{R&&R(Ue)}}if(zt){R=ot.join("&");break t}}}return d=d.i.splice(0,E),v.D=d,R}function Ku(d){if(!d.g&&!d.u){d.Y=1;var v=d.Fa;st||P(),ht||(st(),ht=!0),St.add(v,d),d.v=0}}function Wo(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Ae(b(d.Fa,d),$o(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,Wu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Ae(b(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,le(10),wr(this),Wu(this))};function Ca(d){d.A!=null&&(h.clearTimeout(d.A),d.A=null)}function Wu(d){d.g=new cn(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var v=Tn(d.qa);Zt(v,"RID","rpc"),Zt(v,"SID",d.K),Zt(v,"AID",d.T),Zt(v,"CI",d.F?"0":"1"),!d.F&&d.ja&&Zt(v,"TO",d.ja),Zt(v,"TYPE","xmlhttp"),Ma(d,v),d.m&&d.o&&Be(v,d.m,d.o),d.L&&(d.g.I=d.L);var E=d.g;d=d.ia,E.L=1,E.v=Ta(Tn(v)),E.m=null,E.P=!0,Vi(E,d)}n.Za=function(){this.C!=null&&(this.C=null,wr(this),Wo(this),le(19))};function Dr(d){d.C!=null&&(h.clearTimeout(d.C),d.C=null)}function $u(d,v){var E=null;if(d.g==v){Dr(d),Ca(d),d.g=null;var R=2}else if(Uo(d.h,v))E=v.D,hn(d.h,v),R=1;else return;if(d.G!=0){if(v.o)if(R==1){E=v.m?v.m.length:0,v=Date.now()-v.F;var j=d.B;R=gs(),Xt(R,new Me(R,E)),Rr(d)}else Ku(d);else if(j=v.s,j==3||j==0&&0<v.X||!(R==1&&Bf(d,v)||R==2&&Wo(d)))switch(E&&0<E.length&&(v=d.h,v.i=v.i.concat(E)),j){case 1:Ui(d,5);break;case 4:Ui(d,10);break;case 3:Ui(d,6);break;default:Ui(d,2)}}}function $o(d,v){let E=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(E*=2),E*v}function Ui(d,v){if(d.j.info("Error code "+v),v==2){var E=b(d.fb,d),R=d.Xa;const j=!R;R=new xe(R||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Ea(R,"https"),Ta(R),j?Aa(R.toString(),E):Kn(R.toString(),E)}else le(2);d.G=0,d.l&&d.l.sa(v),Zu(d),Qu(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),le(2)):(this.j.info("Failed to ping google.com"),le(1))};function Zu(d){if(d.G=0,d.ka=[],d.l){const v=Ho(d.h);(v.length!=0||d.i.length!=0)&&(M(d.ka,v),M(d.ka,d.i),d.h.i.length=0,D(d.i),d.i.length=0),d.l.ra()}}function Ju(d,v,E){var R=E instanceof xe?Tn(E):new xe(E);if(R.g!="")v&&(R.g=v+"."+R.g),vs(R,R.s);else{var j=h.location;R=j.protocol,v=v?v+"."+j.hostname:j.hostname,j=+j.port;var W=new xe(null);R&&Ea(W,R),v&&(W.g=v),j&&vs(W,j),E&&(W.l=E),R=W}return E=d.D,v=d.ya,E&&v&&Zt(R,E,v),Zt(R,"VER",d.la),Ma(d,R),R}function tc(d,v,E){if(v&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Ca&&!d.pa?new Yt(new bs({eb:E})):new Yt(d.pa),v.Ha(d.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ec(){}n=ec.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Mr(){}Mr.prototype.g=function(d,v){return new fn(d,v)};function fn(d,v){me.call(this),this.g=new xr(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(d?d["X-WebChannel-Client-Profile"]=v.va:d={"X-WebChannel-Client-Profile":v.va}),this.g.S=d,(d=v&&v.Sb)&&!H(d)&&(this.g.m=d),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!H(v)&&(this.g.D=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new gi(this)}x(fn,me),fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){Xo(this.g)},fn.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.u&&(E={},E.__data__=Qn(d),d=E);v.i.push(new ju(v.Ya++,d)),v.G==3&&Rr(v)},fn.prototype.N=function(){this.g.l=null,delete this.j,Xo(this.g),delete this.g,fn.aa.N.call(this)};function nc(d){Oi.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){t:{for(const E in v){d=E;break t}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}x(nc,Oi);function ic(){Po.call(this),this.status=1}x(ic,Po);function gi(d){this.g=d}x(gi,ec),gi.prototype.ua=function(){Xt(this.g,"a")},gi.prototype.ta=function(d){Xt(this.g,new nc(d))},gi.prototype.sa=function(d){Xt(this.g,new ic)},gi.prototype.ra=function(){Xt(this.g,"b")},Mr.prototype.createWebChannel=Mr.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,JE=function(){return new Mr},ZE=function(){return gs()},$E=ai,cm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ys.NO_ERROR=0,ys.TIMEOUT=8,ys.HTTP_ERROR=6,Sh=ys,Ii.COMPLETE="complete",WE=Ii,ko.EventType=Ci,Ci.OPEN="a",Ci.CLOSE="b",Ci.ERROR="c",Ci.MESSAGE="d",me.prototype.listen=me.prototype.K,Yl=ko,Yt.prototype.listenOnce=Yt.prototype.L,Yt.prototype.getLastError=Yt.prototype.Ka,Yt.prototype.getLastErrorCode=Yt.prototype.Ba,Yt.prototype.getStatus=Yt.prototype.Z,Yt.prototype.getResponseJson=Yt.prototype.Oa,Yt.prototype.getResponseText=Yt.prototype.oa,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Ha,KE=Yt}).apply(typeof sh<"u"?sh:typeof self<"u"?self:typeof window<"u"?window:{});const mv="@firebase/firestore",pv="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wo="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ir=new jE("@firebase/firestore");function ro(){return ir.logLevel}function ct(n,...t){if(ir.logLevel<=jt.DEBUG){const e=t.map(Ym);ir.debug(`Firestore (${wo}): ${n}`,...e)}}function hs(n,...t){if(ir.logLevel<=jt.ERROR){const e=t.map(Ym);ir.error(`Firestore (${wo}): ${n}`,...e)}}function mo(n,...t){if(ir.logLevel<=jt.WARN){const e=t.map(Ym);ir.warn(`Firestore (${wo}): ${n}`,...e)}}function Ym(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,tT(n,i,e)}function tT(n,t,e){let i=`FIRESTORE (${wo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw hs(i),new Error(i)}function Qt(n,t,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,n||tT(t,a,i)}function Rt(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const at={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class mt extends xo{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class jw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(rn.UNAUTHENTICATED))}shutdown(){}}class Fw{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class qw{constructor(t){this.t=t,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Qt(this.o===void 0,42304);let i=this.i;const a=f=>this.i!==i?(i=this.i,e(f)):Promise.resolve();let o=new Ws;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ws,t.enqueueRetryable(()=>a(this.currentUser))};const u=()=>{const f=o;t.enqueueRetryable(async()=>{await f.promise,await a(this.currentUser)})},h=f=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ws)}},0),u()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Qt(typeof i.accessToken=="string",31837,{l:i}),new eT(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Qt(t===null||typeof t=="string",2055,{h:t}),new rn(t)}}class Gw{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Yw{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new Gw(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(rn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Qw{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Rw(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Qt(this.o===void 0,3512);const i=o=>{o.error!=null&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,ct("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const a=o=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>a(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new yv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Qt(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new yv(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xw(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=Xw(40);for(let o=0;o<a.length;++o)i.length<20&&a[o]<e&&(i+=t.charAt(a[o]%62))}return i}}function Ot(n,t){return n<t?-1:n>t?1:0}function hm(n,t){let e=0;for(;e<n.length&&e<t.length;){const i=n.codePointAt(e),a=t.codePointAt(e);if(i!==a){if(i<128&&a<128)return Ot(i,a);{const o=nT(),u=Kw(o.encode(_v(n,e)),o.encode(_v(t,e)));return u!==0?u:Ot(i,a)}}e+=i>65535?2:1}return Ot(n.length,t.length)}function _v(n,t){return n.codePointAt(t)>65535?n.substring(t,t+2):n.substring(t,t+1)}function Kw(n,t){for(let e=0;e<n.length&&e<t.length;++e)if(n[e]!==t[e])return Ot(n[e],t[e]);return Ot(n.length,t.length)}function po(n,t,e){return n.length===t.length&&n.every((i,a)=>e(i,t[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv=-62135596800,bv=1e6;class Pe{static now(){return Pe.fromMillis(Date.now())}static fromDate(t){return Pe.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*bv);return new Pe(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new mt(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new mt(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<vv)throw new mt(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new mt(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/bv}_compareTo(t){return this.seconds===t.seconds?Ot(this.nanoseconds,t.nanoseconds):Ot(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-vv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{static fromTimestamp(t){return new xt(t)}static min(){return new xt(new Pe(0,0))}static max(){return new xt(new Pe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev="__name__";class Si{constructor(t,e,i){e===void 0?e=0:e>t.length&&Tt(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&Tt(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return Si.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Si?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let a=0;a<i;a++){const o=Si.compareSegments(t.get(a),e.get(a));if(o!==0)return o}return Ot(t.length,e.length)}static compareSegments(t,e){const i=Si.isNumericId(t),a=Si.isNumericId(e);return i&&!a?-1:!i&&a?1:i&&a?Si.extractNumericId(t).compare(Si.extractNumericId(e)):hm(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ks.fromString(t.substring(4,t.length-2))}}class ce extends Si{construct(t,e,i){return new ce(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new mt(at.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(a=>a.length>0))}return new ce(e)}static emptyPath(){return new ce([])}}const Ww=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ze extends Si{construct(t,e,i){return new Ze(t,e,i)}static isValidIdentifier(t){return Ww.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ze.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ev}static keyField(){return new Ze([Ev])}static fromServerFormat(t){const e=[];let i="",a=0;const o=()=>{if(i.length===0)throw new mt(at.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let u=!1;for(;a<t.length;){const h=t[a];if(h==="\\"){if(a+1===t.length)throw new mt(at.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new mt(at.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=f,a+=2}else h==="`"?(u=!u,a++):h!=="."||u?(i+=h,a++):(o(),a++)}if(o(),u)throw new mt(at.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ze(e)}static emptyPath(){return new Ze([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(t){this.path=t}static fromPath(t){return new yt(ce.fromString(t))}static fromName(t){return new yt(ce.fromString(t).popFirst(5))}static empty(){return new yt(ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ce.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return ce.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new ce(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du=-1;function $w(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=xt.fromTimestamp(i===1e9?new Pe(e+1,0):new Pe(e,i));return new ta(a,yt.empty(),t)}function Zw(n){return new ta(n.readTime,n.key,du)}class ta{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new ta(xt.min(),yt.empty(),du)}static max(){return new ta(xt.max(),yt.empty(),du)}}function Jw(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=yt.comparator(n.documentKey,t.documentKey),e!==0?e:Ot(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ro(n){if(n.code!==at.FAILED_PRECONDITION||n.message!==tR)throw n;ct("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new et((i,a)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,a)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,a)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof et?e:et.resolve(e)}catch(e){return et.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):et.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):et.reject(e)}static resolve(t){return new et((e,i)=>{e(t)})}static reject(t){return new et((e,i)=>{i(t)})}static waitFor(t){return new et((e,i)=>{let a=0,o=0,u=!1;t.forEach(h=>{++a,h.next(()=>{++o,u&&o===a&&e()},f=>i(f))}),u=!0,o===a&&e()})}static or(t){let e=et.resolve(!1);for(const i of t)e=e.next(a=>a?et.resolve(a):i());return e}static forEach(t,e){const i=[];return t.forEach((a,o)=>{i.push(e.call(this,a,o))}),this.waitFor(i)}static mapArray(t,e){return new et((i,a)=>{const o=t.length,u=new Array(o);let h=0;for(let f=0;f<o;f++){const g=f;e(t[g]).next(y=>{u[g]=y,++h,h===o&&i(u)},y=>a(y))}})}static doWhile(t,e){return new et((i,a)=>{const o=()=>{t()===!0?e().next(()=>{o()},a):i()};o()})}}function nR(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Do(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>e.writeSequenceNumber(i))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}uf.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qm=-1;function cf(n){return n==null}function jh(n){return n===0&&1/n==-1/0}function iR(n){return typeof n=="number"&&Number.isInteger(n)&&!jh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT="";function sR(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=Tv(t)),t=aR(n.get(e),t);return Tv(t)}function aR(n,t){let e=t;const i=n.length;for(let a=0;a<i;a++){const o=n.charAt(a);switch(o){case"\0":e+="";break;case sT:e+="";break;default:e+=o}}return e}function Tv(n){return n+sT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sv(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function or(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function aT(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(t,e){this.comparator=t,this.root=e||$e.EMPTY}insert(t,e){return new ge(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,$e.BLACK,null,null))}remove(t){return new ge(this.comparator,this.root.remove(t,this.comparator).copy(null,null,$e.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return e+i.left.size;a<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ah(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ah(this.root,t,this.comparator,!1)}getReverseIterator(){return new ah(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ah(this.root,t,this.comparator,!0)}}class ah{constructor(t,e,i,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&a&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class $e{constructor(t,e,i,a,o){this.key=t,this.value=e,this.color=i??$e.RED,this.left=a??$e.EMPTY,this.right=o??$e.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,a,o){return new $e(t??this.key,e??this.value,i??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let a=this;const o=i(t,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(t,e,i),null):o===0?a.copy(null,e,null,null,null):a.copy(null,null,null,null,a.right.insert(t,e,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return $e.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,a=this;if(e(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,e),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),e(t,a.key)===0){if(a.right.isEmpty())return $e.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,e))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,$e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,$e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Tt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Tt(27949);return t+(this.isRed()?0:1)}}$e.EMPTY=null,$e.RED=!0,$e.BLACK=!1;$e.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt(57766)}get value(){throw Tt(16141)}get color(){throw Tt(16727)}get left(){throw Tt(29726)}get right(){throw Tt(36894)}copy(t,e,i,a,o){return this}insert(t,e,i){return new $e(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(t){this.comparator=t,this.data=new ge(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,t[1])>=0)return;e(a.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Av(this.data.getIterator())}getIteratorFrom(t){return new Av(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Le)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const a=e.getNext().key,o=i.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Le(this.comparator);return e.data=t,e}}class Av{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(t){this.fields=t,t.sort(Ze.comparator)}static empty(){return new ti([])}unionWith(t){let e=new Le(Ze.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new ti(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return po(this.fields,t.fields,(e,i)=>e.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new rT("Invalid base64 string: "+o):o}}(t);return new Je(e)}static fromUint8Array(t){const e=function(a){let o="";for(let u=0;u<a.length;++u)o+=String.fromCharCode(a[u]);return o}(t);return new Je(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let a=0;a<e.length;a++)i[a]=e.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ot(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Je.EMPTY_BYTE_STRING=new Je("");const rR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ea(n){if(Qt(!!n,39018),typeof n=="string"){let t=0;const e=rR.exec(n);if(Qt(!!e,46558,{timestamp:n}),e[1]){let a=e[1];a=(a+"000000000").substr(0,9),t=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Te(n.seconds),nanos:Te(n.nanos)}}function Te(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function na(n){return typeof n=="string"?Je.fromBase64String(n):Je.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT="server_timestamp",lT="__type__",uT="__previous_value__",cT="__local_write_time__";function Xm(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[lT])===null||e===void 0?void 0:e.stringValue)===oT}function hf(n){const t=n.mapValue.fields[uT];return Xm(t)?hf(t):t}function gu(n){const t=ea(n.mapValue.fields[cT].timestampValue);return new Pe(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(t,e,i,a,o,u,h,f,g){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=a,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=g}}const Fh="(default)";class mu{constructor(t,e){this.projectId=t,this.database=e||Fh}static empty(){return new mu("","")}get isDefaultDatabase(){return this.database===Fh}isEqual(t){return t instanceof mu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT="__type__",lR="__max__",rh={mapValue:{}},fT="__vector__",qh="value";function ia(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Xm(n)?4:cR(n)?9007199254740991:uR(n)?10:11:Tt(28295,{value:n})}function Ri(n,t){if(n===t)return!0;const e=ia(n);if(e!==ia(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return gu(n).isEqual(gu(t));case 3:return function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const u=ea(a.timestampValue),h=ea(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(a,o){return na(a.bytesValue).isEqual(na(o.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(a,o){return Te(a.geoPointValue.latitude)===Te(o.geoPointValue.latitude)&&Te(a.geoPointValue.longitude)===Te(o.geoPointValue.longitude)}(n,t);case 2:return function(a,o){if("integerValue"in a&&"integerValue"in o)return Te(a.integerValue)===Te(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const u=Te(a.doubleValue),h=Te(o.doubleValue);return u===h?jh(u)===jh(h):isNaN(u)&&isNaN(h)}return!1}(n,t);case 9:return po(n.arrayValue.values||[],t.arrayValue.values||[],Ri);case 10:case 11:return function(a,o){const u=a.mapValue.fields||{},h=o.mapValue.fields||{};if(Sv(u)!==Sv(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!Ri(u[f],h[f])))return!1;return!0}(n,t);default:return Tt(52216,{left:n})}}function pu(n,t){return(n.values||[]).find(e=>Ri(e,t))!==void 0}function yo(n,t){if(n===t)return 0;const e=ia(n),i=ia(t);if(e!==i)return Ot(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Ot(n.booleanValue,t.booleanValue);case 2:return function(o,u){const h=Te(o.integerValue||o.doubleValue),f=Te(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(n,t);case 3:return xv(n.timestampValue,t.timestampValue);case 4:return xv(gu(n),gu(t));case 5:return hm(n.stringValue,t.stringValue);case 6:return function(o,u){const h=na(o),f=na(u);return h.compareTo(f)}(n.bytesValue,t.bytesValue);case 7:return function(o,u){const h=o.split("/"),f=u.split("/");for(let g=0;g<h.length&&g<f.length;g++){const y=Ot(h[g],f[g]);if(y!==0)return y}return Ot(h.length,f.length)}(n.referenceValue,t.referenceValue);case 8:return function(o,u){const h=Ot(Te(o.latitude),Te(u.latitude));return h!==0?h:Ot(Te(o.longitude),Te(u.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return wv(n.arrayValue,t.arrayValue);case 10:return function(o,u){var h,f,g,y;const _=o.fields||{},b=u.fields||{},S=(h=_[qh])===null||h===void 0?void 0:h.arrayValue,x=(f=b[qh])===null||f===void 0?void 0:f.arrayValue,D=Ot(((g=S==null?void 0:S.values)===null||g===void 0?void 0:g.length)||0,((y=x==null?void 0:x.values)===null||y===void 0?void 0:y.length)||0);return D!==0?D:wv(S,x)}(n.mapValue,t.mapValue);case 11:return function(o,u){if(o===rh.mapValue&&u===rh.mapValue)return 0;if(o===rh.mapValue)return 1;if(u===rh.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),g=u.fields||{},y=Object.keys(g);f.sort(),y.sort();for(let _=0;_<f.length&&_<y.length;++_){const b=hm(f[_],y[_]);if(b!==0)return b;const S=yo(h[f[_]],g[y[_]]);if(S!==0)return S}return Ot(f.length,y.length)}(n.mapValue,t.mapValue);default:throw Tt(23264,{Pe:e})}}function xv(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Ot(n,t);const e=ea(n),i=ea(t),a=Ot(e.seconds,i.seconds);return a!==0?a:Ot(e.nanos,i.nanos)}function wv(n,t){const e=n.values||[],i=t.values||[];for(let a=0;a<e.length&&a<i.length;++a){const o=yo(e[a],i[a]);if(o)return o}return Ot(e.length,i.length)}function _o(n){return fm(n)}function fm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const i=ea(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(e){return na(e).toBase64()}(n.bytesValue):"referenceValue"in n?function(e){return yt.fromName(e).toString()}(n.referenceValue):"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",a=!0;for(const o of e.values||[])a?a=!1:i+=",",i+=fm(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){const i=Object.keys(e.fields||{}).sort();let a="{",o=!0;for(const u of i)o?o=!1:a+=",",a+=`${u}:${fm(e.fields[u])}`;return a+"}"}(n.mapValue):Tt(61005,{value:n})}function Ah(n){switch(ia(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=hf(n);return t?16+Ah(t):16;case 5:return 2*n.stringValue.length;case 6:return na(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,o)=>a+Ah(o),0)}(n.arrayValue);case 10:case 11:return function(i){let a=0;return or(i.fields,(o,u)=>{a+=o.length+Ah(u)}),a}(n.mapValue);default:throw Tt(13486,{value:n})}}function dm(n){return!!n&&"integerValue"in n}function Km(n){return!!n&&"arrayValue"in n}function Rv(n){return!!n&&"nullValue"in n}function Dv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function xh(n){return!!n&&"mapValue"in n}function uR(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[hT])===null||e===void 0?void 0:e.stringValue)===fT}function nu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return or(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=nu(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=nu(n.arrayValue.values[e]);return t}return Object.assign({},n)}function cR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===lR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(t){this.value=t}static empty(){return new Yn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!xh(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=nu(e)}setAll(t){let e=Ze.emptyPath(),i={},a=[];t.forEach((u,h)=>{if(!e.isImmediateParentOf(h)){const f=this.getFieldsMap(e);this.applyChanges(f,i,a),i={},a=[],e=h.popLast()}u?i[h.lastSegment()]=nu(u):a.push(h.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,a)}delete(t){const e=this.field(t.popLast());xh(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Ri(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let a=e.mapValue.fields[t.get(i)];xh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=a),e=a}return e.mapValue.fields}applyChanges(t,e,i){or(e,(a,o)=>t[a]=o);for(const a of i)delete t[a]}clone(){return new Yn(nu(this.value))}}function dT(n){const t=[];return or(n.fields,(e,i)=>{const a=new Ze([e]);if(xh(i)){const o=dT(i.mapValue).fields;if(o.length===0)t.push(a);else for(const u of o)t.push(a.child(u))}else t.push(a)}),new ti(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(t,e,i,a,o,u,h){this.key=t,this.documentType=e,this.version=i,this.readTime=a,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(t){return new on(t,0,xt.min(),xt.min(),xt.min(),Yn.empty(),0)}static newFoundDocument(t,e,i,a){return new on(t,1,e,xt.min(),i,a,0)}static newNoDocument(t,e){return new on(t,2,e,xt.min(),xt.min(),Yn.empty(),0)}static newUnknownDocument(t,e){return new on(t,3,e,xt.min(),xt.min(),Yn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(xt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Yn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof on&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(t,e){this.position=t,this.inclusive=e}}function Mv(n,t,e){let i=0;for(let a=0;a<n.position.length;a++){const o=t[a],u=n.position[a];if(o.field.isKeyField()?i=yt.comparator(yt.fromName(u.referenceValue),e.key):i=yo(u,e.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function Cv(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Ri(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(t,e="asc"){this.field=t,this.dir=e}}function hR(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{}class Ne extends gT{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new dR(t,e,i):e==="array-contains"?new pR(t,i):e==="in"?new yR(t,i):e==="not-in"?new _R(t,i):e==="array-contains-any"?new vR(t,i):new Ne(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new gR(t,i):new mR(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(yo(e,this.value)):e!==null&&ia(this.value)===ia(e)&&this.matchesComparison(yo(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Di extends gT{constructor(t,e){super(),this.filters=t,this.op=e,this.Te=null}static create(t,e){return new Di(t,e)}matches(t){return mT(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function mT(n){return n.op==="and"}function pT(n){return fR(n)&&mT(n)}function fR(n){for(const t of n.filters)if(t instanceof Di)return!1;return!0}function gm(n){if(n instanceof Ne)return n.field.canonicalString()+n.op.toString()+_o(n.value);if(pT(n))return n.filters.map(t=>gm(t)).join(",");{const t=n.filters.map(e=>gm(e)).join(",");return`${n.op}(${t})`}}function yT(n,t){return n instanceof Ne?function(i,a){return a instanceof Ne&&i.op===a.op&&i.field.isEqual(a.field)&&Ri(i.value,a.value)}(n,t):n instanceof Di?function(i,a){return a instanceof Di&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((o,u,h)=>o&&yT(u,a.filters[h]),!0):!1}(n,t):void Tt(19439)}function _T(n){return n instanceof Ne?function(e){return`${e.field.canonicalString()} ${e.op} ${_o(e.value)}`}(n):n instanceof Di?function(e){return e.op.toString()+" {"+e.getFilters().map(_T).join(" ,")+"}"}(n):"Filter"}class dR extends Ne{constructor(t,e,i){super(t,e,i),this.key=yt.fromName(i.referenceValue)}matches(t){const e=yt.comparator(t.key,this.key);return this.matchesComparison(e)}}class gR extends Ne{constructor(t,e){super(t,"in",e),this.keys=vT("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class mR extends Ne{constructor(t,e){super(t,"not-in",e),this.keys=vT("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function vT(n,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(i=>yt.fromName(i.referenceValue))}class pR extends Ne{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Km(e)&&pu(e.arrayValue,this.value)}}class yR extends Ne{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&pu(this.value.arrayValue,e)}}class _R extends Ne{constructor(t,e){super(t,"not-in",e)}matches(t){if(pu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!pu(this.value.arrayValue,e)}}class vR extends Ne{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Km(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>pu(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(t,e=null,i=[],a=[],o=null,u=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=a,this.limit=o,this.startAt=u,this.endAt=h,this.Ie=null}}function Ov(n,t=null,e=[],i=[],a=null,o=null,u=null){return new bR(n,t,e,i,a,o,u)}function Wm(n){const t=Rt(n);if(t.Ie===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>gm(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),cf(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>_o(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>_o(i)).join(",")),t.Ie=e}return t.Ie}function $m(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!hR(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!yT(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!Cv(n.startAt,t.startAt)&&Cv(n.endAt,t.endAt)}function mm(n){return yt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(t,e=null,i=[],a=[],o=null,u="F",h=null,f=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=a,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=f,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function ER(n,t,e,i,a,o,u,h){return new ff(n,t,e,i,a,o,u,h)}function df(n){return new ff(n)}function Iv(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function TR(n){return n.collectionGroup!==null}function iu(n){const t=Rt(n);if(t.Ee===null){t.Ee=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ee.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new Le(Ze.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(g=>{g.isInequality()&&(h=h.add(g.field))})}),h})(t).forEach(o=>{e.has(o.canonicalString())||o.isKeyField()||t.Ee.push(new Yh(o,i))}),e.has(Ze.keyField().canonicalString())||t.Ee.push(new Yh(Ze.keyField(),i))}return t.Ee}function Ai(n){const t=Rt(n);return t.de||(t.de=SR(t,iu(n))),t.de}function SR(n,t){if(n.limitType==="F")return Ov(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(a=>{const o=a.dir==="desc"?"asc":"desc";return new Yh(a.field,o)});const e=n.endAt?new Gh(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Gh(n.startAt.position,n.startAt.inclusive):null;return Ov(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function pm(n,t,e){return new ff(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function gf(n,t){return $m(Ai(n),Ai(t))&&n.limitType===t.limitType}function bT(n){return`${Wm(Ai(n))}|lt:${n.limitType}`}function oo(n){return`Query(target=${function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(a=>_T(a)).join(", ")}]`),cf(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(a=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(a)).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(a=>_o(a)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(a=>_o(a)).join(",")),`Target(${i})`}(Ai(n))}; limitType=${n.limitType})`}function mf(n,t){return t.isFoundDocument()&&function(i,a){const o=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):yt.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,t)&&function(i,a){for(const o of iu(i))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0}(n,t)&&function(i,a){for(const o of i.filters)if(!o.matches(a))return!1;return!0}(n,t)&&function(i,a){return!(i.startAt&&!function(u,h,f){const g=Mv(u,h,f);return u.inclusive?g<=0:g<0}(i.startAt,iu(i),a)||i.endAt&&!function(u,h,f){const g=Mv(u,h,f);return u.inclusive?g>=0:g>0}(i.endAt,iu(i),a))}(n,t)}function AR(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function ET(n){return(t,e)=>{let i=!1;for(const a of iu(n)){const o=xR(a,t,e);if(o!==0)return o;i=i||a.field.isKeyField()}return 0}}function xR(n,t,e){const i=n.field.isKeyField()?yt.comparator(t.key,e.key):function(o,u,h){const f=u.data.field(o),g=h.data.field(o);return f!==null&&g!==null?yo(f,g):Tt(42886)}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Tt(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[a,o]of i)if(this.equalsFn(a,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return void(a[o]=[t,e]);a.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return i.length===1?delete this.inner[e]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(t){or(this.inner,(e,i)=>{for(const[a,o]of i)t(a,o)})}isEmpty(){return aT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR=new ge(yt.comparator);function fs(){return wR}const TT=new ge(yt.comparator);function Ql(...n){let t=TT;for(const e of n)t=t.insert(e.key,e);return t}function ST(n){let t=TT;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function Ja(){return su()}function AT(){return su()}function su(){return new lr(n=>n.toString(),(n,t)=>n.isEqual(t))}const RR=new ge(yt.comparator),DR=new Le(yt.comparator);function Pt(...n){let t=DR;for(const e of n)t=t.add(e);return t}const MR=new Le(Ot);function CR(){return MR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jh(t)?"-0":t}}function xT(n){return{integerValue:""+n}}function OR(n,t){return iR(t)?xT(t):Zm(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(){this._=void 0}}function IR(n,t,e){return n instanceof Qh?function(a,o){const u={fields:{[lT]:{stringValue:oT},[cT]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&Xm(o)&&(o=hf(o)),o&&(u.fields[uT]=o),{mapValue:u}}(e,t):n instanceof yu?RT(n,t):n instanceof _u?DT(n,t):function(a,o){const u=wT(a,o),h=Vv(u)+Vv(a.Re);return dm(u)&&dm(a.Re)?xT(h):Zm(a.serializer,h)}(n,t)}function VR(n,t,e){return n instanceof yu?RT(n,t):n instanceof _u?DT(n,t):e}function wT(n,t){return n instanceof Xh?function(i){return dm(i)||function(o){return!!o&&"doubleValue"in o}(i)}(t)?t:{integerValue:0}:null}class Qh extends pf{}class yu extends pf{constructor(t){super(),this.elements=t}}function RT(n,t){const e=MT(t);for(const i of n.elements)e.some(a=>Ri(a,i))||e.push(i);return{arrayValue:{values:e}}}class _u extends pf{constructor(t){super(),this.elements=t}}function DT(n,t){let e=MT(t);for(const i of n.elements)e=e.filter(a=>!Ri(a,i));return{arrayValue:{values:e}}}class Xh extends pf{constructor(t,e){super(),this.serializer=t,this.Re=e}}function Vv(n){return Te(n.integerValue||n.doubleValue)}function MT(n){return Km(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function NR(n,t){return n.field.isEqual(t.field)&&function(i,a){return i instanceof yu&&a instanceof yu||i instanceof _u&&a instanceof _u?po(i.elements,a.elements,Ri):i instanceof Xh&&a instanceof Xh?Ri(i.Re,a.Re):i instanceof Qh&&a instanceof Qh}(n.transform,t.transform)}class kR{constructor(t,e){this.version=t,this.transformResults=e}}class us{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new us}static exists(t){return new us(void 0,t)}static updateTime(t){return new us(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function wh(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class yf{}function CT(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new IT(n.key,us.none()):new Du(n.key,n.data,us.none());{const e=n.data,i=Yn.empty();let a=new Le(Ze.comparator);for(let o of t.fields)if(!a.has(o)){let u=e.field(o);u===null&&o.length>1&&(o=o.popLast(),u=e.field(o)),u===null?i.delete(o):i.set(o,u),a=a.add(o)}return new ur(n.key,i,new ti(a.toArray()),us.none())}}function PR(n,t,e){n instanceof Du?function(a,o,u){const h=a.value.clone(),f=kv(a.fieldTransforms,o,u.transformResults);h.setAll(f),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,t,e):n instanceof ur?function(a,o,u){if(!wh(a.precondition,o))return void o.convertToUnknownDocument(u.version);const h=kv(a.fieldTransforms,o,u.transformResults),f=o.data;f.setAll(OT(a)),f.setAll(h),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,t,e):function(a,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,t,e)}function au(n,t,e,i){return n instanceof Du?function(o,u,h,f){if(!wh(o.precondition,u))return h;const g=o.value.clone(),y=Pv(o.fieldTransforms,f,u);return g.setAll(y),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null}(n,t,e,i):n instanceof ur?function(o,u,h,f){if(!wh(o.precondition,u))return h;const g=Pv(o.fieldTransforms,f,u),y=u.data;return y.setAll(OT(o)),y.setAll(g),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(_=>_.field))}(n,t,e,i):function(o,u,h){return wh(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(n,t,e)}function LR(n,t){let e=null;for(const i of n.fieldTransforms){const a=t.data.field(i.field),o=wT(i.transform,a||null);o!=null&&(e===null&&(e=Yn.empty()),e.set(i.field,o))}return e||null}function Nv(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&po(i,a,(o,u)=>NR(o,u))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Du extends yf{constructor(t,e,i,a=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ur extends yf{constructor(t,e,i,a,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function OT(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function kv(n,t,e){const i=new Map;Qt(n.length===e.length,32656,{Ve:e.length,me:n.length});for(let a=0;a<e.length;a++){const o=n[a],u=o.transform,h=t.data.field(o.field);i.set(o.field,VR(u,h,e[a]))}return i}function Pv(n,t,e){const i=new Map;for(const a of n){const o=a.transform,u=e.data.field(a.field);i.set(a.field,IR(o,u,t))}return i}class IT extends yf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zR extends yf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(t,e,i,a){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(t.key)&&PR(o,t,i[a])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=au(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=au(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=AT();return this.mutations.forEach(a=>{const o=t.get(a.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=e.has(a.key)?null:h;const f=CT(u,h);f!==null&&i.set(a.key,f),u.isValidDocument()||u.convertToNoDocument(xt.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Pt())}isEqual(t){return this.batchId===t.batchId&&po(this.mutations,t.mutations,(e,i)=>Nv(e,i))&&po(this.baseMutations,t.baseMutations,(e,i)=>Nv(e,i))}}class Jm{constructor(t,e,i,a){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=a}static from(t,e,i){Qt(t.mutations.length===i.length,58842,{fe:t.mutations.length,ge:i.length});let a=function(){return RR}();const o=t.mutations;for(let u=0;u<o.length;u++)a=a.insert(o[u].key,i[u].version);return new Jm(t,e,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De,Ht;function jR(n){switch(n){case at.OK:return Tt(64938);case at.CANCELLED:case at.UNKNOWN:case at.DEADLINE_EXCEEDED:case at.RESOURCE_EXHAUSTED:case at.INTERNAL:case at.UNAVAILABLE:case at.UNAUTHENTICATED:return!1;case at.INVALID_ARGUMENT:case at.NOT_FOUND:case at.ALREADY_EXISTS:case at.PERMISSION_DENIED:case at.FAILED_PRECONDITION:case at.ABORTED:case at.OUT_OF_RANGE:case at.UNIMPLEMENTED:case at.DATA_LOSS:return!0;default:return Tt(15467,{code:n})}}function VT(n){if(n===void 0)return hs("GRPC error has no .code"),at.UNKNOWN;switch(n){case De.OK:return at.OK;case De.CANCELLED:return at.CANCELLED;case De.UNKNOWN:return at.UNKNOWN;case De.DEADLINE_EXCEEDED:return at.DEADLINE_EXCEEDED;case De.RESOURCE_EXHAUSTED:return at.RESOURCE_EXHAUSTED;case De.INTERNAL:return at.INTERNAL;case De.UNAVAILABLE:return at.UNAVAILABLE;case De.UNAUTHENTICATED:return at.UNAUTHENTICATED;case De.INVALID_ARGUMENT:return at.INVALID_ARGUMENT;case De.NOT_FOUND:return at.NOT_FOUND;case De.ALREADY_EXISTS:return at.ALREADY_EXISTS;case De.PERMISSION_DENIED:return at.PERMISSION_DENIED;case De.FAILED_PRECONDITION:return at.FAILED_PRECONDITION;case De.ABORTED:return at.ABORTED;case De.OUT_OF_RANGE:return at.OUT_OF_RANGE;case De.UNIMPLEMENTED:return at.UNIMPLEMENTED;case De.DATA_LOSS:return at.DATA_LOSS;default:return Tt(39323,{code:n})}}(Ht=De||(De={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR=new Ks([4294967295,4294967295],0);function Lv(n){const t=nT().encode(n),e=new XE;return e.update(t),new Uint8Array(e.digest())}function zv(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),a=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Ks([e,i],0),new Ks([a,o],0)]}class tp{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new Xl(`Invalid padding: ${e}`);if(i<0)throw new Xl(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Xl(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new Xl(`Invalid padding when bitmap length is 0: ${e}`);this.pe=8*t.length-e,this.ye=Ks.fromNumber(this.pe)}we(t,e,i){let a=t.add(e.multiply(Ks.fromNumber(i)));return a.compare(FR)===1&&(a=new Ks([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const e=Lv(t),[i,a]=zv(e);for(let o=0;o<this.hashCount;o++){const u=this.we(i,a,o);if(!this.be(u))return!1}return!0}static create(t,e,i){const a=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),u=new tp(o,a,e);return i.forEach(h=>u.insert(h)),u}insert(t){if(this.pe===0)return;const e=Lv(t),[i,a]=zv(e);for(let o=0;o<this.hashCount;o++){const u=this.we(i,a,o);this.Se(u)}}Se(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class Xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(t,e,i,a,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const a=new Map;return a.set(t,Mu.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new _f(xt.min(),a,new ge(Ot),fs(),Pt())}}class Mu{constructor(t,e,i,a,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new Mu(i,e,Pt(),Pt(),Pt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(t,e,i,a){this.De=t,this.removedTargetIds=e,this.key=i,this.ve=a}}class NT{constructor(t,e){this.targetId=t,this.Ce=e}}class kT{constructor(t,e,i=Je.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=a}}class Bv{constructor(){this.Fe=0,this.Me=Uv(),this.xe=Je.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Pt(),e=Pt(),i=Pt();return this.Me.forEach((a,o)=>{switch(o){case 0:t=t.add(a);break;case 2:e=e.add(a);break;case 1:i=i.add(a);break;default:Tt(38017,{changeType:o})}}),new Mu(this.xe,this.Oe,t,e,i)}Qe(){this.Ne=!1,this.Me=Uv()}$e(t,e){this.Ne=!0,this.Me=this.Me.insert(t,e)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,Qt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class qR{constructor(t){this.ze=t,this.je=new Map,this.He=fs(),this.Je=oh(),this.Ye=oh(),this.Ze=new ge(Ot)}Xe(t){for(const e of t.De)t.ve&&t.ve.isFoundDocument()?this.et(e,t.ve):this.tt(e,t.key,t.ve);for(const e of t.removedTargetIds)this.tt(e,t.key,t.ve)}nt(t){this.forEachTarget(t,e=>{const i=this.rt(e);switch(t.state){case 0:this.it(e)&&i.ke(t.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(t.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(e);break;case 3:this.it(e)&&(i.Ge(),i.ke(t.resumeToken));break;case 4:this.it(e)&&(this.st(e),i.ke(t.resumeToken));break;default:Tt(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.je.forEach((i,a)=>{this.it(a)&&e(a)})}ot(t){const e=t.targetId,i=t.Ce.count,a=this._t(e);if(a){const o=a.target;if(mm(o))if(i===0){const u=new yt(o.path);this.tt(e,u,on.newNoDocument(u,xt.min()))}else Qt(i===1,20013,{expectedCount:i});else{const u=this.ut(e);if(u!==i){const h=this.ct(t),f=h?this.lt(h,t,u):1;if(f!==0){this.st(e);const g=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,g)}}}}}ct(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:o=0}=e;let u,h;try{u=na(i).toUint8Array()}catch(f){if(f instanceof rT)return mo("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new tp(u,a,o)}catch(f){return mo(f instanceof Xl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.pe===0?null:h}lt(t,e,i){return e.Ce.count===i-this.Tt(t,e.targetId)?0:2}Tt(t,e){const i=this.ze.getRemoteKeysForTarget(e);let a=0;return i.forEach(o=>{const u=this.ze.Pt(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;t.mightContain(h)||(this.tt(e,o,null),a++)}),a}It(t){const e=new Map;this.je.forEach((o,u)=>{const h=this._t(u);if(h){if(o.current&&mm(h.target)){const f=new yt(h.target.path);this.Et(f).has(u)||this.dt(u,f)||this.tt(u,f,on.newNoDocument(f,t))}o.Le&&(e.set(u,o.qe()),o.Qe())}});let i=Pt();this.Ye.forEach((o,u)=>{let h=!0;u.forEachWhile(f=>{const g=this._t(f);return!g||g.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(i=i.add(o))}),this.He.forEach((o,u)=>u.setReadTime(t));const a=new _f(t,e,this.Ze,this.He,i);return this.He=fs(),this.Je=oh(),this.Ye=oh(),this.Ze=new ge(Ot),a}et(t,e){if(!this.it(t))return;const i=this.dt(t,e.key)?2:0;this.rt(t).$e(e.key,i),this.He=this.He.insert(e.key,e),this.Je=this.Je.insert(e.key,this.Et(e.key).add(t)),this.Ye=this.Ye.insert(e.key,this.At(e.key).add(t))}tt(t,e,i){if(!this.it(t))return;const a=this.rt(t);this.dt(t,e)?a.$e(e,1):a.Ue(e),this.Ye=this.Ye.insert(e,this.At(e).delete(t)),this.Ye=this.Ye.insert(e,this.At(e).add(t)),i&&(this.He=this.He.insert(e,i))}removeTarget(t){this.je.delete(t)}ut(t){const e=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let e=this.je.get(t);return e||(e=new Bv,this.je.set(t,e)),e}At(t){let e=this.Ye.get(t);return e||(e=new Le(Ot),this.Ye=this.Ye.insert(t,e)),e}Et(t){let e=this.Je.get(t);return e||(e=new Le(Ot),this.Je=this.Je.insert(t,e)),e}it(t){const e=this._t(t)!==null;return e||ct("WatchChangeAggregator","Detected inactive target",t),e}_t(t){const e=this.je.get(t);return e&&e.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new Bv),this.ze.getRemoteKeysForTarget(t).forEach(e=>{this.tt(t,e,null)})}dt(t,e){return this.ze.getRemoteKeysForTarget(t).has(e)}}function oh(){return new ge(yt.comparator)}function Uv(){return new ge(yt.comparator)}const GR={asc:"ASCENDING",desc:"DESCENDING"},YR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},QR={and:"AND",or:"OR"};class XR{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function ym(n,t){return n.useProto3Json||cf(t)?t:{value:t}}function Kh(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function PT(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function KR(n,t){return Kh(n,t.toTimestamp())}function xi(n){return Qt(!!n,49232),xt.fromTimestamp(function(e){const i=ea(e);return new Pe(i.seconds,i.nanos)}(n))}function ep(n,t){return _m(n,t).canonicalString()}function _m(n,t){const e=function(a){return new ce(["projects",a.projectId,"databases",a.database])}(n).child("documents");return t===void 0?e:e.child(t)}function LT(n){const t=ce.fromString(n);return Qt(jT(t),10190,{key:t.toString()}),t}function vm(n,t){return ep(n.databaseId,t.path)}function Ug(n,t){const e=LT(t);if(e.get(1)!==n.databaseId.projectId)throw new mt(at.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new mt(at.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new yt(BT(e))}function zT(n,t){return ep(n.databaseId,t)}function WR(n){const t=LT(n);return t.length===4?ce.emptyPath():BT(t)}function bm(n){return new ce(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function BT(n){return Qt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Hv(n,t,e){return{name:vm(n,t),fields:e.value.mapValue.fields}}function $R(n,t){let e;if("targetChange"in t){t.targetChange;const i=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Tt(39313,{state:g})}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],o=function(g,y){return g.useProto3Json?(Qt(y===void 0||typeof y=="string",58123),Je.fromBase64String(y||"")):(Qt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Je.fromUint8Array(y||new Uint8Array))}(n,t.targetChange.resumeToken),u=t.targetChange.cause,h=u&&function(g){const y=g.code===void 0?at.UNKNOWN:VT(g.code);return new mt(y,g.message||"")}(u);e=new kT(i,a,o,h||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const a=Ug(n,i.document.name),o=xi(i.document.updateTime),u=i.document.createTime?xi(i.document.createTime):xt.min(),h=new Yn({mapValue:{fields:i.document.fields}}),f=on.newFoundDocument(a,o,u,h),g=i.targetIds||[],y=i.removedTargetIds||[];e=new Rh(g,y,f.key,f)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const a=Ug(n,i.document),o=i.readTime?xi(i.readTime):xt.min(),u=on.newNoDocument(a,o),h=i.removedTargetIds||[];e=new Rh([],h,u.key,u)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const a=Ug(n,i.document),o=i.removedTargetIds||[];e=new Rh([],o,a,null)}else{if(!("filter"in t))return Tt(11601,{Vt:t});{t.filter;const i=t.filter;i.targetId;const{count:a=0,unchangedNames:o}=i,u=new HR(a,o),h=i.targetId;e=new NT(h,u)}}return e}function ZR(n,t){let e;if(t instanceof Du)e={update:Hv(n,t.key,t.value)};else if(t instanceof IT)e={delete:vm(n,t.key)};else if(t instanceof ur)e={update:Hv(n,t.key,t.data),updateMask:o2(t.fieldMask)};else{if(!(t instanceof zR))return Tt(16599,{ft:t.type});e={verify:vm(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(o,u){const h=u.transform;if(h instanceof Qh)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof yu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof _u)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Xh)return{fieldPath:u.field.canonicalString(),increment:h.Re};throw Tt(20930,{transform:u.transform})}(0,i))),t.precondition.isNone||(e.currentDocument=function(a,o){return o.updateTime!==void 0?{updateTime:KR(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Tt(27497)}(n,t.precondition)),e}function JR(n,t){return n&&n.length>0?(Qt(t!==void 0,14353),n.map(e=>function(a,o){let u=a.updateTime?xi(a.updateTime):xi(o);return u.isEqual(xt.min())&&(u=xi(o)),new kR(u,a.transformResults||[])}(e,t))):[]}function t2(n,t){return{documents:[zT(n,t.path)]}}function e2(n,t){const e={structuredQuery:{}},i=t.path;let a;t.collectionGroup!==null?(a=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=zT(n,a);const o=function(g){if(g.length!==0)return HT(Di.create(g,"and"))}(t.filters);o&&(e.structuredQuery.where=o);const u=function(g){if(g.length!==0)return g.map(y=>function(b){return{field:lo(b.field),direction:s2(b.dir)}}(y))}(t.orderBy);u&&(e.structuredQuery.orderBy=u);const h=ym(n,t.limit);return h!==null&&(e.structuredQuery.limit=h),t.startAt&&(e.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{gt:e,parent:a}}function n2(n){let t=WR(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let a=null;if(i>0){Qt(i===1,65062);const y=e.from[0];y.allDescendants?a=y.collectionId:t=t.child(y.collectionId)}let o=[];e.where&&(o=function(_){const b=UT(_);return b instanceof Di&&pT(b)?b.getFilters():[b]}(e.where));let u=[];e.orderBy&&(u=function(_){return _.map(b=>function(x){return new Yh(uo(x.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(b))}(e.orderBy));let h=null;e.limit&&(h=function(_){let b;return b=typeof _=="object"?_.value:_,cf(b)?null:b}(e.limit));let f=null;e.startAt&&(f=function(_){const b=!!_.before,S=_.values||[];return new Gh(S,b)}(e.startAt));let g=null;return e.endAt&&(g=function(_){const b=!_.before,S=_.values||[];return new Gh(S,b)}(e.endAt)),ER(t,a,u,o,h,"F",f,g)}function i2(n,t){const e=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt(28987,{purpose:a})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function UT(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=uo(e.unaryFilter.field);return Ne.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=uo(e.unaryFilter.field);return Ne.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=uo(e.unaryFilter.field);return Ne.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=uo(e.unaryFilter.field);return Ne.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Tt(61313);default:return Tt(60726)}}(n):n.fieldFilter!==void 0?function(e){return Ne.create(uo(e.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Tt(58110);default:return Tt(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return Di.create(e.compositeFilter.filters.map(i=>UT(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Tt(1026)}}(e.compositeFilter.op))}(n):Tt(30097,{filter:n})}function s2(n){return GR[n]}function a2(n){return YR[n]}function r2(n){return QR[n]}function lo(n){return{fieldPath:n.canonicalString()}}function uo(n){return Ze.fromServerFormat(n.fieldPath)}function HT(n){return n instanceof Ne?function(e){if(e.op==="=="){if(Dv(e.value))return{unaryFilter:{field:lo(e.field),op:"IS_NAN"}};if(Rv(e.value))return{unaryFilter:{field:lo(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Dv(e.value))return{unaryFilter:{field:lo(e.field),op:"IS_NOT_NAN"}};if(Rv(e.value))return{unaryFilter:{field:lo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lo(e.field),op:a2(e.op),value:e.value}}}(n):n instanceof Di?function(e){const i=e.getFilters().map(a=>HT(a));return i.length===1?i[0]:{compositeFilter:{op:r2(e.op),filters:i}}}(n):Tt(54877,{filter:n})}function o2(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function jT(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(t,e,i,a,o=xt.min(),u=xt.min(),h=Je.EMPTY_BYTE_STRING,f=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(t){return new js(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(t){this.wt=t}}function u2(n){const t=n2({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?pm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(){this.yn=new h2}addToCollectionParentIndex(t,e){return this.yn.add(e),et.resolve()}getCollectionParents(t,e){return et.resolve(this.yn.getEntries(e))}addFieldIndex(t,e){return et.resolve()}deleteFieldIndex(t,e){return et.resolve()}deleteAllFieldIndexes(t){return et.resolve()}createTargetIndexes(t,e){return et.resolve()}getDocumentsMatchingTarget(t,e){return et.resolve(null)}getIndexType(t,e){return et.resolve(0)}getFieldIndexes(t,e){return et.resolve([])}getNextCollectionGroupToUpdate(t){return et.resolve(null)}getMinOffset(t,e){return et.resolve(ta.min())}getMinOffsetFromCollectionGroup(t,e){return et.resolve(ta.min())}updateCollectionGroup(t,e,i){return et.resolve()}updateIndexEntries(t,e){return et.resolve()}}class h2{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),a=this.index[e]||new Le(ce.comparator),o=!a.has(i);return this.index[e]=a.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),a=this.index[e];return a&&a.has(i)}getEntries(t){return(this.index[t]||new Le(ce.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},FT=41943040;class _n{static withCacheSize(t){return new _n(t,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(FT,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(t){this.nr=t}next(){return this.nr+=2,this.nr}static rr(){return new vo(0)}static ir(){return new vo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv="LruGarbageCollector",f2=1048576;function qv([n,t],[e,i]){const a=Ot(n,e);return a===0?Ot(t,i):a}class d2{constructor(t){this.cr=t,this.buffer=new Le(qv),this.lr=0}hr(){return++this.lr}Pr(t){const e=[t,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();qv(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class g2{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(t){ct(Fv,`Garbage collection scheduled in ${t}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Do(e)?ct(Fv,"Ignoring IndexedDB error during garbage collection: ",e):await Ro(e)}await this.Ir(3e5)})}}class m2{constructor(t,e){this.Er=t,this.params=e}calculateTargetCount(t,e){return this.Er.dr(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(e===0)return et.resolve(uf.le);const i=new d2(e);return this.Er.forEachTarget(t,a=>i.Pr(a.sequenceNumber)).next(()=>this.Er.Ar(t,a=>i.Pr(a))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.Er.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Er.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),et.resolve(jv)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jv):this.Rr(t,e))}getCacheSize(t){return this.Er.getCacheSize(t)}Rr(t,e){let i,a,o,u,h,f,g;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,u=Date.now(),this.nthSequenceNumber(t,a))).next(_=>(i=_,h=Date.now(),this.removeTargets(t,i,e))).next(_=>(o=_,f=Date.now(),this.removeOrphanedDocuments(t,i))).next(_=>(g=Date.now(),ro()<=jt.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(h-u)+`ms
	Removed ${o} targets in `+(f-h)+`ms
	Removed ${_} documents in `+(g-f)+`ms
Total Duration: ${g-y}ms`),et.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:_})))}}function p2(n,t){return new m2(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(){this.changes=new lr(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,on.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?et.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(t,e,i,a){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=a}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(a=>(i=a,this.remoteDocumentCache.getEntry(t,e))).next(a=>(i!==null&&au(i.mutation,a,ti.empty(),Pe.now()),a))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,Pt()).next(()=>i))}getLocalViewOfDocuments(t,e,i=Pt()){const a=Ja();return this.populateOverlays(t,a,e).next(()=>this.computeViews(t,e,a,i).next(o=>{let u=Ql();return o.forEach((h,f)=>{u=u.insert(h,f.overlayedDocument)}),u}))}getOverlayedDocuments(t,e){const i=Ja();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,Pt()))}populateOverlays(t,e,i){const a=[];return i.forEach(o=>{e.has(o)||a.push(o)}),this.documentOverlayCache.getOverlays(t,a).next(o=>{o.forEach((u,h)=>{e.set(u,h)})})}computeViews(t,e,i,a){let o=fs();const u=su(),h=function(){return su()}();return e.forEach((f,g)=>{const y=i.get(g.key);a.has(g.key)&&(y===void 0||y.mutation instanceof ur)?o=o.insert(g.key,g):y!==void 0?(u.set(g.key,y.mutation.getFieldMask()),au(y.mutation,g,y.mutation.getFieldMask(),Pe.now())):u.set(g.key,ti.empty())}),this.recalculateAndSaveOverlays(t,o).next(f=>(f.forEach((g,y)=>u.set(g,y)),e.forEach((g,y)=>{var _;return h.set(g,new _2(y,(_=u.get(g))!==null&&_!==void 0?_:null))}),h))}recalculateAndSaveOverlays(t,e){const i=su();let a=new ge((u,h)=>u-h),o=Pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(u=>{for(const h of u)h.keys().forEach(f=>{const g=e.get(f);if(g===null)return;let y=i.get(f)||ti.empty();y=h.applyToLocalView(g,y),i.set(f,y);const _=(a.get(h.batchId)||Pt()).add(f);a=a.insert(h.batchId,_)})}).next(()=>{const u=[],h=a.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),g=f.key,y=f.value,_=AT();y.forEach(b=>{if(!o.has(b)){const S=CT(e.get(b),i.get(b));S!==null&&_.set(b,S),o=o.add(b)}}),u.push(this.documentOverlayCache.saveOverlays(t,g,_))}return et.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,a){return function(u){return yt.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):TR(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,a):this.getDocumentsMatchingCollectionQuery(t,e,i,a)}getNextDocuments(t,e,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,a).next(o=>{const u=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,a-o.size):et.resolve(Ja());let h=du,f=o;return u.next(g=>et.forEach(g,(y,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),o.get(y)?et.resolve():this.remoteDocumentCache.getEntry(t,y).next(b=>{f=f.insert(y,b)}))).next(()=>this.populateOverlays(t,g,o)).next(()=>this.computeViews(t,f,g,Pt())).next(y=>({batchId:h,changes:ST(y)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new yt(e)).next(i=>{let a=Ql();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(t,e,i,a){const o=e.collectionGroup;let u=Ql();return this.indexManager.getCollectionParents(t,o).next(h=>et.forEach(h,f=>{const g=function(_,b){return new ff(b,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(e,f.child(o));return this.getDocumentsMatchingCollectionQuery(t,g,i,a).next(y=>{y.forEach((_,b)=>{u=u.insert(_,b)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(t,e,i,a){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,a))).next(u=>{o.forEach((f,g)=>{const y=g.getKey();u.get(y)===null&&(u=u.insert(y,on.newInvalidDocument(y)))});let h=Ql();return u.forEach((f,g)=>{const y=o.get(f);y!==void 0&&au(y.mutation,g,ti.empty(),Pe.now()),mf(e,g)&&(h=h.insert(f,g))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(t){this.serializer=t,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(t,e){return et.resolve(this.Fr.get(e))}saveBundleMetadata(t,e){return this.Fr.set(e.id,function(a){return{id:a.id,version:a.version,createTime:xi(a.createTime)}}(e)),et.resolve()}getNamedQuery(t,e){return et.resolve(this.Mr.get(e))}saveNamedQuery(t,e){return this.Mr.set(e.name,function(a){return{name:a.name,query:u2(a.bundledQuery),readTime:xi(a.readTime)}}(e)),et.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(){this.overlays=new ge(yt.comparator),this.Or=new Map}getOverlay(t,e){return et.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Ja();return et.forEach(e,a=>this.getOverlay(t,a).next(o=>{o!==null&&i.set(a,o)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((a,o)=>{this.St(t,e,o)}),et.resolve()}removeOverlaysForBatchId(t,e,i){const a=this.Or.get(i);return a!==void 0&&(a.forEach(o=>this.overlays=this.overlays.remove(o)),this.Or.delete(i)),et.resolve()}getOverlaysForCollection(t,e,i){const a=Ja(),o=e.length+1,u=new yt(e.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,g=f.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===o&&f.largestBatchId>i&&a.set(f.getKey(),f)}return et.resolve(a)}getOverlaysForCollectionGroup(t,e,i,a){let o=new ge((g,y)=>g-y);const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>i){let y=o.get(g.largestBatchId);y===null&&(y=Ja(),o=o.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const h=Ja(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((g,y)=>h.set(g,y)),!(h.size()>=a)););return et.resolve(h)}St(t,e,i){const a=this.overlays.get(i.key);if(a!==null){const u=this.Or.get(a.largestBatchId).delete(i.key);this.Or.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new UR(e,i));let o=this.Or.get(e);o===void 0&&(o=Pt(),this.Or.set(e,o)),this.Or.set(e,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(){this.sessionToken=Je.EMPTY_BYTE_STRING}getSessionToken(t){return et.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,et.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(){this.Nr=new Le(qe.Br),this.Lr=new Le(qe.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(t,e){const i=new qe(t,e);this.Nr=this.Nr.add(i),this.Lr=this.Lr.add(i)}qr(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.Qr(new qe(t,e))}$r(t,e){t.forEach(i=>this.removeReference(i,e))}Ur(t){const e=new yt(new ce([])),i=new qe(e,t),a=new qe(e,t+1),o=[];return this.Lr.forEachInRange([i,a],u=>{this.Qr(u),o.push(u.key)}),o}Kr(){this.Nr.forEach(t=>this.Qr(t))}Qr(t){this.Nr=this.Nr.delete(t),this.Lr=this.Lr.delete(t)}Wr(t){const e=new yt(new ce([])),i=new qe(e,t),a=new qe(e,t+1);let o=Pt();return this.Lr.forEachInRange([i,a],u=>{o=o.add(u.key)}),o}containsKey(t){const e=new qe(t,0),i=this.Nr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class qe{constructor(t,e){this.key=t,this.Gr=e}static Br(t,e){return yt.comparator(t.key,e.key)||Ot(t.Gr,e.Gr)}static kr(t,e){return Ot(t.Gr,e.Gr)||yt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Jn=1,this.zr=new Le(qe.Br)}checkEmpty(t){return et.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,a){const o=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new BR(o,e,i,a);this.mutationQueue.push(u);for(const h of a)this.zr=this.zr.add(new qe(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return et.resolve(u)}lookupMutationBatch(t,e){return et.resolve(this.jr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,a=this.Hr(i),o=a<0?0:a;return et.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return et.resolve(this.mutationQueue.length===0?Qm:this.Jn-1)}getAllMutationBatches(t){return et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new qe(e,0),a=new qe(e,Number.POSITIVE_INFINITY),o=[];return this.zr.forEachInRange([i,a],u=>{const h=this.jr(u.Gr);o.push(h)}),et.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Le(Ot);return e.forEach(a=>{const o=new qe(a,0),u=new qe(a,Number.POSITIVE_INFINITY);this.zr.forEachInRange([o,u],h=>{i=i.add(h.Gr)})}),et.resolve(this.Jr(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,a=i.length+1;let o=i;yt.isDocumentKey(o)||(o=o.child(""));const u=new qe(new yt(o),0);let h=new Le(Ot);return this.zr.forEachWhile(f=>{const g=f.key.path;return!!i.isPrefixOf(g)&&(g.length===a&&(h=h.add(f.Gr)),!0)},u),et.resolve(this.Jr(h))}Jr(t){const e=[];return t.forEach(i=>{const a=this.jr(i);a!==null&&e.push(a)}),e}removeMutationBatch(t,e){Qt(this.Yr(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.zr;return et.forEach(e.mutations,a=>{const o=new qe(a.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(()=>{this.zr=i})}Xn(t){}containsKey(t,e){const i=new qe(e,0),a=this.zr.firstAfterOrEqual(i);return et.resolve(e.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,et.resolve()}Yr(t,e){return this.Hr(t)}Hr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}jr(t){const e=this.Hr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(t){this.Zr=t,this.docs=function(){return new ge(yt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,a=this.docs.get(i),o=a?a.size:0,u=this.Zr(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return et.resolve(i?i.document.mutableCopy():on.newInvalidDocument(e))}getEntries(t,e){let i=fs();return e.forEach(a=>{const o=this.docs.get(a);i=i.insert(a,o?o.document.mutableCopy():on.newInvalidDocument(a))}),et.resolve(i)}getDocumentsMatchingQuery(t,e,i,a){let o=fs();const u=e.path,h=new yt(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:g,value:{document:y}}=f.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||Jw(Zw(y),i)<=0||(a.has(y.key)||mf(e,y))&&(o=o.insert(y.key,y.mutableCopy()))}return et.resolve(o)}getAllFromCollectionGroup(t,e,i,a){Tt(9500)}Xr(t,e){return et.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new x2(this)}getSize(t){return et.resolve(this.size)}}class x2 extends y2{constructor(t){super(),this.vr=t}applyChanges(t){const e=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?e.push(this.vr.addEntry(t,a)):this.vr.removeEntry(i)}),et.waitFor(e)}getFromCache(t,e){return this.vr.getEntry(t,e)}getAllFromCache(t,e){return this.vr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(t){this.persistence=t,this.ei=new lr(e=>Wm(e),$m),this.lastRemoteSnapshotVersion=xt.min(),this.highestTargetId=0,this.ti=0,this.ni=new np,this.targetCount=0,this.ri=vo.rr()}forEachTarget(t,e){return this.ei.forEach((i,a)=>e(a)),et.resolve()}getLastRemoteSnapshotVersion(t){return et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return et.resolve(this.ti)}allocateTargetId(t){return this.highestTargetId=this.ri.next(),et.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.ti&&(this.ti=e),et.resolve()}ar(t){this.ei.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ri=new vo(e),this.highestTargetId=e),t.sequenceNumber>this.ti&&(this.ti=t.sequenceNumber)}addTargetData(t,e){return this.ar(e),this.targetCount+=1,et.resolve()}updateTargetData(t,e){return this.ar(e),et.resolve()}removeTargetData(t,e){return this.ei.delete(e.target),this.ni.Ur(e.targetId),this.targetCount-=1,et.resolve()}removeTargets(t,e,i){let a=0;const o=[];return this.ei.forEach((u,h)=>{h.sequenceNumber<=e&&i.get(h.targetId)===null&&(this.ei.delete(u),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),a++)}),et.waitFor(o).next(()=>a)}getTargetCount(t){return et.resolve(this.targetCount)}getTargetData(t,e){const i=this.ei.get(e)||null;return et.resolve(i)}addMatchingKeys(t,e,i){return this.ni.qr(e,i),et.resolve()}removeMatchingKeys(t,e,i){this.ni.$r(e,i);const a=this.persistence.referenceDelegate,o=[];return a&&e.forEach(u=>{o.push(a.markPotentiallyOrphaned(t,u))}),et.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.ni.Ur(e),et.resolve()}getMatchingKeysForTargetId(t,e){const i=this.ni.Wr(e);return et.resolve(i)}containsKey(t,e){return et.resolve(this.ni.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(t,e){this.ii={},this.overlays={},this.si=new uf(0),this.oi=!1,this.oi=!0,this._i=new T2,this.referenceDelegate=t(this),this.ai=new w2(this),this.indexManager=new c2,this.remoteDocumentCache=function(a){return new A2(a)}(i=>this.referenceDelegate.ui(i)),this.serializer=new l2(e),this.ci=new b2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new E2,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ii[t.toKey()];return i||(i=new S2(e,this.referenceDelegate),this.ii[t.toKey()]=i),i}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(t,e,i){ct("MemoryPersistence","Starting transaction:",t);const a=new R2(this.si.next());return this.referenceDelegate.li(),i(a).next(o=>this.referenceDelegate.hi(a).next(()=>o)).toPromise().then(o=>(a.raiseOnCommittedEvent(),o))}Pi(t,e){return et.or(Object.values(this.ii).map(i=>()=>i.containsKey(t,e)))}}class R2 extends eR{constructor(t){super(),this.currentSequenceNumber=t}}class ip{constructor(t){this.persistence=t,this.Ti=new np,this.Ii=null}static Ei(t){return new ip(t)}get di(){if(this.Ii)return this.Ii;throw Tt(60996)}addReference(t,e,i){return this.Ti.addReference(i,e),this.di.delete(i.toString()),et.resolve()}removeReference(t,e,i){return this.Ti.removeReference(i,e),this.di.add(i.toString()),et.resolve()}markPotentiallyOrphaned(t,e){return this.di.add(e.toString()),et.resolve()}removeTarget(t,e){this.Ti.Ur(e.targetId).forEach(a=>this.di.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(a=>{a.forEach(o=>this.di.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}li(){this.Ii=new Set}hi(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.di,i=>{const a=yt.fromPath(i);return this.Ai(t,a).next(o=>{o||e.removeEntry(a,xt.min())})}).next(()=>(this.Ii=null,e.apply(t)))}updateLimboDocument(t,e){return this.Ai(t,e).next(i=>{i?this.di.delete(e.toString()):this.di.add(e.toString())})}ui(t){return 0}Ai(t,e){return et.or([()=>et.resolve(this.Ti.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Pi(t,e)])}}class Wh{constructor(t,e){this.persistence=t,this.Ri=new lr(i=>sR(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=p2(this,e)}static Ei(t,e){return new Wh(t,e)}li(){}hi(t){return et.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}dr(t){const e=this.Vr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>e.next(a=>i+a))}Vr(t){let e=0;return this.Ar(t,i=>{e++}).next(()=>e)}Ar(t,e){return et.forEach(this.Ri,(i,a)=>this.gr(t,i,a).next(o=>o?et.resolve():e(a)))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.Xr(t,u=>this.gr(t,u,e).next(h=>{h||(i++,o.removeEntry(u,xt.min()))})).next(()=>o.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,e){return this.Ri.set(e,t.currentSequenceNumber),et.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.Ri.set(i,t.currentSequenceNumber),et.resolve()}removeReference(t,e,i){return this.Ri.set(i,t.currentSequenceNumber),et.resolve()}updateLimboDocument(t,e){return this.Ri.set(e,t.currentSequenceNumber),et.resolve()}ui(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Ah(t.data.value)),e}gr(t,e,i){return et.or([()=>this.persistence.Pi(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const a=this.Ri.get(e);return et.resolve(a!==void 0&&a>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(t,e,i,a){this.targetId=t,this.fromCache=e,this.ls=i,this.hs=a}static Ps(t,e){let i=Pt(),a=Pt();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new sp(t,e.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return A1()?8:nR(T1())>0?6:4}()}initialize(t,e){this.As=t,this.indexManager=e,this.Ts=!0}getDocumentsMatchingQuery(t,e,i,a){const o={result:null};return this.Rs(t,e).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.Vs(t,e,a,i).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new D2;return this.fs(t,e,u).next(h=>{if(o.result=h,this.Is)return this.gs(t,e,u,h.size)})}).next(()=>o.result)}gs(t,e,i,a){return i.documentReadCount<this.Es?(ro()<=jt.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",oo(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),et.resolve()):(ro()<=jt.DEBUG&&ct("QueryEngine","Query:",oo(e),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ds*a?(ro()<=jt.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",oo(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ai(e))):et.resolve())}Rs(t,e){if(Iv(e))return et.resolve(null);let i=Ai(e);return this.indexManager.getIndexType(t,i).next(a=>a===0?null:(e.limit!==null&&a===1&&(e=pm(e,null,"F"),i=Ai(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const u=Pt(...o);return this.As.getDocuments(t,u).next(h=>this.indexManager.getMinOffset(t,i).next(f=>{const g=this.ps(e,h);return this.ys(e,g,u,f.readTime)?this.Rs(t,pm(e,null,"F")):this.ws(t,g,e,f)}))})))}Vs(t,e,i,a){return Iv(e)||a.isEqual(xt.min())?et.resolve(null):this.As.getDocuments(t,i).next(o=>{const u=this.ps(e,o);return this.ys(e,u,i,a)?et.resolve(null):(ro()<=jt.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),oo(e)),this.ws(t,u,e,$w(a,du)).next(h=>h))})}ps(t,e){let i=new Le(ET(t));return e.forEach((a,o)=>{mf(t,o)&&(i=i.add(o))}),i}ys(t,e,i,a){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}fs(t,e,i){return ro()<=jt.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",oo(e)),this.As.getDocumentsMatchingQuery(t,e,ta.min(),i)}ws(t,e,i,a){return this.As.getDocumentsMatchingQuery(t,i,a).next(o=>(e.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap="LocalStore",C2=3e8;class O2{constructor(t,e,i,a){this.persistence=t,this.bs=e,this.serializer=a,this.Ss=new ge(Ot),this.Ds=new lr(o=>Wm(o),$m),this.vs=new Map,this.Cs=t.getRemoteDocumentCache(),this.ai=t.getTargetCache(),this.ci=t.getBundleCache(),this.Fs(i)}Fs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new v2(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ss))}}function I2(n,t,e,i){return new O2(n,t,e,i)}async function GT(n,t){const e=Rt(n);return await e.persistence.runTransaction("Handle user change","readonly",i=>{let a;return e.mutationQueue.getAllMutationBatches(i).next(o=>(a=o,e.Fs(t),e.mutationQueue.getAllMutationBatches(i))).next(o=>{const u=[],h=[];let f=Pt();for(const g of a){u.push(g.batchId);for(const y of g.mutations)f=f.add(y.key)}for(const g of o){h.push(g.batchId);for(const y of g.mutations)f=f.add(y.key)}return e.localDocuments.getDocuments(i,f).next(g=>({Ms:g,removedBatchIds:u,addedBatchIds:h}))})})}function V2(n,t){const e=Rt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=t.batch.keys(),o=e.Cs.newChangeBuffer({trackRemovals:!0});return function(h,f,g,y){const _=g.batch,b=_.keys();let S=et.resolve();return b.forEach(x=>{S=S.next(()=>y.getEntry(f,x)).next(D=>{const M=g.docVersions.get(x);Qt(M!==null,48541),D.version.compareTo(M)<0&&(_.applyToRemoteDocument(D,g),D.isValidDocument()&&(D.setReadTime(g.commitVersion),y.addEntry(D)))})}),S.next(()=>h.mutationQueue.removeMutationBatch(f,_))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,a,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(h){let f=Pt();for(let g=0;g<h.mutationResults.length;++g)h.mutationResults[g].transformResults.length>0&&(f=f.add(h.batch.mutations[g].key));return f}(t))).next(()=>e.localDocuments.getDocuments(i,a))})}function YT(n){const t=Rt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.ai.getLastRemoteSnapshotVersion(e))}function N2(n,t){const e=Rt(n),i=t.snapshotVersion;let a=e.Ss;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=e.Cs.newChangeBuffer({trackRemovals:!0});a=e.Ss;const h=[];t.targetChanges.forEach((y,_)=>{const b=a.get(_);if(!b)return;h.push(e.ai.removeMatchingKeys(o,y.removedDocuments,_).next(()=>e.ai.addMatchingKeys(o,y.addedDocuments,_)));let S=b.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(_)!==null?S=S.withResumeToken(Je.EMPTY_BYTE_STRING,xt.min()).withLastLimboFreeSnapshotVersion(xt.min()):y.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(y.resumeToken,i)),a=a.insert(_,S),function(D,M,z){return D.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=C2?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0}(b,S,y)&&h.push(e.ai.updateTargetData(o,S))});let f=fs(),g=Pt();if(t.documentUpdates.forEach(y=>{t.resolvedLimboDocuments.has(y)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(o,y))}),h.push(k2(o,u,t.documentUpdates).next(y=>{f=y.xs,g=y.Os})),!i.isEqual(xt.min())){const y=e.ai.getLastRemoteSnapshotVersion(o).next(_=>e.ai.setTargetsMetadata(o,o.currentSequenceNumber,i));h.push(y)}return et.waitFor(h).next(()=>u.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,f,g)).next(()=>f)}).then(o=>(e.Ss=a,o))}function k2(n,t,e){let i=Pt(),a=Pt();return e.forEach(o=>i=i.add(o)),t.getEntries(n,i).next(o=>{let u=fs();return e.forEach((h,f)=>{const g=o.get(h);f.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(h)),f.isNoDocument()&&f.version.isEqual(xt.min())?(t.removeEntry(h,f.readTime),u=u.insert(h,f)):!g.isValidDocument()||f.version.compareTo(g.version)>0||f.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(f),u=u.insert(h,f)):ct(ap,"Ignoring outdated watch update for ",h,". Current version:",g.version," Watch version:",f.version)}),{xs:u,Os:a}})}function P2(n,t){const e=Rt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=Qm),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function L2(n,t){const e=Rt(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return e.ai.getTargetData(i,t).next(o=>o?(a=o,et.resolve(a)):e.ai.allocateTargetId(i).next(u=>(a=new js(t,u,"TargetPurposeListen",i.currentSequenceNumber),e.ai.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=e.Ss.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(e.Ss=e.Ss.insert(i.targetId,i),e.Ds.set(t,i.targetId)),i})}async function Em(n,t,e){const i=Rt(n),a=i.Ss.get(t),o=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",o,u=>i.persistence.referenceDelegate.removeTarget(u,a))}catch(u){if(!Do(u))throw u;ct(ap,`Failed to update sequence numbers for target ${t}: ${u}`)}i.Ss=i.Ss.remove(t),i.Ds.delete(a.target)}function Gv(n,t,e){const i=Rt(n);let a=xt.min(),o=Pt();return i.persistence.runTransaction("Execute query","readwrite",u=>function(f,g,y){const _=Rt(f),b=_.Ds.get(y);return b!==void 0?et.resolve(_.Ss.get(b)):_.ai.getTargetData(g,y)}(i,u,Ai(t)).next(h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,i.ai.getMatchingKeysForTargetId(u,h.targetId).next(f=>{o=f})}).next(()=>i.bs.getDocumentsMatchingQuery(u,t,e?a:xt.min(),e?o:Pt())).next(h=>(z2(i,AR(t),h),{documents:h,Ns:o})))}function z2(n,t,e){let i=n.vs.get(t)||xt.min();e.forEach((a,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.vs.set(t,i)}class Yv{constructor(){this.activeTargetIds=CR()}$s(t){this.activeTargetIds=this.activeTargetIds.add(t)}Us(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Qs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class B2{constructor(){this.So=new Yv,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.So.$s(t),this.Do[t]||"not-current"}updateQueryState(t,e,i){this.Do[t]=e}removeLocalQueryTarget(t){this.So.Us(t)}isLocalQueryTarget(t){return this.So.activeTargetIds.has(t)}clearQueryState(t){delete this.Do[t]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(t){return this.So.activeTargetIds.has(t)}start(){return this.So=new Yv,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{vo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv="ConnectivityMonitor";class Xv{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(t){this.Oo.push(t)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){ct(Qv,"Network connectivity changed: AVAILABLE");for(const t of this.Oo)t(0)}xo(){ct(Qv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Oo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lh=null;function Tm(){return lh===null?lh=function(){return 268435456+Math.round(2147483648*Math.random())}():lh++,"0x"+lh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hg="RestConnection",H2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class j2{get Bo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Lo=e+"://"+t.host,this.ko=`projects/${i}/databases/${a}`,this.qo=this.databaseId.database===Fh?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Qo(t,e,i,a,o){const u=Tm(),h=this.$o(t,e.toUriEncodedString());ct(Hg,`Sending RPC '${t}' ${u}:`,h,i);const f={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(f,a,o),this.Ko(t,h,f,i).then(g=>(ct(Hg,`Received RPC '${t}' ${u}: `,g),g),g=>{throw mo(Hg,`RPC '${t}' ${u} failed with error: `,g,"url: ",h,"request:",i),g})}Wo(t,e,i,a,o,u){return this.Qo(t,e,i,a,o)}Uo(t,e,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+wo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((a,o)=>t[o]=a),i&&i.headers.forEach((a,o)=>t[o]=a)}$o(t,e){const i=H2[t];return`${this.Lo}/v1/${e}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(t){this.Go=t.Go,this.zo=t.zo}jo(t){this.Ho=t}Jo(t){this.Yo=t}Zo(t){this.Xo=t}onMessage(t){this.e_=t}close(){this.zo()}send(t){this.Go(t)}t_(){this.Ho()}n_(){this.Yo()}r_(t){this.Xo(t)}i_(t){this.e_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn="WebChannelConnection";class q2 extends j2{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ko(t,e,i,a){const o=Tm();return new Promise((u,h)=>{const f=new KE;f.setWithCredentials(!0),f.listenOnce(WE.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Sh.NO_ERROR:const y=f.getResponseJson();ct(sn,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(y)),u(y);break;case Sh.TIMEOUT:ct(sn,`RPC '${t}' ${o} timed out`),h(new mt(at.DEADLINE_EXCEEDED,"Request time out"));break;case Sh.HTTP_ERROR:const _=f.getStatus();if(ct(sn,`RPC '${t}' ${o} failed with status:`,_,"response text:",f.getResponseText()),_>0){let b=f.getResponseJson();Array.isArray(b)&&(b=b[0]);const S=b==null?void 0:b.error;if(S&&S.status&&S.message){const x=function(M){const z=M.toLowerCase().replace(/_/g,"-");return Object.values(at).indexOf(z)>=0?z:at.UNKNOWN}(S.status);h(new mt(x,S.message))}else h(new mt(at.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new mt(at.UNAVAILABLE,"Connection failed."));break;default:Tt(9055,{s_:t,streamId:o,o_:f.getLastErrorCode(),__:f.getLastError()})}}finally{ct(sn,`RPC '${t}' ${o} completed.`)}});const g=JSON.stringify(a);ct(sn,`RPC '${t}' ${o} sending request:`,a),f.send(e,"POST",g,i,15)})}a_(t,e,i){const a=Tm(),o=[this.Lo,"/","google.firestore.v1.Firestore","/",t,"/channel"],u=JE(),h=ZE(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(f.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Uo(f.initMessageHeaders,e,i),f.encodeInitMessageHeaders=!0;const y=o.join("");ct(sn,`Creating RPC '${t}' stream ${a}: ${y}`,f);const _=u.createWebChannel(y,f);let b=!1,S=!1;const x=new F2({Go:M=>{S?ct(sn,`Not sending because RPC '${t}' stream ${a} is closed:`,M):(b||(ct(sn,`Opening RPC '${t}' stream ${a} transport.`),_.open(),b=!0),ct(sn,`RPC '${t}' stream ${a} sending:`,M),_.send(M))},zo:()=>_.close()}),D=(M,z,H)=>{M.listen(z,K=>{try{H(K)}catch($){setTimeout(()=>{throw $},0)}})};return D(_,Yl.EventType.OPEN,()=>{S||(ct(sn,`RPC '${t}' stream ${a} transport opened.`),x.t_())}),D(_,Yl.EventType.CLOSE,()=>{S||(S=!0,ct(sn,`RPC '${t}' stream ${a} transport closed`),x.r_())}),D(_,Yl.EventType.ERROR,M=>{S||(S=!0,mo(sn,`RPC '${t}' stream ${a} transport errored. Name:`,M.name,"Message:",M.message),x.r_(new mt(at.UNAVAILABLE,"The operation could not be completed")))}),D(_,Yl.EventType.MESSAGE,M=>{var z;if(!S){const H=M.data[0];Qt(!!H,16349);const K=H,$=(K==null?void 0:K.error)||((z=K[0])===null||z===void 0?void 0:z.error);if($){ct(sn,`RPC '${t}' stream ${a} received error:`,$);const G=$.status;let nt=function(C){const N=De[C];if(N!==void 0)return VT(N)}(G),O=$.message;nt===void 0&&(nt=at.INTERNAL,O="Unknown error status: "+G+" with message "+$.message),S=!0,x.r_(new mt(nt,O)),_.close()}else ct(sn,`RPC '${t}' stream ${a} received:`,H),x.i_(H)}}),D(h,$E.STAT_EVENT,M=>{M.stat===cm.PROXY?ct(sn,`RPC '${t}' stream ${a} detected buffering proxy`):M.stat===cm.NOPROXY&&ct(sn,`RPC '${t}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{x.n_()},0),x}}function jg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vf(n){return new XR(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(t,e,i=1e3,a=1.5,o=6e4){this.bi=t,this.timerId=e,this.u_=i,this.c_=a,this.l_=o,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(t){this.cancel();const e=Math.floor(this.h_+this.d_()),i=Math.max(0,Date.now()-this.T_),a=Math.max(0,e-i);a>0&&ct("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.h_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,a,()=>(this.T_=Date.now(),t())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv="PersistentStream";class XT{constructor(t,e,i,a,o,u,h,f){this.bi=t,this.R_=i,this.V_=a,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new QT(t,e)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(t){this.M_(),this.stream.send(t)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(t,e){this.M_(),this.x_(),this.y_.cancel(),this.m_++,t!==4?this.y_.reset():e&&e.code===at.RESOURCE_EXHAUSTED?(hs(e.toString()),hs("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):e&&e.code===at.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zo(e)}O_(){}auth(){this.state=1;const t=this.N_(this.m_),e=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.m_===e&&this.B_(i,a)},i=>{t(()=>{const a=new mt(at.UNKNOWN,"Fetching auth token failed: "+i.message);return this.L_(a)})})}B_(t,e){const i=this.N_(this.m_);this.stream=this.k_(t,e),this.stream.jo(()=>{i(()=>this.listener.jo())}),this.stream.Jo(()=>{i(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(a=>{i(()=>this.L_(a))}),this.stream.onMessage(a=>{i(()=>++this.p_==1?this.q_(a):this.onNext(a))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(t){return ct(Kv,`close with error: ${t}`),this.stream=null,this.close(4,t)}N_(t){return e=>{this.bi.enqueueAndForget(()=>this.m_===t?e():(ct(Kv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class G2 extends XT{constructor(t,e,i,a,o,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,a,u),this.serializer=o}k_(t,e){return this.connection.a_("Listen",t,e)}q_(t){return this.onNext(t)}onNext(t){this.y_.reset();const e=$R(this.serializer,t),i=function(o){if(!("targetChange"in o))return xt.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?xt.min():u.readTime?xi(u.readTime):xt.min()}(t);return this.listener.Q_(e,i)}U_(t){const e={};e.database=bm(this.serializer),e.addTarget=function(o,u){let h;const f=u.target;if(h=mm(f)?{documents:t2(o,f)}:{query:e2(o,f).gt},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=PT(o,u.resumeToken);const g=ym(o,u.expectedCount);g!==null&&(h.expectedCount=g)}else if(u.snapshotVersion.compareTo(xt.min())>0){h.readTime=Kh(o,u.snapshotVersion.toTimestamp());const g=ym(o,u.expectedCount);g!==null&&(h.expectedCount=g)}return h}(this.serializer,t);const i=i2(this.serializer,t);i&&(e.labels=i),this.F_(e)}K_(t){const e={};e.database=bm(this.serializer),e.removeTarget=t,this.F_(e)}}class Y2 extends XT{constructor(t,e,i,a,o,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,a,u),this.serializer=o}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(t,e){return this.connection.a_("Write",t,e)}q_(t){return Qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.z_()}onNext(t){Qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.y_.reset();const e=JR(t.writeResults,t.commitTime),i=xi(t.commitTime);return this.listener.j_(i,e)}H_(){const t={};t.database=bm(this.serializer),this.F_(t)}G_(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>ZR(this.serializer,i))};this.F_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{}class X2 extends Q2{constructor(t,e,i,a){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=a,this.J_=!1}Y_(){if(this.J_)throw new mt(at.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(t,e,i,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.Qo(t,_m(e,i),a,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===at.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new mt(at.UNKNOWN,o.toString())})}Wo(t,e,i,a,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Wo(t,_m(e,i),a,u,h,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===at.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new mt(at.UNKNOWN,u.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class K2{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(t){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.na("Offline")))}set(t){this.sa(),this.Z_=0,t==="Online"&&(this.ea=!1),this.na(t)}na(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ra(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(hs(e),this.ea=!1):ct("OnlineStateTracker",e)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sr="RemoteStore";class W2{constructor(t,e,i,a,o){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=o,this.ca.vo(u=>{i.enqueueAndForget(async()=>{cr(this)&&(ct(sr,"Restarting streams for network reachability change."),await async function(f){const g=Rt(f);g.aa.add(4),await Cu(g),g.la.set("Unknown"),g.aa.delete(4),await bf(g)}(this))})}),this.la=new K2(i,a)}}async function bf(n){if(cr(n))for(const t of n.ua)await t(!0)}async function Cu(n){for(const t of n.ua)await t(!1)}function KT(n,t){const e=Rt(n);e._a.has(t.targetId)||(e._a.set(t.targetId,t),up(e)?lp(e):Mo(e).b_()&&op(e,t))}function rp(n,t){const e=Rt(n),i=Mo(e);e._a.delete(t),i.b_()&&WT(e,t),e._a.size===0&&(i.b_()?i.v_():cr(e)&&e.la.set("Unknown"))}function op(n,t){if(n.ha.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(xt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Mo(n).U_(t)}function WT(n,t){n.ha.Ke(t),Mo(n).K_(t)}function lp(n){n.ha=new qR({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>n._a.get(t)||null,Pt:()=>n.datastore.serializer.databaseId}),Mo(n).start(),n.la.ta()}function up(n){return cr(n)&&!Mo(n).w_()&&n._a.size>0}function cr(n){return Rt(n).aa.size===0}function $T(n){n.ha=void 0}async function $2(n){n.la.set("Online")}async function Z2(n){n._a.forEach((t,e)=>{op(n,t)})}async function J2(n,t){$T(n),up(n)?(n.la.ia(t),lp(n)):n.la.set("Unknown")}async function tD(n,t,e){if(n.la.set("Online"),t instanceof kT&&t.state===2&&t.cause)try{await async function(a,o){const u=o.cause;for(const h of o.targetIds)a._a.has(h)&&(await a.remoteSyncer.rejectListen(h,u),a._a.delete(h),a.ha.removeTarget(h))}(n,t)}catch(i){ct(sr,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await $h(n,i)}else if(t instanceof Rh?n.ha.Xe(t):t instanceof NT?n.ha.ot(t):n.ha.nt(t),!e.isEqual(xt.min()))try{const i=await YT(n.localStore);e.compareTo(i)>=0&&await function(o,u){const h=o.ha.It(u);return h.targetChanges.forEach((f,g)=>{if(f.resumeToken.approximateByteSize()>0){const y=o._a.get(g);y&&o._a.set(g,y.withResumeToken(f.resumeToken,u))}}),h.targetMismatches.forEach((f,g)=>{const y=o._a.get(f);if(!y)return;o._a.set(f,y.withResumeToken(Je.EMPTY_BYTE_STRING,y.snapshotVersion)),WT(o,f);const _=new js(y.target,f,g,y.sequenceNumber);op(o,_)}),o.remoteSyncer.applyRemoteEvent(h)}(n,e)}catch(i){ct(sr,"Failed to raise snapshot:",i),await $h(n,i)}}async function $h(n,t,e){if(!Do(t))throw t;n.aa.add(1),await Cu(n),n.la.set("Offline"),e||(e=()=>YT(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ct(sr,"Retrying IndexedDB access"),await e(),n.aa.delete(1),await bf(n)})}function ZT(n,t){return t().catch(e=>$h(n,e,t))}async function Ef(n){const t=Rt(n),e=sa(t);let i=t.oa.length>0?t.oa[t.oa.length-1].batchId:Qm;for(;eD(t);)try{const a=await P2(t.localStore,i);if(a===null){t.oa.length===0&&e.v_();break}i=a.batchId,nD(t,a)}catch(a){await $h(t,a)}JT(t)&&tS(t)}function eD(n){return cr(n)&&n.oa.length<10}function nD(n,t){n.oa.push(t);const e=sa(n);e.b_()&&e.W_&&e.G_(t.mutations)}function JT(n){return cr(n)&&!sa(n).w_()&&n.oa.length>0}function tS(n){sa(n).start()}async function iD(n){sa(n).H_()}async function sD(n){const t=sa(n);for(const e of n.oa)t.G_(e.mutations)}async function aD(n,t,e){const i=n.oa.shift(),a=Jm.from(i,t,e);await ZT(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await Ef(n)}async function rD(n,t){t&&sa(n).W_&&await async function(i,a){if(function(u){return jR(u)&&u!==at.ABORTED}(a.code)){const o=i.oa.shift();sa(i).D_(),await ZT(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,a)),await Ef(i)}}(n,t),JT(n)&&tS(n)}async function Wv(n,t){const e=Rt(n);e.asyncQueue.verifyOperationInProgress(),ct(sr,"RemoteStore received new credentials");const i=cr(e);e.aa.add(3),await Cu(e),i&&e.la.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.aa.delete(3),await bf(e)}async function oD(n,t){const e=Rt(n);t?(e.aa.delete(2),await bf(e)):t||(e.aa.add(2),await Cu(e),e.la.set("Unknown"))}function Mo(n){return n.Pa||(n.Pa=function(e,i,a){const o=Rt(e);return o.Y_(),new G2(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(n.datastore,n.asyncQueue,{jo:$2.bind(null,n),Jo:Z2.bind(null,n),Zo:J2.bind(null,n),Q_:tD.bind(null,n)}),n.ua.push(async t=>{t?(n.Pa.D_(),up(n)?lp(n):n.la.set("Unknown")):(await n.Pa.stop(),$T(n))})),n.Pa}function sa(n){return n.Ta||(n.Ta=function(e,i,a){const o=Rt(e);return o.Y_(),new Y2(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:iD.bind(null,n),Zo:rD.bind(null,n),z_:sD.bind(null,n),j_:aD.bind(null,n)}),n.ua.push(async t=>{t?(n.Ta.D_(),await Ef(n)):(await n.Ta.stop(),n.oa.length>0&&(ct(sr,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))})),n.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(t,e,i,a,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=a,this.removalCallback=o,this.deferred=new Ws,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,a,o){const u=Date.now()+i,h=new cp(t,e,u,a,o);return h.start(i),h}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new mt(at.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hp(n,t){if(hs("AsyncQueue",`${t}: ${n}`),Do(n))return new mt(at.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{static emptySet(t){return new ho(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||yt.comparator(e.key,i.key):(e,i)=>yt.comparator(e.key,i.key),this.keyedMap=Ql(),this.sortedSet=new ge(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof ho)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const a=e.getNext().key,o=i.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new ho;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(){this.Ia=new ge(yt.comparator)}track(t){const e=t.doc.key,i=this.Ia.get(e);i?t.type!==0&&i.type===3?this.Ia=this.Ia.insert(e,t):t.type===3&&i.type!==1?this.Ia=this.Ia.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.Ia=this.Ia.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.Ia=this.Ia.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.Ia=this.Ia.remove(e):t.type===1&&i.type===2?this.Ia=this.Ia.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.Ia=this.Ia.insert(e,{type:2,doc:t.doc}):Tt(63341,{Vt:t,Ea:i}):this.Ia=this.Ia.insert(e,t)}da(){const t=[];return this.Ia.inorderTraversal((e,i)=>{t.push(i)}),t}}class bo{constructor(t,e,i,a,o,u,h,f,g){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=g}static fromInitialDocuments(t,e,i,a,o){const u=[];return e.forEach(h=>{u.push({type:0,doc:h})}),new bo(t,e,ho.emptySet(e),u,i,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&gf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let a=0;a<e.length;a++)if(e[a].type!==i[a].type||!e[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(t=>t.ma())}}class uD{constructor(){this.queries=Zv(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(e,i){const a=Rt(e),o=a.queries;a.queries=Zv(),o.forEach((u,h)=>{for(const f of h.Ra)f.onError(i)})})(this,new mt(at.ABORTED,"Firestore shutting down"))}}function Zv(){return new lr(n=>bT(n),gf)}async function eS(n,t){const e=Rt(n);let i=3;const a=t.query;let o=e.queries.get(a);o?!o.Va()&&t.ma()&&(i=2):(o=new lD,i=t.ma()?0:1);try{switch(i){case 0:o.Aa=await e.onListen(a,!0);break;case 1:o.Aa=await e.onListen(a,!1);break;case 2:await e.onFirstRemoteStoreListen(a)}}catch(u){const h=hp(u,`Initialization of query '${oo(t.query)}' failed`);return void t.onError(h)}e.queries.set(a,o),o.Ra.push(t),t.ga(e.onlineState),o.Aa&&t.pa(o.Aa)&&fp(e)}async function nS(n,t){const e=Rt(n),i=t.query;let a=3;const o=e.queries.get(i);if(o){const u=o.Ra.indexOf(t);u>=0&&(o.Ra.splice(u,1),o.Ra.length===0?a=t.ma()?0:1:!o.Va()&&t.ma()&&(a=2))}switch(a){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function cD(n,t){const e=Rt(n);let i=!1;for(const a of t){const o=a.query,u=e.queries.get(o);if(u){for(const h of u.Ra)h.pa(a)&&(i=!0);u.Aa=a}}i&&fp(e)}function hD(n,t,e){const i=Rt(n),a=i.queries.get(t);if(a)for(const o of a.Ra)o.onError(e);i.queries.delete(t)}function fp(n){n.fa.forEach(t=>{t.next()})}var Sm,Jv;(Jv=Sm||(Sm={})).ya="default",Jv.Cache="cache";class iS{constructor(t,e,i){this.query=t,this.wa=e,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=i||{}}pa(t){if(!this.options.includeMetadataChanges){const i=[];for(const a of t.docChanges)a.type!==3&&i.push(a);t=new bo(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.ba?this.Da(t)&&(this.wa.next(t),e=!0):this.va(t,this.onlineState)&&(this.Ca(t),e=!0),this.Sa=t,e}onError(t){this.wa.error(t)}ga(t){this.onlineState=t;let e=!1;return this.Sa&&!this.ba&&this.va(this.Sa,t)&&(this.Ca(this.Sa),e=!0),e}va(t,e){if(!t.fromCache||!this.ma())return!0;const i=e!=="Offline";return(!this.options.Fa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Da(t){if(t.docChanges.length>0)return!0;const e=this.Sa&&this.Sa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}Ca(t){t=bo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ba=!0,this.wa.next(t)}ma(){return this.options.source!==Sm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(t){this.key=t}}class aS{constructor(t){this.key=t}}class fD{constructor(t,e){this.query=t,this.qa=e,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Pt(),this.mutatedKeys=Pt(),this.Ua=ET(t),this.Ka=new ho(this.Ua)}get Wa(){return this.qa}Ga(t,e){const i=e?e.za:new $v,a=e?e.Ka:this.Ka;let o=e?e.mutatedKeys:this.mutatedKeys,u=a,h=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal((y,_)=>{const b=a.get(y),S=mf(this.query,_)?_:null,x=!!b&&this.mutatedKeys.has(b.key),D=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let M=!1;b&&S?b.data.isEqual(S.data)?x!==D&&(i.track({type:3,doc:S}),M=!0):this.ja(b,S)||(i.track({type:2,doc:S}),M=!0,(f&&this.Ua(S,f)>0||g&&this.Ua(S,g)<0)&&(h=!0)):!b&&S?(i.track({type:0,doc:S}),M=!0):b&&!S&&(i.track({type:1,doc:b}),M=!0,(f||g)&&(h=!0)),M&&(S?(u=u.add(S),o=D?o.add(y):o.delete(y)):(u=u.delete(y),o=o.delete(y)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),o=o.delete(y.key),i.track({type:1,doc:y})}return{Ka:u,za:i,ys:h,mutatedKeys:o}}ja(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,a){const o=this.Ka;this.Ka=t.Ka,this.mutatedKeys=t.mutatedKeys;const u=t.za.da();u.sort((y,_)=>function(S,x){const D=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt(20277,{Vt:M})}};return D(S)-D(x)}(y.type,_.type)||this.Ua(y.doc,_.doc)),this.Ha(i),a=a!=null&&a;const h=e&&!a?this.Ja():[],f=this.$a.size===0&&this.current&&!a?1:0,g=f!==this.Qa;return this.Qa=f,u.length!==0||g?{snapshot:new bo(this.query,t.Ka,o,u,t.mutatedKeys,f===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ya:h}:{Ya:h}}ga(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new $v,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(t){return!this.qa.has(t)&&!!this.Ka.has(t)&&!this.Ka.get(t).hasLocalMutations}Ha(t){t&&(t.addedDocuments.forEach(e=>this.qa=this.qa.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.qa=this.qa.delete(e)),this.current=t.current)}Ja(){if(!this.current)return[];const t=this.$a;this.$a=Pt(),this.Ka.forEach(i=>{this.Za(i.key)&&(this.$a=this.$a.add(i.key))});const e=[];return t.forEach(i=>{this.$a.has(i)||e.push(new aS(i))}),this.$a.forEach(i=>{t.has(i)||e.push(new sS(i))}),e}Xa(t){this.qa=t.Ns,this.$a=Pt();const e=this.Ga(t.documents);return this.applyChanges(e,!0)}eu(){return bo.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const dp="SyncEngine";class dD{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class gD{constructor(t){this.key=t,this.tu=!1}}class mD{constructor(t,e,i,a,o,u){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.nu={},this.ru=new lr(h=>bT(h),gf),this.iu=new Map,this.su=new Set,this.ou=new ge(yt.comparator),this._u=new Map,this.au=new np,this.uu={},this.cu=new Map,this.lu=vo.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function pD(n,t,e=!0){const i=hS(n);let a;const o=i.ru.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.eu()):a=await rS(i,t,e,!0),a}async function yD(n,t){const e=hS(n);await rS(e,t,!0,!1)}async function rS(n,t,e,i){const a=await L2(n.localStore,Ai(t)),o=a.targetId,u=n.sharedClientState.addLocalQueryTarget(o,e);let h;return i&&(h=await _D(n,t,o,u==="current",a.resumeToken)),n.isPrimaryClient&&e&&KT(n.remoteStore,a),h}async function _D(n,t,e,i,a){n.Pu=(_,b,S)=>async function(D,M,z,H){let K=M.view.Ga(z);K.ys&&(K=await Gv(D.localStore,M.query,!1).then(({documents:O})=>M.view.Ga(O,K)));const $=H&&H.targetChanges.get(M.targetId),G=H&&H.targetMismatches.get(M.targetId)!=null,nt=M.view.applyChanges(K,D.isPrimaryClient,$,G);return eb(D,M.targetId,nt.Ya),nt.snapshot}(n,_,b,S);const o=await Gv(n.localStore,t,!0),u=new fD(t,o.Ns),h=u.Ga(o.documents),f=Mu.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",a),g=u.applyChanges(h,n.isPrimaryClient,f);eb(n,e,g.Ya);const y=new dD(t,e,u);return n.ru.set(t,y),n.iu.has(e)?n.iu.get(e).push(t):n.iu.set(e,[t]),g.snapshot}async function vD(n,t,e){const i=Rt(n),a=i.ru.get(t),o=i.iu.get(a.targetId);if(o.length>1)return i.iu.set(a.targetId,o.filter(u=>!gf(u,t))),void i.ru.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await Em(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),e&&rp(i.remoteStore,a.targetId),Am(i,a.targetId)}).catch(Ro)):(Am(i,a.targetId),await Em(i.localStore,a.targetId,!0))}async function bD(n,t){const e=Rt(n),i=e.ru.get(t),a=e.iu.get(i.targetId);e.isPrimaryClient&&a.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),rp(e.remoteStore,i.targetId))}async function ED(n,t,e){const i=DD(n);try{const a=await function(u,h){const f=Rt(u),g=Pe.now(),y=h.reduce((S,x)=>S.add(x.key),Pt());let _,b;return f.persistence.runTransaction("Locally write mutations","readwrite",S=>{let x=fs(),D=Pt();return f.Cs.getEntries(S,y).next(M=>{x=M,x.forEach((z,H)=>{H.isValidDocument()||(D=D.add(z))})}).next(()=>f.localDocuments.getOverlayedDocuments(S,x)).next(M=>{_=M;const z=[];for(const H of h){const K=LR(H,_.get(H.key).overlayedDocument);K!=null&&z.push(new ur(H.key,K,dT(K.value.mapValue),us.exists(!0)))}return f.mutationQueue.addMutationBatch(S,g,z,h)}).next(M=>{b=M;const z=M.applyToLocalDocumentSet(_,D);return f.documentOverlayCache.saveOverlays(S,M.batchId,z)})}).then(()=>({batchId:b.batchId,changes:ST(_)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(a.batchId),function(u,h,f){let g=u.uu[u.currentUser.toKey()];g||(g=new ge(Ot)),g=g.insert(h,f),u.uu[u.currentUser.toKey()]=g}(i,a.batchId,e),await Ou(i,a.changes),await Ef(i.remoteStore)}catch(a){const o=hp(a,"Failed to persist write");e.reject(o)}}async function oS(n,t){const e=Rt(n);try{const i=await N2(e.localStore,t);t.targetChanges.forEach((a,o)=>{const u=e._u.get(o);u&&(Qt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.tu=!0:a.modifiedDocuments.size>0?Qt(u.tu,14607):a.removedDocuments.size>0&&(Qt(u.tu,42227),u.tu=!1))}),await Ou(e,i,t)}catch(i){await Ro(i)}}function tb(n,t,e){const i=Rt(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const a=[];i.ru.forEach((o,u)=>{const h=u.view.ga(t);h.snapshot&&a.push(h.snapshot)}),function(u,h){const f=Rt(u);f.onlineState=h;let g=!1;f.queries.forEach((y,_)=>{for(const b of _.Ra)b.ga(h)&&(g=!0)}),g&&fp(f)}(i.eventManager,t),a.length&&i.nu.Q_(a),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function TD(n,t,e){const i=Rt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const a=i._u.get(t),o=a&&a.key;if(o){let u=new ge(yt.comparator);u=u.insert(o,on.newNoDocument(o,xt.min()));const h=Pt().add(o),f=new _f(xt.min(),new Map,new ge(Ot),u,h);await oS(i,f),i.ou=i.ou.remove(o),i._u.delete(t),gp(i)}else await Em(i.localStore,t,!1).then(()=>Am(i,t,e)).catch(Ro)}async function SD(n,t){const e=Rt(n),i=t.batch.batchId;try{const a=await V2(e.localStore,t);uS(e,i,null),lS(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await Ou(e,a)}catch(a){await Ro(a)}}async function AD(n,t,e){const i=Rt(n);try{const a=await function(u,h){const f=Rt(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let y;return f.mutationQueue.lookupMutationBatch(g,h).next(_=>(Qt(_!==null,37113),y=_.keys(),f.mutationQueue.removeMutationBatch(g,_))).next(()=>f.mutationQueue.performConsistencyCheck(g)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(g,y,h)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y)).next(()=>f.localDocuments.getDocuments(g,y))})}(i.localStore,t);uS(i,t,e),lS(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await Ou(i,a)}catch(a){await Ro(a)}}function lS(n,t){(n.cu.get(t)||[]).forEach(e=>{e.resolve()}),n.cu.delete(t)}function uS(n,t,e){const i=Rt(n);let a=i.uu[i.currentUser.toKey()];if(a){const o=a.get(t);o&&(e?o.reject(e):o.resolve(),a=a.remove(t)),i.uu[i.currentUser.toKey()]=a}}function Am(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.iu.get(t))n.ru.delete(i),e&&n.nu.Tu(i,e);n.iu.delete(t),n.isPrimaryClient&&n.au.Ur(t).forEach(i=>{n.au.containsKey(i)||cS(n,i)})}function cS(n,t){n.su.delete(t.path.canonicalString());const e=n.ou.get(t);e!==null&&(rp(n.remoteStore,e),n.ou=n.ou.remove(t),n._u.delete(e),gp(n))}function eb(n,t,e){for(const i of e)i instanceof sS?(n.au.addReference(i.key,t),xD(n,i)):i instanceof aS?(ct(dp,"Document no longer in limbo: "+i.key),n.au.removeReference(i.key,t),n.au.containsKey(i.key)||cS(n,i.key)):Tt(19791,{Iu:i})}function xD(n,t){const e=t.key,i=e.path.canonicalString();n.ou.get(e)||n.su.has(i)||(ct(dp,"New document in limbo: "+e),n.su.add(i),gp(n))}function gp(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){const t=n.su.values().next().value;n.su.delete(t);const e=new yt(ce.fromString(t)),i=n.lu.next();n._u.set(i,new gD(e)),n.ou=n.ou.insert(e,i),KT(n.remoteStore,new js(Ai(df(e.path)),i,"TargetPurposeLimboResolution",uf.le))}}async function Ou(n,t,e){const i=Rt(n),a=[],o=[],u=[];i.ru.isEmpty()||(i.ru.forEach((h,f)=>{u.push(i.Pu(f,t,e).then(g=>{var y;if((g||e)&&i.isPrimaryClient){const _=g?!g.fromCache:(y=e==null?void 0:e.targetChanges.get(f.targetId))===null||y===void 0?void 0:y.current;i.sharedClientState.updateQueryState(f.targetId,_?"current":"not-current")}if(g){a.push(g);const _=sp.Ps(f.targetId,g);o.push(_)}}))}),await Promise.all(u),i.nu.Q_(a),await async function(f,g){const y=Rt(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>et.forEach(g,b=>et.forEach(b.ls,S=>y.persistence.referenceDelegate.addReference(_,b.targetId,S)).next(()=>et.forEach(b.hs,S=>y.persistence.referenceDelegate.removeReference(_,b.targetId,S)))))}catch(_){if(!Do(_))throw _;ct(ap,"Failed to update sequence numbers: "+_)}for(const _ of g){const b=_.targetId;if(!_.fromCache){const S=y.Ss.get(b),x=S.snapshotVersion,D=S.withLastLimboFreeSnapshotVersion(x);y.Ss=y.Ss.insert(b,D)}}}(i.localStore,o))}async function wD(n,t){const e=Rt(n);if(!e.currentUser.isEqual(t)){ct(dp,"User change. New user:",t.toKey());const i=await GT(e.localStore,t);e.currentUser=t,function(o,u){o.cu.forEach(h=>{h.forEach(f=>{f.reject(new mt(at.CANCELLED,u))})}),o.cu.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await Ou(e,i.Ms)}}function RD(n,t){const e=Rt(n),i=e._u.get(t);if(i&&i.tu)return Pt().add(i.key);{let a=Pt();const o=e.iu.get(t);if(!o)return a;for(const u of o){const h=e.ru.get(u);a=a.unionWith(h.view.Wa)}return a}}function hS(n){const t=Rt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=oS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=RD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=TD.bind(null,t),t.nu.Q_=cD.bind(null,t.eventManager),t.nu.Tu=hD.bind(null,t.eventManager),t}function DD(n){const t=Rt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=SD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=AD.bind(null,t),t}class Zh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=vf(t.databaseInfo.databaseId),this.sharedClientState=this.Au(t),this.persistence=this.Ru(t),await this.persistence.start(),this.localStore=this.Vu(t),this.gcScheduler=this.mu(t,this.localStore),this.indexBackfillerScheduler=this.fu(t,this.localStore)}mu(t,e){return null}fu(t,e){return null}Vu(t){return I2(this.persistence,new M2,t.initialUser,this.serializer)}Ru(t){return new qT(ip.Ei,this.serializer)}Au(t){return new B2}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zh.provider={build:()=>new Zh};class MD extends Zh{constructor(t){super(),this.cacheSizeBytes=t}mu(t,e){Qt(this.persistence.referenceDelegate instanceof Wh,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new g2(i,t.asyncQueue,e)}Ru(t){const e=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new qT(i=>Wh.Ei(i,e),this.serializer)}}class xm{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>tb(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=wD.bind(null,this.syncEngine),await oD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new uD}()}createDatastore(t){const e=vf(t.databaseInfo.databaseId),i=function(o){return new q2(o)}(t.databaseInfo);return function(o,u,h,f){return new X2(o,u,h,f)}(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return function(i,a,o,u,h){return new W2(i,a,o,u,h)}(this.localStore,this.datastore,t.asyncQueue,e=>tb(this.syncEngine,e,0),function(){return Xv.C()?new Xv:new U2}())}createSyncEngine(t,e){return function(a,o,u,h,f,g,y){const _=new mD(a,o,u,h,f,g);return y&&(_.hu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(a){const o=Rt(a);ct(sr,"RemoteStore shutting down."),o.aa.add(5),await Cu(o),o.ca.shutdown(),o.la.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}xm.provider={build:()=>new xm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.pu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.pu(this.observer.error,t):hs("Uncaught Error in snapshot listener:",t.toString()))}yu(){this.muted=!0}pu(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa="FirestoreClient";class CD{constructor(t,e,i,a,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=a,this.user=rn.UNAUTHENTICATED,this.clientId=iT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,async u=>{ct(aa,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(i,u=>(ct(aa,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ws;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=hp(e,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function Fg(n,t){n.asyncQueue.verifyOperationInProgress(),ct(aa,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(async a=>{i.isEqual(a)||(await GT(t.localStore,a),i=a)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}async function nb(n,t){n.asyncQueue.verifyOperationInProgress();const e=await OD(n);ct(aa,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener(i=>Wv(t.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>Wv(t.remoteStore,a)),n._onlineComponents=t}async function OD(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ct(aa,"Using user provided OfflineComponentProvider");try{await Fg(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(a){return a.name==="FirebaseError"?a.code===at.FAILED_PRECONDITION||a.code===at.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(e))throw e;mo("Error using user provided cache. Falling back to memory cache: "+e),await Fg(n,new Zh)}}else ct(aa,"Using default OfflineComponentProvider"),await Fg(n,new MD(void 0));return n._offlineComponents}async function dS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ct(aa,"Using user provided OnlineComponentProvider"),await nb(n,n._uninitializedComponentsProvider._online)):(ct(aa,"Using default OnlineComponentProvider"),await nb(n,new xm))),n._onlineComponents}function ID(n){return dS(n).then(t=>t.syncEngine)}async function wm(n){const t=await dS(n),e=t.eventManager;return e.onListen=pD.bind(null,t.syncEngine),e.onUnlisten=vD.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=yD.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=bD.bind(null,t.syncEngine),e}function VD(n,t,e={}){const i=new Ws;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,h,f,g){const y=new fS({next:b=>{y.yu(),u.enqueueAndForget(()=>nS(o,_));const S=b.docs.has(h);!S&&b.fromCache?g.reject(new mt(at.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&b.fromCache&&f&&f.source==="server"?g.reject(new mt(at.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(b)},error:b=>g.reject(b)}),_=new iS(df(h.path),y,{includeMetadataChanges:!0,Fa:!0});return eS(o,_)}(await wm(n),n.asyncQueue,t,e,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(n,t,e){if(!e)throw new mt(at.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function ND(n,t,e,i){if(t===!0&&i===!0)throw new mt(at.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function sb(n){if(!yt.isDocumentKey(n))throw new mt(at.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ab(n){if(yt.isDocumentKey(n))throw new mt(at.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function mp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Tt(12329,{type:typeof n})}function $s(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new mt(at.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=mp(n);throw new mt(at.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS="firestore.googleapis.com",rb=!0;class ob{constructor(t){var e,i;if(t.host===void 0){if(t.ssl!==void 0)throw new mt(at.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=pS,this.ssl=rb}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:rb;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=FT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<f2)throw new mt(at.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}ND("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gS((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new mt(at.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new mt(at.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new mt(at.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Tf{constructor(t,e,i,a){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ob({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new mt(at.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new mt(at.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ob(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new jw;switch(i.type){case"firstParty":return new Yw(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new mt(at.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=ib.get(e);i&&(ct("ComponentProvider","Removing Datastore"),ib.delete(e),i.terminate())}(this),Promise.resolve()}}function kD(n,t,e,i={}){var a;const o=(n=$s(n,Tf))._getSettings(),u=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),h=`${t}:${e}`;o.host!==pS&&o.host!==h&&mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},o),{host:h,ssl:!1,emulatorOptions:i});if(!Bh(f,u)&&(n._setSettings(f),i.mockUserToken)){let g,y;if(typeof i.mockUserToken=="string")g=i.mockUserToken,y=rn.MOCK_USER;else{g=E1(i.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new mt(at.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new rn(_)}n._authCredentials=new Fw(new eT(g,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Sf(this.firestore,t,this._query)}}class bn{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new bn(this.firestore,t,this._key)}}class Zs extends Sf{constructor(t,e,i){super(t,e,df(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new bn(this.firestore,null,new yt(t))}withConverter(t){return new Zs(this.firestore,t,this._path)}}function lb(n,t,...e){if(n=go(n),mS("collection","path",t),n instanceof Tf){const i=ce.fromString(t,...e);return ab(i),new Zs(n,null,i)}{if(!(n instanceof bn||n instanceof Zs))throw new mt(at.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ce.fromString(t,...e));return ab(i),new Zs(n.firestore,null,i)}}function qg(n,t,...e){if(n=go(n),arguments.length===1&&(t=iT.newId()),mS("doc","path",t),n instanceof Tf){const i=ce.fromString(t,...e);return sb(i),new bn(n,null,new yt(i))}{if(!(n instanceof bn||n instanceof Zs))throw new mt(at.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ce.fromString(t,...e));return sb(i),new bn(n.firestore,n instanceof Zs?n.converter:null,new yt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub="AsyncQueue";class cb{constructor(t=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new QT(this,"async_queue_retry"),this.ju=()=>{const i=jg();i&&ct(ub,"Visibility state changed to "+i.visibilityState),this.y_.A_()},this.Hu=t;const e=jg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Ju(),this.Yu(t)}enterRestrictedMode(t){if(!this.$u){this.$u=!0,this.Gu=t||!1;const e=jg();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.ju)}}enqueue(t){if(this.Ju(),this.$u)return new Promise(()=>{});const e=new Ws;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qu.push(t),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(t){if(!Do(t))throw t;ct(ub,"Operation failed with retryable error: "+t)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(t){const e=this.Hu.then(()=>(this.Wu=!0,t().catch(i=>{throw this.Ku=i,this.Wu=!1,hs("INTERNAL UNHANDLED ERROR: ",hb(i)),i}).then(i=>(this.Wu=!1,i))));return this.Hu=e,e}enqueueAfterDelay(t,e,i){this.Ju(),this.zu.indexOf(t)>-1&&(e=0);const a=cp.createAndSchedule(this,t,e,i,o=>this.Xu(o));return this.Uu.push(a),a}Ju(){this.Ku&&Tt(47125,{ec:hb(this.Ku)})}verifyOperationInProgress(){}async tc(){let t;do t=this.Hu,await t;while(t!==this.Hu)}nc(t){for(const e of this.Uu)if(e.timerId===t)return!0;return!1}rc(t){return this.tc().then(()=>{this.Uu.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Uu)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.tc()})}sc(t){this.zu.push(t)}Xu(t){const e=this.Uu.indexOf(t);this.Uu.splice(e,1)}}function hb(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fb(n){return function(e,i){if(typeof e!="object"||e===null)return!1;const a=e;for(const o of i)if(o in a&&typeof a[o]=="function")return!0;return!1}(n,["next","error","complete"])}class vu extends Tf{constructor(t,e,i,a){super(t,e,i,a),this.type="firestore",this._queue=new cb,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new cb(t),this._firestoreClient=void 0,await t}}}function PD(n,t){const e=typeof n=="object"?n:Ow(),i=typeof n=="string"?n:Fh,a=ww(e,"firestore").getImmediate({identifier:i});if(!a._initialized){const o=v1("firestore");o&&kD(a,...o)}return a}function pp(n){if(n._terminated)throw new mt(at.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||LD(n),n._firestoreClient}function LD(n){var t,e,i;const a=n._freezeSettings(),o=function(h,f,g,y){return new oR(h,f,g,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,gS(y.experimentalLongPollingOptions),y.useFetchStreams)}(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((e=a.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new CD(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Eo(Je.fromBase64String(t))}catch(e){throw new mt(at.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Eo(Je.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new mt(at.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ze(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new mt(at.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new mt(at.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ot(this._lat,t._lat)||Ot(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,a){if(i.length!==a.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==a[o])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD=/^__.*__$/;class BD{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new ur(t,this.data,this.fieldMask,e,this.fieldTransforms):new Du(t,this.data,e,this.fieldTransforms)}}function _S(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt(40011,{oc:n})}}class bp{constructor(t,e,i,a,o,u){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=a,o===void 0&&this._c(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(t){return new bp(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),a=this.ac({path:i,cc:!1});return a.lc(t),a}hc(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),a=this.ac({path:i,cc:!1});return a._c(),a}Pc(t){return this.ac({path:void 0,cc:!0})}Tc(t){return Jh(t,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}_c(){if(this.path)for(let t=0;t<this.path.length;t++)this.lc(this.path.get(t))}lc(t){if(t.length===0)throw this.Tc("Document fields must not be empty");if(_S(this.oc)&&zD.test(t))throw this.Tc('Document fields cannot begin and end with "__"')}}class UD{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||vf(t)}dc(t,e,i,a=!1){return new bp({oc:t,methodName:e,Ec:i,path:Ze.emptyPath(),cc:!1,Ic:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function HD(n){const t=n._freezeSettings(),e=vf(n._databaseId);return new UD(n._databaseId,!!t.ignoreUndefinedProperties,e)}function jD(n,t,e,i,a,o={}){const u=n.dc(o.merge||o.mergeFields?2:0,t,e,a);TS("Data must be an object, but it was:",u,i);const h=bS(i,u);let f,g;if(o.merge)f=new ti(u.fieldMask),g=u.fieldTransforms;else if(o.mergeFields){const y=[];for(const _ of o.mergeFields){const b=FD(t,_,e);if(!u.contains(b))throw new mt(at.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);GD(y,b)||y.push(b)}f=new ti(y),g=u.fieldTransforms.filter(_=>f.covers(_.field))}else f=null,g=u.fieldTransforms;return new BD(new Yn(h),f,g)}function vS(n,t){if(ES(n=go(n)))return TS("Unsupported field value:",t,n),bS(n,t);if(n instanceof yS)return function(i,a){if(!_S(a.oc))throw a.Tc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Tc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(a);o&&a.fieldTransforms.push(o)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.cc&&t.oc!==4)throw t.Tc("Nested arrays are not supported");return function(i,a){const o=[];let u=0;for(const h of i){let f=vS(h,a.Pc(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}}(n,t)}return function(i,a){if((i=go(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return OR(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=Pe.fromDate(i);return{timestampValue:Kh(a.serializer,o)}}if(i instanceof Pe){const o=new Pe(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Kh(a.serializer,o)}}if(i instanceof _p)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Eo)return{bytesValue:PT(a.serializer,i._byteString)};if(i instanceof bn){const o=a.databaseId,u=i.firestore._databaseId;if(!u.isEqual(o))throw a.Tc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:ep(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof vp)return function(u,h){return{mapValue:{fields:{[hT]:{stringValue:fT},[qh]:{arrayValue:{values:u.toArray().map(g=>{if(typeof g!="number")throw h.Tc("VectorValues must only contain numeric values.");return Zm(h.serializer,g)})}}}}}}(i,a);throw a.Tc(`Unsupported field value: ${mp(i)}`)}(n,t)}function bS(n,t){const e={};return aT(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):or(n,(i,a)=>{const o=vS(a,t.uc(i));o!=null&&(e[i]=o)}),{mapValue:{fields:e}}}function ES(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Pe||n instanceof _p||n instanceof Eo||n instanceof bn||n instanceof yS||n instanceof vp)}function TS(n,t,e){if(!ES(e)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(e)){const i=mp(e);throw i==="an object"?t.Tc(n+" a custom object"):t.Tc(n+" "+i)}}function FD(n,t,e){if((t=go(t))instanceof yp)return t._internalPath;if(typeof t=="string")return SS(n,t);throw Jh("Field path arguments must be of type string or ",n,!1,void 0,e)}const qD=new RegExp("[~\\*/\\[\\]]");function SS(n,t,e){if(t.search(qD)>=0)throw Jh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new yp(...t.split("."))._internalPath}catch{throw Jh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Jh(n,t,e,i,a){const o=i&&!i.isEmpty(),u=a!==void 0;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||u)&&(f+=" (found",o&&(f+=` in field ${i}`),u&&(f+=` in document ${a}`),f+=")"),new mt(at.INVALID_ARGUMENT,h+n+f)}function GD(n,t){return n.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(t,e,i,a,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new bn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new YD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(xS("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class YD extends AS{data(){return super.data()}}function xS(n,t){return typeof t=="string"?SS(n,t):t instanceof yp?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QD(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new mt(at.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class XD{convertValue(t,e="none"){switch(ia(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Te(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(na(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Tt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return or(t,(a,o)=>{i[a]=this.convertValue(o,e)}),i}convertVectorValue(t){var e,i,a;const o=(a=(i=(e=t.fields)===null||e===void 0?void 0:e[qh].arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map(u=>Te(u.doubleValue));return new vp(o)}convertGeoPoint(t){return new _p(Te(t.latitude),Te(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=hf(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(gu(t));default:return null}}convertTimestamp(t){const e=ea(t);return new Pe(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=ce.fromString(t);Qt(jT(i),9688,{name:t});const a=new mu(i.get(1),i.get(3)),o=new yt(i.popFirst(5));return a.isEqual(e)||hs(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KD(n,t,e){let i;return i=n?n.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class wS extends AS{constructor(t,e,i,a,o,u){super(t,e,i,a,u),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Dh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(xS("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class Dh extends wS{data(t={}){return super.data(t)}}class WD{constructor(t,e,i,a){this._firestore=t,this._userDataWriter=e,this._snapshot=a,this.metadata=new Kl(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new Dh(this._firestore,this._userDataWriter,i.key,i,new Kl(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new mt(at.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(a,o){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map(h=>{const f=new Dh(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Kl(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(h=>o||h.type!==3).map(h=>{const f=new Dh(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Kl(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,y=-1;return h.type!==0&&(g=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),y=u.indexOf(h.doc.key)),{type:$D(h.type),doc:f,oldIndex:g,newIndex:y}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function $D(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(n){n=$s(n,bn);const t=$s(n.firestore,vu);return VD(pp(t),n._key).then(e=>DS(t,n,e))}class RS extends XD{constructor(t){super(),this.firestore=t}convertBytes(t){return new Eo(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new bn(this.firestore,null,e)}}function Gg(n,t,e){n=$s(n,bn);const i=$s(n.firestore,vu),a=KD(n.converter,t);return JD(i,[jD(HD(i),"setDoc",n._key,a,n.converter!==null,e).toMutation(n._key,us.none())])}function db(n,...t){var e,i,a;n=go(n);let o={includeMetadataChanges:!1,source:"default"},u=0;typeof t[u]!="object"||fb(t[u])||(o=t[u],u++);const h={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(fb(t[u])){const _=t[u];t[u]=(e=_.next)===null||e===void 0?void 0:e.bind(_),t[u+1]=(i=_.error)===null||i===void 0?void 0:i.bind(_),t[u+2]=(a=_.complete)===null||a===void 0?void 0:a.bind(_)}let f,g,y;if(n instanceof bn)g=$s(n.firestore,vu),y=df(n._key.path),f={next:_=>{t[u]&&t[u](DS(g,n,_))},error:t[u+1],complete:t[u+2]};else{const _=$s(n,Sf);g=$s(_.firestore,vu),y=_._query;const b=new RS(g);f={next:S=>{t[u]&&t[u](new WD(g,b,_,S))},error:t[u+1],complete:t[u+2]},QD(n._query)}return function(b,S,x,D){const M=new fS(D),z=new iS(S,M,x);return b.asyncQueue.enqueueAndForget(async()=>eS(await wm(b),z)),()=>{M.yu(),b.asyncQueue.enqueueAndForget(async()=>nS(await wm(b),z))}}(pp(g),y,h,f)}function JD(n,t){return function(i,a){const o=new Ws;return i.asyncQueue.enqueueAndForget(async()=>ED(await ID(i),a,o)),o.promise}(pp(n),t)}function DS(n,t,e){const i=e.docs.get(t._key),a=new RS(n);return new wS(n,a,t._key,i,new Kl(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(a){wo=a})(Cw),Hh(new hu("firestore",(i,{instanceIdentifier:a,options:o})=>{const u=i.getProvider("app").getImmediate(),h=new vu(new qw(i.getProvider("auth-internal")),new Qw(u,i.getProvider("app-check-internal")),function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new mt(at.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mu(g.options.projectId,y)}(u,a),u);return o=Object.assign({useFetchStreams:e},o),h._setSettings(o),h},"PUBLIC").setMultipleInstances(!0)),co(mv,pv,t),co(mv,pv,"esm2017")})();var tM="firebase",eM="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */co(tM,eM,"app");const nM={apiKey:"AIzaSyCUnzHX_8NgKjeiIxJzIRGX16ZI-8JrnMI",authDomain:"padel-723fa.firebaseapp.com",projectId:"padel-723fa",storageBucket:"padel-723fa.firebasestorage.app",messagingSenderId:"378292715014",appId:"1:378292715014:web:9dfa47c2d8499063d54d87",measurementId:"G-7S25JLKYK7"},iM=GE(nM),Ul=PD(iM),sM=({addRating:n,selectedPlayer:t,setSelectedPlayer:e,players:i})=>{const[a,o]=Jn.useState(1),[u,h]=Jn.useState(new Date().toISOString().split("T")[0]),f=g=>{if(g.preventDefault(),!t){alert("Please select a player.");return}if(!u){alert("Please select a date.");return}n({player:t,date:u,rating:parseInt(a)}),o(1),h(new Date().toISOString().split("T")[0])};return bt.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md mb-6",children:[bt.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Log Practice"}),bt.jsxs("div",{className:"flex flex-col space-y-4 sm:flex-row sm:space-y-0 sm:space-x-4",children:[bt.jsxs("div",{className:"flex items-center space-x-4",children:[bt.jsx("label",{className:"font-medium",children:"Player:"}),bt.jsxs("select",{value:t,onChange:g=>e(g.target.value),className:"border rounded p-2 w-full sm:w-auto",children:[bt.jsx("option",{value:"",children:"Select Player"}),i.map(g=>bt.jsx("option",{value:g,children:g},g))]})]}),bt.jsxs("div",{className:"flex items-center space-x-4",children:[bt.jsx("label",{className:"font-medium",children:"Date:"}),bt.jsx("input",{type:"date",value:u,onChange:g=>h(g.target.value),className:"border rounded p-2 w-full sm:w-auto"})]})]}),bt.jsxs("div",{className:"flex flex-col space-y-4 sm:flex-row sm:space-y-0 sm:space-x-4 mt-4",children:[bt.jsxs("div",{className:"flex items-center space-x-4",children:[bt.jsx("label",{className:"font-medium",children:"Rating (1-5):"}),bt.jsx("select",{value:a,onChange:g=>o(g.target.value),className:"border rounded p-2 w-full sm:w-auto",children:[1,2,3,4,5].map(g=>bt.jsx("option",{value:g,children:g},g))})]}),bt.jsx("button",{onClick:f,className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 w-full sm:w-auto",children:"Submit"})]})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Iu(n){return n+.5|0}const Fs=(n,t,e)=>Math.max(Math.min(n,e),t);function Wl(n){return Fs(Iu(n*2.55),0,255)}function Js(n){return Fs(Iu(n*255),0,255)}function ss(n){return Fs(Iu(n/2.55)/100,0,1)}function gb(n){return Fs(Iu(n*100),0,100)}const Gn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Rm=[..."0123456789ABCDEF"],aM=n=>Rm[n&15],rM=n=>Rm[(n&240)>>4]+Rm[n&15],uh=n=>(n&240)>>4===(n&15),oM=n=>uh(n.r)&&uh(n.g)&&uh(n.b)&&uh(n.a);function lM(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&Gn[n[1]]*17,g:255&Gn[n[2]]*17,b:255&Gn[n[3]]*17,a:t===5?Gn[n[4]]*17:255}:(t===7||t===9)&&(e={r:Gn[n[1]]<<4|Gn[n[2]],g:Gn[n[3]]<<4|Gn[n[4]],b:Gn[n[5]]<<4|Gn[n[6]],a:t===9?Gn[n[7]]<<4|Gn[n[8]]:255})),e}const uM=(n,t)=>n<255?t(n):"";function cM(n){var t=oM(n)?aM:rM;return n?"#"+t(n.r)+t(n.g)+t(n.b)+uM(n.a,t):void 0}const hM=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function MS(n,t,e){const i=t*Math.min(e,1-e),a=(o,u=(o+n/30)%12)=>e-i*Math.max(Math.min(u-3,9-u,1),-1);return[a(0),a(8),a(4)]}function fM(n,t,e){const i=(a,o=(a+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function dM(n,t,e){const i=MS(n,1,.5);let a;for(t+e>1&&(a=1/(t+e),t*=a,e*=a),a=0;a<3;a++)i[a]*=1-t-e,i[a]+=t;return i}function gM(n,t,e,i,a){return n===a?(t-e)/i+(t<e?6:0):t===a?(e-n)/i+2:(n-t)/i+4}function Ep(n){const e=n.r/255,i=n.g/255,a=n.b/255,o=Math.max(e,i,a),u=Math.min(e,i,a),h=(o+u)/2;let f,g,y;return o!==u&&(y=o-u,g=h>.5?y/(2-o-u):y/(o+u),f=gM(e,i,a,y,o),f=f*60+.5),[f|0,g||0,h]}function Tp(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(Js)}function Sp(n,t,e){return Tp(MS,n,t,e)}function mM(n,t,e){return Tp(dM,n,t,e)}function pM(n,t,e){return Tp(fM,n,t,e)}function CS(n){return(n%360+360)%360}function yM(n){const t=hM.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?Wl(+t[5]):Js(+t[5]));const a=CS(+t[2]),o=+t[3]/100,u=+t[4]/100;return t[1]==="hwb"?i=mM(a,o,u):t[1]==="hsv"?i=pM(a,o,u):i=Sp(a,o,u),{r:i[0],g:i[1],b:i[2],a:e}}function _M(n,t){var e=Ep(n);e[0]=CS(e[0]+t),e=Sp(e),n.r=e[0],n.g=e[1],n.b=e[2]}function vM(n){if(!n)return;const t=Ep(n),e=t[0],i=gb(t[1]),a=gb(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${a}%, ${ss(n.a)})`:`hsl(${e}, ${i}%, ${a}%)`}const mb={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},pb={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function bM(){const n={},t=Object.keys(pb),e=Object.keys(mb);let i,a,o,u,h;for(i=0;i<t.length;i++){for(u=h=t[i],a=0;a<e.length;a++)o=e[a],h=h.replace(o,mb[o]);o=parseInt(pb[u],16),n[h]=[o>>16&255,o>>8&255,o&255]}return n}let ch;function EM(n){ch||(ch=bM(),ch.transparent=[0,0,0,0]);const t=ch[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const TM=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function SM(n){const t=TM.exec(n);let e=255,i,a,o;if(t){if(t[7]!==i){const u=+t[7];e=t[8]?Wl(u):Fs(u*255,0,255)}return i=+t[1],a=+t[3],o=+t[5],i=255&(t[2]?Wl(i):Fs(i,0,255)),a=255&(t[4]?Wl(a):Fs(a,0,255)),o=255&(t[6]?Wl(o):Fs(o,0,255)),{r:i,g:a,b:o,a:e}}}function AM(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${ss(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Yg=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,so=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function xM(n,t,e){const i=so(ss(n.r)),a=so(ss(n.g)),o=so(ss(n.b));return{r:Js(Yg(i+e*(so(ss(t.r))-i))),g:Js(Yg(a+e*(so(ss(t.g))-a))),b:Js(Yg(o+e*(so(ss(t.b))-o))),a:n.a+e*(t.a-n.a)}}function hh(n,t,e){if(n){let i=Ep(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=Sp(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function OS(n,t){return n&&Object.assign(t||{},n)}function yb(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=Js(n[3]))):(t=OS(n,{r:0,g:0,b:0,a:1}),t.a=Js(t.a)),t}function wM(n){return n.charAt(0)==="r"?SM(n):yM(n)}class bu{constructor(t){if(t instanceof bu)return t;const e=typeof t;let i;e==="object"?i=yb(t):e==="string"&&(i=lM(t)||EM(t)||wM(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=OS(this._rgb);return t&&(t.a=ss(t.a)),t}set rgb(t){this._rgb=yb(t)}rgbString(){return this._valid?AM(this._rgb):void 0}hexString(){return this._valid?cM(this._rgb):void 0}hslString(){return this._valid?vM(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,a=t.rgb;let o;const u=e===o?.5:e,h=2*u-1,f=i.a-a.a,g=((h*f===-1?h:(h+f)/(1+h*f))+1)/2;o=1-g,i.r=255&g*i.r+o*a.r+.5,i.g=255&g*i.g+o*a.g+.5,i.b=255&g*i.b+o*a.b+.5,i.a=u*i.a+(1-u)*a.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=xM(this._rgb,t._rgb,e)),this}clone(){return new bu(this.rgb)}alpha(t){return this._rgb.a=Js(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=Iu(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return hh(this._rgb,2,t),this}darken(t){return hh(this._rgb,2,-t),this}saturate(t){return hh(this._rgb,1,t),this}desaturate(t){return hh(this._rgb,1,-t),this}rotate(t){return _M(this._rgb,t),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function es(){}const RM=(()=>{let n=0;return()=>n++})();function kt(n){return n==null}function he(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Lt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function _e(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Cn(n,t){return _e(n)?n:t}function Dt(n,t){return typeof n>"u"?t:n}const DM=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,IS=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function ae(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function $t(n,t,e,i){let a,o,u;if(he(n))for(o=n.length,a=0;a<o;a++)t.call(e,n[a],a);else if(Lt(n))for(u=Object.keys(n),o=u.length,a=0;a<o;a++)t.call(e,n[u[a]],u[a])}function tf(n,t){let e,i,a,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(a=n[e],o=t[e],a.datasetIndex!==o.datasetIndex||a.index!==o.index)return!1;return!0}function ef(n){if(he(n))return n.map(ef);if(Lt(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let a=0;for(;a<i;++a)t[e[a]]=ef(n[e[a]]);return t}return n}function VS(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function MM(n,t,e,i){if(!VS(n))return;const a=t[n],o=e[n];Lt(a)&&Lt(o)?Eu(a,o,i):t[n]=ef(o)}function Eu(n,t,e){const i=he(t)?t:[t],a=i.length;if(!Lt(n))return n;e=e||{};const o=e.merger||MM;let u;for(let h=0;h<a;++h){if(u=i[h],!Lt(u))continue;const f=Object.keys(u);for(let g=0,y=f.length;g<y;++g)o(f[g],n,u,e)}return n}function ru(n,t){return Eu(n,t,{merger:CM})}function CM(n,t,e){if(!VS(n))return;const i=t[n],a=e[n];Lt(i)&&Lt(a)?ru(i,a):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=ef(a))}const _b={"":n=>n,x:n=>n.x,y:n=>n.y};function OM(n){const t=n.split("."),e=[];let i="";for(const a of t)i+=a,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function IM(n){const t=OM(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function ra(n,t){return(_b[t]||(_b[t]=IM(t)))(n)}function Ap(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Tu=n=>typeof n<"u",oa=n=>typeof n=="function",vb=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function VM(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const oe=Math.PI,re=2*oe,NM=re+oe,nf=Number.POSITIVE_INFINITY,kM=oe/180,Se=oe/2,Ya=oe/4,bb=oe*2/3,qs=Math.log10,wi=Math.sign;function ou(n,t,e){return Math.abs(n-t)<e}function Eb(n){const t=Math.round(n);n=ou(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(qs(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function PM(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((a,o)=>a-o).pop(),t}function LM(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function To(n){return!LM(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function zM(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function NS(n,t,e){let i,a,o;for(i=0,a=n.length;i<a;i++)o=n[i][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function ei(n){return n*(oe/180)}function xp(n){return n*(180/oe)}function Tb(n){if(!_e(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function kS(n,t){const e=t.x-n.x,i=t.y-n.y,a=Math.sqrt(e*e+i*i);let o=Math.atan2(i,e);return o<-.5*oe&&(o+=re),{angle:o,distance:a}}function Dm(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function BM(n,t){return(n-t+NM)%re-oe}function On(n){return(n%re+re)%re}function Su(n,t,e,i){const a=On(n),o=On(t),u=On(e),h=On(o-a),f=On(u-a),g=On(a-o),y=On(a-u);return a===o||a===u||i&&o===u||h>f&&g<y}function Ge(n,t,e){return Math.max(t,Math.min(e,n))}function UM(n){return Ge(n,-32768,32767)}function rs(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function wp(n,t,e){e=e||(u=>n[u]<t);let i=n.length-1,a=0,o;for(;i-a>1;)o=a+i>>1,e(o)?a=o:i=o;return{lo:a,hi:i}}const os=(n,t,e,i)=>wp(n,e,i?a=>{const o=n[a][t];return o<e||o===e&&n[a+1][t]===e}:a=>n[a][t]<e),HM=(n,t,e)=>wp(n,e,i=>n[i][t]>=e);function jM(n,t,e){let i=0,a=n.length;for(;i<a&&n[i]<t;)i++;for(;a>i&&n[a-1]>e;)a--;return i>0||a<n.length?n.slice(i,a):n}const PS=["push","pop","shift","splice","unshift"];function FM(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),PS.forEach(e=>{const i="_onData"+Ap(e),a=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const u=a.apply(this,o);return n._chartjs.listeners.forEach(h=>{typeof h[i]=="function"&&h[i](...o)}),u}})})}function Sb(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,a=i.indexOf(t);a!==-1&&i.splice(a,1),!(i.length>0)&&(PS.forEach(o=>{delete n[o]}),delete n._chartjs)}function LS(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const zS=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function BS(n,t){let e=[],i=!1;return function(...a){e=a,i||(i=!0,zS.call(window,()=>{i=!1,n.apply(t,e)}))}}function qM(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const Rp=n=>n==="start"?"left":n==="end"?"right":"center",an=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,GM=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function US(n,t,e){const i=t.length;let a=0,o=i;if(n._sorted){const{iScale:u,vScale:h,_parsed:f}=n,g=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,y=u.axis,{min:_,max:b,minDefined:S,maxDefined:x}=u.getUserBounds();if(S){if(a=Math.min(os(f,y,_).lo,e?i:os(t,y,u.getPixelForValue(_)).lo),g){const D=f.slice(0,a+1).reverse().findIndex(M=>!kt(M[h.axis]));a-=Math.max(0,D)}a=Ge(a,0,i-1)}if(x){let D=Math.max(os(f,u.axis,b,!0).hi+1,e?0:os(t,y,u.getPixelForValue(b),!0).hi+1);if(g){const M=f.slice(D-1).findIndex(z=>!kt(z[h.axis]));D+=Math.max(0,M)}o=Ge(D,a,i)-a}else o=i-a}return{start:a,count:o}}function HS(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,a={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=a,!0;const o=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,a),o}const fh=n=>n===0||n===1,Ab=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*re/e)),xb=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*re/e)+1,lu={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Se)+1,easeOutSine:n=>Math.sin(n*Se),easeInOutSine:n=>-.5*(Math.cos(oe*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>fh(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>fh(n)?n:Ab(n,.075,.3),easeOutElastic:n=>fh(n)?n:xb(n,.075,.3),easeInOutElastic(n){return fh(n)?n:n<.5?.5*Ab(n*2,.1125,.45):.5+.5*xb(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-lu.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?lu.easeInBounce(n*2)*.5:lu.easeOutBounce(n*2-1)*.5+.5};function Dp(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function wb(n){return Dp(n)?n:new bu(n)}function Qg(n){return Dp(n)?n:new bu(n).saturate(.5).darken(.1).hexString()}const YM=["x","y","borderWidth","radius","tension"],QM=["color","borderColor","backgroundColor"];function XM(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:QM},numbers:{type:"number",properties:YM}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function KM(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Rb=new Map;function WM(n,t){t=t||{};const e=n+JSON.stringify(t);let i=Rb.get(e);return i||(i=new Intl.NumberFormat(n,t),Rb.set(e,i)),i}function Vu(n,t,e){return WM(t,e).format(n)}const jS={values(n){return he(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let a,o=n;if(e.length>1){const g=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(g<1e-4||g>1e15)&&(a="scientific"),o=$M(n,e)}const u=qs(Math.abs(o)),h=isNaN(u)?1:Math.max(Math.min(-1*Math.floor(u),20),0),f={notation:a,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(f,this.options.ticks.format),Vu(n,i,f)},logarithmic(n,t,e){if(n===0)return"0";const i=e[t].significand||n/Math.pow(10,Math.floor(qs(n)));return[1,2,3,5,10,15].includes(i)||t>.8*e.length?jS.numeric.call(this,n,t,e):""}};function $M(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var Af={formatters:jS};function ZM(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Af.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const ar=Object.create(null),Mm=Object.create(null);function uu(n,t){if(!t)return n;const e=t.split(".");for(let i=0,a=e.length;i<a;++i){const o=e[i];n=n[o]||(n[o]=Object.create(null))}return n}function Xg(n,t,e){return typeof t=="string"?Eu(uu(n,t),e):Eu(uu(n,""),t)}class JM{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,a)=>Qg(a.backgroundColor),this.hoverBorderColor=(i,a)=>Qg(a.borderColor),this.hoverColor=(i,a)=>Qg(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Xg(this,t,e)}get(t){return uu(this,t)}describe(t,e){return Xg(Mm,t,e)}override(t,e){return Xg(ar,t,e)}route(t,e,i,a){const o=uu(this,t),u=uu(this,i),h="_"+e;Object.defineProperties(o,{[h]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const f=this[h],g=u[a];return Lt(f)?Object.assign({},g,f):Dt(f,g)},set(f){this[h]=f}}})}apply(t){t.forEach(e=>e(this))}}var fe=new JM({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[XM,KM,ZM]);function tC(n){return!n||kt(n.size)||kt(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function sf(n,t,e,i,a){let o=t[a];return o||(o=t[a]=n.measureText(a).width,e.push(a)),o>i&&(i=o),i}function eC(n,t,e,i){i=i||{};let a=i.data=i.data||{},o=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(a=i.data={},o=i.garbageCollect=[],i.font=t),n.save(),n.font=t;let u=0;const h=e.length;let f,g,y,_,b;for(f=0;f<h;f++)if(_=e[f],_!=null&&!he(_))u=sf(n,a,o,u,_);else if(he(_))for(g=0,y=_.length;g<y;g++)b=_[g],b!=null&&!he(b)&&(u=sf(n,a,o,u,b));n.restore();const S=o.length/2;if(S>e.length){for(f=0;f<S;f++)delete a[o[f]];o.splice(0,S)}return u}function Qa(n,t,e){const i=n.currentDevicePixelRatio,a=e!==0?Math.max(e/2,.5):0;return Math.round((t-a)*i)/i+a}function Db(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function Cm(n,t,e,i){FS(n,t,e,i,null)}function FS(n,t,e,i,a){let o,u,h,f,g,y,_,b;const S=t.pointStyle,x=t.rotation,D=t.radius;let M=(x||0)*kM;if(S&&typeof S=="object"&&(o=S.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(M),n.drawImage(S,-S.width/2,-S.height/2,S.width,S.height),n.restore();return}if(!(isNaN(D)||D<=0)){switch(n.beginPath(),S){default:a?n.ellipse(e,i,a/2,D,0,0,re):n.arc(e,i,D,0,re),n.closePath();break;case"triangle":y=a?a/2:D,n.moveTo(e+Math.sin(M)*y,i-Math.cos(M)*D),M+=bb,n.lineTo(e+Math.sin(M)*y,i-Math.cos(M)*D),M+=bb,n.lineTo(e+Math.sin(M)*y,i-Math.cos(M)*D),n.closePath();break;case"rectRounded":g=D*.516,f=D-g,u=Math.cos(M+Ya)*f,_=Math.cos(M+Ya)*(a?a/2-g:f),h=Math.sin(M+Ya)*f,b=Math.sin(M+Ya)*(a?a/2-g:f),n.arc(e-_,i-h,g,M-oe,M-Se),n.arc(e+b,i-u,g,M-Se,M),n.arc(e+_,i+h,g,M,M+Se),n.arc(e-b,i+u,g,M+Se,M+oe),n.closePath();break;case"rect":if(!x){f=Math.SQRT1_2*D,y=a?a/2:f,n.rect(e-y,i-f,2*y,2*f);break}M+=Ya;case"rectRot":_=Math.cos(M)*(a?a/2:D),u=Math.cos(M)*D,h=Math.sin(M)*D,b=Math.sin(M)*(a?a/2:D),n.moveTo(e-_,i-h),n.lineTo(e+b,i-u),n.lineTo(e+_,i+h),n.lineTo(e-b,i+u),n.closePath();break;case"crossRot":M+=Ya;case"cross":_=Math.cos(M)*(a?a/2:D),u=Math.cos(M)*D,h=Math.sin(M)*D,b=Math.sin(M)*(a?a/2:D),n.moveTo(e-_,i-h),n.lineTo(e+_,i+h),n.moveTo(e+b,i-u),n.lineTo(e-b,i+u);break;case"star":_=Math.cos(M)*(a?a/2:D),u=Math.cos(M)*D,h=Math.sin(M)*D,b=Math.sin(M)*(a?a/2:D),n.moveTo(e-_,i-h),n.lineTo(e+_,i+h),n.moveTo(e+b,i-u),n.lineTo(e-b,i+u),M+=Ya,_=Math.cos(M)*(a?a/2:D),u=Math.cos(M)*D,h=Math.sin(M)*D,b=Math.sin(M)*(a?a/2:D),n.moveTo(e-_,i-h),n.lineTo(e+_,i+h),n.moveTo(e+b,i-u),n.lineTo(e-b,i+u);break;case"line":u=a?a/2:Math.cos(M)*D,h=Math.sin(M)*D,n.moveTo(e-u,i-h),n.lineTo(e+u,i+h);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(M)*(a?a/2:D),i+Math.sin(M)*D);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function ls(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function xf(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function wf(n){n.restore()}function nC(n,t,e,i,a){if(!t)return n.lineTo(e.x,e.y);if(a==="middle"){const o=(t.x+e.x)/2;n.lineTo(o,t.y),n.lineTo(o,e.y)}else a==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function iC(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function sC(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),kt(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function aC(n,t,e,i,a){if(a.strikethrough||a.underline){const o=n.measureText(i),u=t-o.actualBoundingBoxLeft,h=t+o.actualBoundingBoxRight,f=e-o.actualBoundingBoxAscent,g=e+o.actualBoundingBoxDescent,y=a.strikethrough?(f+g)/2:g;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=a.decorationWidth||2,n.moveTo(u,y),n.lineTo(h,y),n.stroke()}}function rC(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function rr(n,t,e,i,a,o={}){const u=he(t)?t:[t],h=o.strokeWidth>0&&o.strokeColor!=="";let f,g;for(n.save(),n.font=a.string,sC(n,o),f=0;f<u.length;++f)g=u[f],o.backdrop&&rC(n,o.backdrop),h&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),kt(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(g,e,i,o.maxWidth)),n.fillText(g,e,i,o.maxWidth),aC(n,e,i,g,o),i+=Number(a.lineHeight);n.restore()}function Au(n,t){const{x:e,y:i,w:a,h:o,radius:u}=t;n.arc(e+u.topLeft,i+u.topLeft,u.topLeft,1.5*oe,oe,!0),n.lineTo(e,i+o-u.bottomLeft),n.arc(e+u.bottomLeft,i+o-u.bottomLeft,u.bottomLeft,oe,Se,!0),n.lineTo(e+a-u.bottomRight,i+o),n.arc(e+a-u.bottomRight,i+o-u.bottomRight,u.bottomRight,Se,0,!0),n.lineTo(e+a,i+u.topRight),n.arc(e+a-u.topRight,i+u.topRight,u.topRight,0,-Se,!0),n.lineTo(e+u.topLeft,i)}const oC=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,lC=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function uC(n,t){const e=(""+n).match(oC);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const cC=n=>+n||0;function Mp(n,t){const e={},i=Lt(t),a=i?Object.keys(t):t,o=Lt(n)?i?u=>Dt(n[u],n[t[u]]):u=>n[u]:()=>n;for(const u of a)e[u]=cC(o(u));return e}function qS(n){return Mp(n,{top:"y",right:"x",bottom:"y",left:"x"})}function er(n){return Mp(n,["topLeft","topRight","bottomLeft","bottomRight"])}function un(n){const t=qS(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function ke(n,t){n=n||{},t=t||fe.font;let e=Dt(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=Dt(n.style,t.style);i&&!(""+i).match(lC)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const a={family:Dt(n.family,t.family),lineHeight:uC(Dt(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:Dt(n.weight,t.weight),string:""};return a.string=tC(a),a}function $l(n,t,e,i){let a,o,u;for(a=0,o=n.length;a<o;++a)if(u=n[a],u!==void 0&&u!==void 0)return u}function hC(n,t,e){const{min:i,max:a}=n,o=IS(t,(a-i)/2),u=(h,f)=>e&&h===0?0:h+f;return{min:u(i,-Math.abs(o)),max:u(a,o)}}function la(n,t){return Object.assign(Object.create(n),t)}function Cp(n,t=[""],e,i,a=()=>n[0]){const o=e||n;typeof i>"u"&&(i=XS("_fallback",n));const u={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:a,override:h=>Cp([h,...n],t,o,i)};return new Proxy(u,{deleteProperty(h,f){return delete h[f],delete h._keys,delete n[0][f],!0},get(h,f){return YS(h,f,()=>vC(f,t,n,h))},getOwnPropertyDescriptor(h,f){return Reflect.getOwnPropertyDescriptor(h._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(h,f){return Cb(h).includes(f)},ownKeys(h){return Cb(h)},set(h,f,g){const y=h._storage||(h._storage=a());return h[f]=y[f]=g,delete h._keys,!0}})}function So(n,t,e,i){const a={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:GS(n,i),setContext:o=>So(n,o,e,i),override:o=>So(n.override(o),t,e,i)};return new Proxy(a,{deleteProperty(o,u){return delete o[u],delete n[u],!0},get(o,u,h){return YS(o,u,()=>dC(o,u,h))},getOwnPropertyDescriptor(o,u){return o._descriptors.allKeys?Reflect.has(n,u)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,u)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,u){return Reflect.has(n,u)},ownKeys(){return Reflect.ownKeys(n)},set(o,u,h){return n[u]=h,delete o[u],!0}})}function GS(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:a=t.allKeys}=n;return{allKeys:a,scriptable:e,indexable:i,isScriptable:oa(e)?e:()=>e,isIndexable:oa(i)?i:()=>i}}const fC=(n,t)=>n?n+Ap(t):t,Op=(n,t)=>Lt(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function YS(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function dC(n,t,e){const{_proxy:i,_context:a,_subProxy:o,_descriptors:u}=n;let h=i[t];return oa(h)&&u.isScriptable(t)&&(h=gC(t,h,n,e)),he(h)&&h.length&&(h=mC(t,h,n,u.isIndexable)),Op(t,h)&&(h=So(h,a,o&&o[t],u)),h}function gC(n,t,e,i){const{_proxy:a,_context:o,_subProxy:u,_stack:h}=e;if(h.has(n))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+n);h.add(n);let f=t(o,u||i);return h.delete(n),Op(n,f)&&(f=Ip(a._scopes,a,n,f)),f}function mC(n,t,e,i){const{_proxy:a,_context:o,_subProxy:u,_descriptors:h}=e;if(typeof o.index<"u"&&i(n))return t[o.index%t.length];if(Lt(t[0])){const f=t,g=a._scopes.filter(y=>y!==f);t=[];for(const y of f){const _=Ip(g,a,n,y);t.push(So(_,o,u&&u[n],h))}}return t}function QS(n,t,e){return oa(n)?n(t,e):n}const pC=(n,t)=>n===!0?t:typeof n=="string"?ra(t,n):void 0;function yC(n,t,e,i,a){for(const o of t){const u=pC(e,o);if(u){n.add(u);const h=QS(u._fallback,e,a);if(typeof h<"u"&&h!==e&&h!==i)return h}else if(u===!1&&typeof i<"u"&&e!==i)return null}return!1}function Ip(n,t,e,i){const a=t._rootScopes,o=QS(t._fallback,e,i),u=[...n,...a],h=new Set;h.add(i);let f=Mb(h,u,e,o||e,i);return f===null||typeof o<"u"&&o!==e&&(f=Mb(h,u,o,f,i),f===null)?!1:Cp(Array.from(h),[""],a,o,()=>_C(t,e,i))}function Mb(n,t,e,i,a){for(;e;)e=yC(n,t,e,i,a);return e}function _C(n,t,e){const i=n._getTarget();t in i||(i[t]={});const a=i[t];return he(a)&&Lt(e)?e:a||{}}function vC(n,t,e,i){let a;for(const o of t)if(a=XS(fC(o,n),e),typeof a<"u")return Op(n,a)?Ip(e,i,n,a):a}function XS(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function Cb(n){let t=n._keys;return t||(t=n._keys=bC(n._scopes)),t}function bC(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(a=>!a.startsWith("_")))t.add(i);return Array.from(t)}function KS(n,t,e,i){const{iScale:a}=n,{key:o="r"}=this._parsing,u=new Array(i);let h,f,g,y;for(h=0,f=i;h<f;++h)g=h+e,y=t[g],u[h]={r:a.parse(ra(y,o),g)};return u}const EC=Number.EPSILON||1e-14,Ao=(n,t)=>t<n.length&&!n[t].skip&&n[t],WS=n=>n==="x"?"y":"x";function TC(n,t,e,i){const a=n.skip?t:n,o=t,u=e.skip?t:e,h=Dm(o,a),f=Dm(u,o);let g=h/(h+f),y=f/(h+f);g=isNaN(g)?0:g,y=isNaN(y)?0:y;const _=i*g,b=i*y;return{previous:{x:o.x-_*(u.x-a.x),y:o.y-_*(u.y-a.y)},next:{x:o.x+b*(u.x-a.x),y:o.y+b*(u.y-a.y)}}}function SC(n,t,e){const i=n.length;let a,o,u,h,f,g=Ao(n,0);for(let y=0;y<i-1;++y)if(f=g,g=Ao(n,y+1),!(!f||!g)){if(ou(t[y],0,EC)){e[y]=e[y+1]=0;continue}a=e[y]/t[y],o=e[y+1]/t[y],h=Math.pow(a,2)+Math.pow(o,2),!(h<=9)&&(u=3/Math.sqrt(h),e[y]=a*u*t[y],e[y+1]=o*u*t[y])}}function AC(n,t,e="x"){const i=WS(e),a=n.length;let o,u,h,f=Ao(n,0);for(let g=0;g<a;++g){if(u=h,h=f,f=Ao(n,g+1),!h)continue;const y=h[e],_=h[i];u&&(o=(y-u[e])/3,h[`cp1${e}`]=y-o,h[`cp1${i}`]=_-o*t[g]),f&&(o=(f[e]-y)/3,h[`cp2${e}`]=y+o,h[`cp2${i}`]=_+o*t[g])}}function xC(n,t="x"){const e=WS(t),i=n.length,a=Array(i).fill(0),o=Array(i);let u,h,f,g=Ao(n,0);for(u=0;u<i;++u)if(h=f,f=g,g=Ao(n,u+1),!!f){if(g){const y=g[t]-f[t];a[u]=y!==0?(g[e]-f[e])/y:0}o[u]=h?g?wi(a[u-1])!==wi(a[u])?0:(a[u-1]+a[u])/2:a[u-1]:a[u]}SC(n,a,o),AC(n,o,t)}function dh(n,t,e){return Math.max(Math.min(n,e),t)}function wC(n,t){let e,i,a,o,u,h=ls(n[0],t);for(e=0,i=n.length;e<i;++e)u=o,o=h,h=e<i-1&&ls(n[e+1],t),o&&(a=n[e],u&&(a.cp1x=dh(a.cp1x,t.left,t.right),a.cp1y=dh(a.cp1y,t.top,t.bottom)),h&&(a.cp2x=dh(a.cp2x,t.left,t.right),a.cp2y=dh(a.cp2y,t.top,t.bottom)))}function RC(n,t,e,i,a){let o,u,h,f;if(t.spanGaps&&(n=n.filter(g=>!g.skip)),t.cubicInterpolationMode==="monotone")xC(n,a);else{let g=i?n[n.length-1]:n[0];for(o=0,u=n.length;o<u;++o)h=n[o],f=TC(g,h,n[Math.min(o+1,u-(i?0:1))%u],t.tension),h.cp1x=f.previous.x,h.cp1y=f.previous.y,h.cp2x=f.next.x,h.cp2y=f.next.y,g=h}t.capBezierPoints&&wC(n,e)}function Vp(){return typeof window<"u"&&typeof document<"u"}function Np(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function af(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const Rf=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function DC(n,t){return Rf(n).getPropertyValue(t)}const MC=["top","right","bottom","left"];function nr(n,t,e){const i={};e=e?"-"+e:"";for(let a=0;a<4;a++){const o=MC[a];i[o]=parseFloat(n[t+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const CC=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function OC(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:a,offsetY:o}=i;let u=!1,h,f;if(CC(a,o,n.target))h=a,f=o;else{const g=t.getBoundingClientRect();h=i.clientX-g.left,f=i.clientY-g.top,u=!0}return{x:h,y:f,box:u}}function $a(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,a=Rf(e),o=a.boxSizing==="border-box",u=nr(a,"padding"),h=nr(a,"border","width"),{x:f,y:g,box:y}=OC(n,e),_=u.left+(y&&h.left),b=u.top+(y&&h.top);let{width:S,height:x}=t;return o&&(S-=u.width+h.width,x-=u.height+h.height),{x:Math.round((f-_)/S*e.width/i),y:Math.round((g-b)/x*e.height/i)}}function IC(n,t,e){let i,a;if(t===void 0||e===void 0){const o=n&&Np(n);if(!o)t=n.clientWidth,e=n.clientHeight;else{const u=o.getBoundingClientRect(),h=Rf(o),f=nr(h,"border","width"),g=nr(h,"padding");t=u.width-g.width-f.width,e=u.height-g.height-f.height,i=af(h.maxWidth,o,"clientWidth"),a=af(h.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:i||nf,maxHeight:a||nf}}const gh=n=>Math.round(n*10)/10;function VC(n,t,e,i){const a=Rf(n),o=nr(a,"margin"),u=af(a.maxWidth,n,"clientWidth")||nf,h=af(a.maxHeight,n,"clientHeight")||nf,f=IC(n,t,e);let{width:g,height:y}=f;if(a.boxSizing==="content-box"){const b=nr(a,"border","width"),S=nr(a,"padding");g-=S.width+b.width,y-=S.height+b.height}return g=Math.max(0,g-o.width),y=Math.max(0,i?g/i:y-o.height),g=gh(Math.min(g,u,f.maxWidth)),y=gh(Math.min(y,h,f.maxHeight)),g&&!y&&(y=gh(g/2)),(t!==void 0||e!==void 0)&&i&&f.height&&y>f.height&&(y=f.height,g=gh(Math.floor(y*i))),{width:g,height:y}}function Ob(n,t,e){const i=t||1,a=Math.floor(n.height*i),o=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const u=n.canvas;return u.style&&(e||!u.style.height&&!u.style.width)&&(u.style.height=`${n.height}px`,u.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||u.height!==a||u.width!==o?(n.currentDevicePixelRatio=i,u.height=a,u.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const NC=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};Vp()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function Ib(n,t){const e=DC(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Za(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function kC(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function PC(n,t,e,i){const a={x:n.cp2x,y:n.cp2y},o={x:t.cp1x,y:t.cp1y},u=Za(n,a,e),h=Za(a,o,e),f=Za(o,t,e),g=Za(u,h,e),y=Za(h,f,e);return Za(g,y,e)}const LC=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},zC=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function fo(n,t,e){return n?LC(t,e):zC()}function $S(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function ZS(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function JS(n){return n==="angle"?{between:Su,compare:BM,normalize:On}:{between:rs,compare:(t,e)=>t-e,normalize:t=>t}}function Vb({start:n,end:t,count:e,loop:i,style:a}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:a}}function BC(n,t,e){const{property:i,start:a,end:o}=e,{between:u,normalize:h}=JS(i),f=t.length;let{start:g,end:y,loop:_}=n,b,S;if(_){for(g+=f,y+=f,b=0,S=f;b<S&&u(h(t[g%f][i]),a,o);++b)g--,y--;g%=f,y%=f}return y<g&&(y+=f),{start:g,end:y,loop:_,style:n.style}}function tA(n,t,e){if(!e)return[n];const{property:i,start:a,end:o}=e,u=t.length,{compare:h,between:f,normalize:g}=JS(i),{start:y,end:_,loop:b,style:S}=BC(n,t,e),x=[];let D=!1,M=null,z,H,K;const $=()=>f(a,K,z)&&h(a,K)!==0,G=()=>h(o,z)===0||f(o,K,z),nt=()=>D||$(),O=()=>!D||G();for(let w=y,C=y;w<=_;++w)H=t[w%u],!H.skip&&(z=g(H[i]),z!==K&&(D=f(z,a,o),M===null&&nt()&&(M=h(z,a)===0?w:C),M!==null&&O()&&(x.push(Vb({start:M,end:w,loop:b,count:u,style:S})),M=null),C=w,K=z));return M!==null&&x.push(Vb({start:M,end:_,loop:b,count:u,style:S})),x}function eA(n,t){const e=[],i=n.segments;for(let a=0;a<i.length;a++){const o=tA(i[a],n.points,t);o.length&&e.push(...o)}return e}function UC(n,t,e,i){let a=0,o=t-1;if(e&&!i)for(;a<t&&!n[a].skip;)a++;for(;a<t&&n[a].skip;)a++;for(a%=t,e&&(o+=a);o>a&&n[o%t].skip;)o--;return o%=t,{start:a,end:o}}function HC(n,t,e,i){const a=n.length,o=[];let u=t,h=n[t],f;for(f=t+1;f<=e;++f){const g=n[f%a];g.skip||g.stop?h.skip||(i=!1,o.push({start:t%a,end:(f-1)%a,loop:i}),t=u=g.stop?f:null):(u=f,h.skip&&(t=f)),h=g}return u!==null&&o.push({start:t%a,end:u%a,loop:i}),o}function jC(n,t){const e=n.points,i=n.options.spanGaps,a=e.length;if(!a)return[];const o=!!n._loop,{start:u,end:h}=UC(e,a,o,i);if(i===!0)return Nb(n,[{start:u,end:h,loop:o}],e,t);const f=h<u?h+a:h,g=!!n._fullLoop&&u===0&&h===a-1;return Nb(n,HC(e,u,f,g),e,t)}function Nb(n,t,e,i){return!i||!i.setContext||!e?t:FC(n,t,e,i)}function FC(n,t,e,i){const a=n._chart.getContext(),o=kb(n.options),{_datasetIndex:u,options:{spanGaps:h}}=n,f=e.length,g=[];let y=o,_=t[0].start,b=_;function S(x,D,M,z){const H=h?-1:1;if(x!==D){for(x+=f;e[x%f].skip;)x-=H;for(;e[D%f].skip;)D+=H;x%f!==D%f&&(g.push({start:x%f,end:D%f,loop:M,style:z}),y=z,_=D%f)}}for(const x of t){_=h?_:x.start;let D=e[_%f],M;for(b=_+1;b<=x.end;b++){const z=e[b%f];M=kb(i.setContext(la(a,{type:"segment",p0:D,p1:z,p0DataIndex:(b-1)%f,p1DataIndex:b%f,datasetIndex:u}))),qC(M,y)&&S(_,b-1,x.loop,y),D=z,y=M}_<b-1&&S(_,b-1,x.loop,y)}return g}function kb(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function qC(n,t){if(!t)return!1;const e=[],i=function(a,o){return Dp(o)?(e.includes(o)||e.push(o),e.indexOf(o)):o};return JSON.stringify(n,i)!==JSON.stringify(t,i)}function mh(n,t,e){return n.options.clip?n[e]:t[e]}function GC(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:mh(e,t,"left"),right:mh(e,t,"right"),top:mh(i,t,"top"),bottom:mh(i,t,"bottom")}:t}function nA(n,t){const e=t._clip;if(e.disabled)return!1;const i=GC(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class YC{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,a){const o=e.listeners[a],u=e.duration;o.forEach(h=>h({chart:t,initial:e.initial,numSteps:u,currentStep:Math.min(i-e.start,u)}))}_refresh(){this._request||(this._running=!0,this._request=zS.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,a)=>{if(!i.running||!i.items.length)return;const o=i.items;let u=o.length-1,h=!1,f;for(;u>=0;--u)f=o[u],f._active?(f._total>i.duration&&(i.duration=f._total),f.tick(t),h=!0):(o[u]=o[o.length-1],o.pop());h&&(a.draw(),this._notify(a,i,t,"progress")),o.length||(i.running=!1,this._notify(a,i,t,"complete"),i.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,a)=>Math.max(i,a._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let a=i.length-1;for(;a>=0;--a)i[a].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var ns=new YC;const Pb="transparent",QC={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=wb(n||Pb),a=i.valid&&wb(t||Pb);return a&&a.valid?a.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class XC{constructor(t,e,i,a){const o=e[i];a=$l([t.to,a,o,t.from]);const u=$l([t.from,o,a]);this._active=!0,this._fn=t.fn||QC[t.type||typeof u],this._easing=lu[t.easing]||lu.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=u,this._to=a,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const a=this._target[this._prop],o=i-this._start,u=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(u,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=$l([t.to,e,a,t.from]),this._from=$l([t.from,a,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,a=this._prop,o=this._from,u=this._loop,h=this._to;let f;if(this._active=o!==h&&(u||e<i),!this._active){this._target[a]=h,this._notify(!0);return}if(e<0){this._target[a]=o;return}f=e/i%2,f=u&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[a]=this._fn(o,h,f)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let a=0;a<i.length;a++)i[a][e]()}}class iA{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Lt(t))return;const e=Object.keys(fe.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(a=>{const o=t[a];if(!Lt(o))return;const u={};for(const h of e)u[h]=o[h];(he(o.properties)&&o.properties||[a]).forEach(h=>{(h===a||!i.has(h))&&i.set(h,u)})})}_animateOptions(t,e){const i=e.options,a=WC(t,i);if(!a)return[];const o=this._createAnimations(a,i);return i.$shared&&KC(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,e){const i=this._properties,a=[],o=t.$animations||(t.$animations={}),u=Object.keys(e),h=Date.now();let f;for(f=u.length-1;f>=0;--f){const g=u[f];if(g.charAt(0)==="$")continue;if(g==="options"){a.push(...this._animateOptions(t,e));continue}const y=e[g];let _=o[g];const b=i.get(g);if(_)if(b&&_.active()){_.update(b,y,h);continue}else _.cancel();if(!b||!b.duration){t[g]=y;continue}o[g]=_=new XC(b,t,g,y),a.push(_)}return a}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return ns.add(this._chart,i),!0}}function KC(n,t){const e=[],i=Object.keys(t);for(let a=0;a<i.length;a++){const o=n[i[a]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function WC(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function Lb(n,t){const e=n&&n.options||{},i=e.reverse,a=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:i?o:a,end:i?a:o}}function $C(n,t,e){if(e===!1)return!1;const i=Lb(n,e),a=Lb(t,e);return{top:a.end,right:i.end,bottom:a.start,left:i.start}}function ZC(n){let t,e,i,a;return Lt(n)?(t=n.top,e=n.right,i=n.bottom,a=n.left):t=e=i=a=n,{top:t,right:e,bottom:i,left:a,disabled:n===!1}}function sA(n,t){const e=[],i=n._getSortedDatasetMetas(t);let a,o;for(a=0,o=i.length;a<o;++a)e.push(i[a].index);return e}function zb(n,t,e,i={}){const a=n.keys,o=i.mode==="single";let u,h,f,g;if(t===null)return;let y=!1;for(u=0,h=a.length;u<h;++u){if(f=+a[u],f===e){if(y=!0,i.all)continue;break}g=n.values[f],_e(g)&&(o||t===0||wi(t)===wi(g))&&(t+=g)}return!y&&!i.all?0:t}function JC(n,t){const{iScale:e,vScale:i}=t,a=e.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",u=Object.keys(n),h=new Array(u.length);let f,g,y;for(f=0,g=u.length;f<g;++f)y=u[f],h[f]={[a]:y,[o]:n[y]};return h}function Kg(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function tO(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function eO(n){const{min:t,max:e,minDefined:i,maxDefined:a}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:a?e:Number.POSITIVE_INFINITY}}function nO(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function Bb(n,t,e,i){for(const a of t.getMatchingVisibleMetas(i).reverse()){const o=n[a.index];if(e&&o>0||!e&&o<0)return a.index}return null}function Ub(n,t){const{chart:e,_cachedMeta:i}=n,a=e._stacks||(e._stacks={}),{iScale:o,vScale:u,index:h}=i,f=o.axis,g=u.axis,y=tO(o,u,i),_=t.length;let b;for(let S=0;S<_;++S){const x=t[S],{[f]:D,[g]:M}=x,z=x._stacks||(x._stacks={});b=z[g]=nO(a,y,D),b[h]=M,b._top=Bb(b,u,!0,i.type),b._bottom=Bb(b,u,!1,i.type);const H=b._visualValues||(b._visualValues={});H[h]=M}}function Wg(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function iO(n,t){return la(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function sO(n,t,e){return la(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Hl(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const a of t){const o=a._stacks;if(!o||o[i]===void 0||o[i][e]===void 0)return;delete o[i][e],o[i]._visualValues!==void 0&&o[i]._visualValues[e]!==void 0&&delete o[i]._visualValues[e]}}}const $g=n=>n==="reset"||n==="none",Hb=(n,t)=>t?n:Object.assign({},n),aO=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:sA(e,!0),values:null};class ni{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Kg(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Hl(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),a=(_,b,S,x)=>_==="x"?b:_==="r"?x:S,o=e.xAxisID=Dt(i.xAxisID,Wg(t,"x")),u=e.yAxisID=Dt(i.yAxisID,Wg(t,"y")),h=e.rAxisID=Dt(i.rAxisID,Wg(t,"r")),f=e.indexAxis,g=e.iAxisID=a(f,o,u,h),y=e.vAxisID=a(f,u,o,h);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(u),e.rScale=this.getScaleForId(h),e.iScale=this.getScaleForId(g),e.vScale=this.getScaleForId(y)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Sb(this._data,this),t._stacked&&Hl(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(Lt(e)){const a=this._cachedMeta;this._data=JC(e,a)}else if(i!==e){if(i){Sb(i,this);const a=this._cachedMeta;Hl(a),a._parsed=[]}e&&Object.isExtensible(e)&&FM(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let a=!1;this._dataCheck();const o=e._stacked;e._stacked=Kg(e.vScale,e),e.stack!==i.stack&&(a=!0,Hl(e),e.stack=i.stack),this._resyncElements(t),(a||o!==e._stacked)&&(Ub(this,e._parsed),e._stacked=Kg(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:a}=this,{iScale:o,_stacked:u}=i,h=o.axis;let f=t===0&&e===a.length?!0:i._sorted,g=t>0&&i._parsed[t-1],y,_,b;if(this._parsing===!1)i._parsed=a,i._sorted=!0,b=a;else{he(a[t])?b=this.parseArrayData(i,a,t,e):Lt(a[t])?b=this.parseObjectData(i,a,t,e):b=this.parsePrimitiveData(i,a,t,e);const S=()=>_[h]===null||g&&_[h]<g[h];for(y=0;y<e;++y)i._parsed[y+t]=_=b[y],f&&(S()&&(f=!1),g=_);i._sorted=f}u&&Ub(this,b)}parsePrimitiveData(t,e,i,a){const{iScale:o,vScale:u}=t,h=o.axis,f=u.axis,g=o.getLabels(),y=o===u,_=new Array(a);let b,S,x;for(b=0,S=a;b<S;++b)x=b+i,_[b]={[h]:y||o.parse(g[x],x),[f]:u.parse(e[x],x)};return _}parseArrayData(t,e,i,a){const{xScale:o,yScale:u}=t,h=new Array(a);let f,g,y,_;for(f=0,g=a;f<g;++f)y=f+i,_=e[y],h[f]={x:o.parse(_[0],y),y:u.parse(_[1],y)};return h}parseObjectData(t,e,i,a){const{xScale:o,yScale:u}=t,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,g=new Array(a);let y,_,b,S;for(y=0,_=a;y<_;++y)b=y+i,S=e[b],g[y]={x:o.parse(ra(S,h),b),y:u.parse(ra(S,f),b)};return g}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const a=this.chart,o=this._cachedMeta,u=e[t.axis],h={keys:sA(a,!0),values:e._stacks[t.axis]._visualValues};return zb(h,u,o.index,{mode:i})}updateRangeFromParsed(t,e,i,a){const o=i[e.axis];let u=o===null?NaN:o;const h=a&&i._stacks[e.axis];a&&h&&(a.values=h,u=zb(a,o,this._cachedMeta.index)),t.min=Math.min(t.min,u),t.max=Math.max(t.max,u)}getMinMax(t,e){const i=this._cachedMeta,a=i._parsed,o=i._sorted&&t===i.iScale,u=a.length,h=this._getOtherScale(t),f=aO(e,i,this.chart),g={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:y,max:_}=eO(h);let b,S;function x(){S=a[b];const D=S[h.axis];return!_e(S[t.axis])||y>D||_<D}for(b=0;b<u&&!(!x()&&(this.updateRangeFromParsed(g,t,S,f),o));++b);if(o){for(b=u-1;b>=0;--b)if(!x()){this.updateRangeFromParsed(g,t,S,f);break}}return g}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let a,o,u;for(a=0,o=e.length;a<o;++a)u=e[a][t.axis],_e(u)&&i.push(u);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,a=e.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:a?""+a.getLabelForValue(o[a.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=ZC(Dt(this.options.clip,$C(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,a=i.data||[],o=e.chartArea,u=[],h=this._drawStart||0,f=this._drawCount||a.length-h,g=this.options.drawActiveElementsOnTop;let y;for(i.dataset&&i.dataset.draw(t,o,h,f),y=h;y<h+f;++y){const _=a[y];_.hidden||(_.active&&g?u.push(_):_.draw(t,o))}for(y=0;y<u.length;++y)u[y].draw(t,o)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const a=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const u=this._cachedMeta.data[t];o=u.$context||(u.$context=sO(this.getContext(),t,u)),o.parsed=this.getParsed(t),o.raw=a.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=iO(this.chart.getContext(),this.index)),o.dataset=a,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const a=e==="active",o=this._cachedDataOpts,u=t+"-"+e,h=o[u],f=this.enableOptionSharing&&Tu(i);if(h)return Hb(h,f);const g=this.chart.config,y=g.datasetElementScopeKeys(this._type,t),_=a?[`${t}Hover`,"hover",t,""]:[t,""],b=g.getOptionScopes(this.getDataset(),y),S=Object.keys(fe.elements[t]),x=()=>this.getContext(i,a,e),D=g.resolveNamedOptions(b,S,x,_);return D.$shared&&(D.$shared=f,o[u]=Object.freeze(Hb(D,f))),D}_resolveAnimations(t,e,i){const a=this.chart,o=this._cachedDataOpts,u=`animation-${e}`,h=o[u];if(h)return h;let f;if(a.options.animation!==!1){const y=this.chart.config,_=y.datasetAnimationScopeKeys(this._type,e),b=y.getOptionScopes(this.getDataset(),_);f=y.createResolver(b,this.getContext(t,i,e))}const g=new iA(a,f&&f.animations);return f&&f._cacheable&&(o[u]=Object.freeze(g)),g}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||$g(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),a=this._sharedOptions,o=this.getSharedOptions(i),u=this.includeOptions(e,o)||o!==a;return this.updateSharedOptions(o,e,i),{sharedOptions:o,includeOptions:u}}updateElement(t,e,i,a){$g(a)?Object.assign(t,i):this._resolveAnimations(e,a).update(t,i)}updateSharedOptions(t,e,i){t&&!$g(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,a){t.active=a;const o=this.getStyle(e,a);this._resolveAnimations(e,i,a).update(t,{options:!a&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[h,f,g]of this._syncList)this[h](f,g);this._syncList=[];const a=i.length,o=e.length,u=Math.min(o,a);u&&this.parse(0,u),o>a?this._insertElements(a,o-a,t):o<a&&this._removeElements(o,a-o)}_insertElements(t,e,i=!0){const a=this._cachedMeta,o=a.data,u=t+e;let h;const f=g=>{for(g.length+=e,h=g.length-1;h>=u;h--)g[h]=g[h-e]};for(f(o),h=t;h<u;++h)o[h]=new this.dataElementType;this._parsing&&f(a._parsed),this.parse(t,e),i&&this.updateElements(o,t,e,"reset")}updateElements(t,e,i,a){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const a=i._parsed.splice(t,e);i._stacked&&Hl(i,a)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,a]=t;this[e](i,a)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ut(ni,"defaults",{}),ut(ni,"datasetElementType",null),ut(ni,"dataElementType",null);function rO(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let a=0,o=e.length;a<o;a++)i=i.concat(e[a].controller.getAllParsedValues(n));n._cache.$bar=LS(i.sort((a,o)=>a-o))}return n._cache.$bar}function oO(n){const t=n.iScale,e=rO(t,n.type);let i=t._length,a,o,u,h;const f=()=>{u===32767||u===-32768||(Tu(h)&&(i=Math.min(i,Math.abs(u-h)||i)),h=u)};for(a=0,o=e.length;a<o;++a)u=t.getPixelForValue(e[a]),f();for(h=void 0,a=0,o=t.ticks.length;a<o;++a)u=t.getPixelForTick(a),f();return i}function lO(n,t,e,i){const a=e.barThickness;let o,u;return kt(a)?(o=t.min*e.categoryPercentage,u=e.barPercentage):(o=a*i,u=1),{chunk:o/i,ratio:u,start:t.pixels[n]-o/2}}function uO(n,t,e,i){const a=t.pixels,o=a[n];let u=n>0?a[n-1]:null,h=n<a.length-1?a[n+1]:null;const f=e.categoryPercentage;u===null&&(u=o-(h===null?t.end-t.start:h-o)),h===null&&(h=o+o-u);const g=o-(o-Math.min(u,h))/2*f;return{chunk:Math.abs(h-u)/2*f/i,ratio:e.barPercentage,start:g}}function cO(n,t,e,i){const a=e.parse(n[0],i),o=e.parse(n[1],i),u=Math.min(a,o),h=Math.max(a,o);let f=u,g=h;Math.abs(u)>Math.abs(h)&&(f=h,g=u),t[e.axis]=g,t._custom={barStart:f,barEnd:g,start:a,end:o,min:u,max:h}}function aA(n,t,e,i){return he(n)?cO(n,t,e,i):t[e.axis]=e.parse(n,i),t}function jb(n,t,e,i){const a=n.iScale,o=n.vScale,u=a.getLabels(),h=a===o,f=[];let g,y,_,b;for(g=e,y=e+i;g<y;++g)b=t[g],_={},_[a.axis]=h||a.parse(u[g],g),f.push(aA(b,_,o,g));return f}function Zg(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function hO(n,t,e){return n!==0?wi(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function fO(n){let t,e,i,a,o;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(a="end",o="start"):(a="start",o="end"),{start:e,end:i,reverse:t,top:a,bottom:o}}function dO(n,t,e,i){let a=t.borderSkipped;const o={};if(!a){n.borderSkipped=o;return}if(a===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:u,end:h,reverse:f,top:g,bottom:y}=fO(n);a==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?a=g:(e._bottom||0)===i?a=y:(o[Fb(y,u,h,f)]=!0,a=g)),o[Fb(a,u,h,f)]=!0,n.borderSkipped=o}function Fb(n,t,e,i){return i?(n=gO(n,t,e),n=qb(n,e,t)):n=qb(n,t,e),n}function gO(n,t,e){return n===t?e:n===e?t:n}function qb(n,t,e){return n==="start"?t:n==="end"?e:n}function mO(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class Mh extends ni{parsePrimitiveData(t,e,i,a){return jb(t,e,i,a)}parseArrayData(t,e,i,a){return jb(t,e,i,a)}parseObjectData(t,e,i,a){const{iScale:o,vScale:u}=t,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,g=o.axis==="x"?h:f,y=u.axis==="x"?h:f,_=[];let b,S,x,D;for(b=i,S=i+a;b<S;++b)D=e[b],x={},x[o.axis]=o.parse(ra(D,g),b),_.push(aA(ra(D,y),x,u,b));return _}updateRangeFromParsed(t,e,i,a){super.updateRangeFromParsed(t,e,i,a);const o=i._custom;o&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:a}=e,o=this.getParsed(t),u=o._custom,h=Zg(u)?"["+u.start+", "+u.end+"]":""+a.getLabelForValue(o[a.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:h}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,a){const o=a==="reset",{index:u,_cachedMeta:{vScale:h}}=this,f=h.getBasePixel(),g=h.isHorizontal(),y=this._getRuler(),{sharedOptions:_,includeOptions:b}=this._getSharedOptions(e,a);for(let S=e;S<e+i;S++){const x=this.getParsed(S),D=o||kt(x[h.axis])?{base:f,head:f}:this._calculateBarValuePixels(S),M=this._calculateBarIndexPixels(S,y),z=(x._stacks||{})[h.axis],H={horizontal:g,base:D.base,enableBorderRadius:!z||Zg(x._custom)||u===z._top||u===z._bottom,x:g?D.head:M.center,y:g?M.center:D.head,height:g?M.size:Math.abs(D.size),width:g?Math.abs(D.size):M.size};b&&(H.options=_||this.resolveDataElementOptions(S,t[S].active?"active":a));const K=H.options||t[S].options;dO(H,K,z,u),mO(H,K,y.ratio),this.updateElement(t[S],S,H,a)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,a=i.getMatchingVisibleMetas(this._type).filter(y=>y.controller.options.grouped),o=i.options.stacked,u=[],h=this._cachedMeta.controller.getParsed(e),f=h&&h[i.axis],g=y=>{const _=y._parsed.find(S=>S[i.axis]===f),b=_&&_[y.vScale.axis];if(kt(b)||isNaN(b))return!0};for(const y of a)if(!(e!==void 0&&g(y))&&((o===!1||u.indexOf(y.stack)===-1||o===void 0&&y.stack===void 0)&&u.push(y.stack),y.index===t))break;return u.length||u.push(void 0),u}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,i){const a=this._getStacks(t,i),o=e!==void 0?a.indexOf(e):-1;return o===-1?a.length-1:o}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,a=[];let o,u;for(o=0,u=e.data.length;o<u;++o)a.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const h=t.barThickness;return{min:h||oO(e),pixels:a,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:h?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:a},options:{base:o,minBarLength:u}}=this,h=o||0,f=this.getParsed(t),g=f._custom,y=Zg(g);let _=f[e.axis],b=0,S=i?this.applyStack(e,f,i):_,x,D;S!==_&&(b=S-_,S=_),y&&(_=g.barStart,S=g.barEnd-g.barStart,_!==0&&wi(_)!==wi(g.barEnd)&&(b=0),b+=_);const M=!kt(o)&&!y?o:b;let z=e.getPixelForValue(M);if(this.chart.getDataVisibility(t)?x=e.getPixelForValue(b+S):x=z,D=x-z,Math.abs(D)<u){D=hO(D,e,h)*u,_===h&&(z-=D/2);const H=e.getPixelForDecimal(0),K=e.getPixelForDecimal(1),$=Math.min(H,K),G=Math.max(H,K);z=Math.max(Math.min(z,G),$),x=z+D,i&&!y&&(f._stacks[e.axis]._visualValues[a]=e.getValueForPixel(x)-e.getValueForPixel(z))}if(z===e.getPixelForValue(h)){const H=wi(D)*e.getLineWidthForValue(h)/2;z+=H,D-=H}return{size:D,base:z,head:x,center:x+D/2}}_calculateBarIndexPixels(t,e){const i=e.scale,a=this.options,o=a.skipNull,u=Dt(a.maxBarThickness,1/0);let h,f;if(e.grouped){const g=o?this._getStackCount(t):e.stackCount,y=a.barThickness==="flex"?uO(t,e,a,g):lO(t,e,a,g),_=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0);h=y.start+y.chunk*_+y.chunk/2,f=Math.min(u,y.chunk*y.ratio)}else h=i.getPixelForValue(this.getParsed(t)[i.axis],t),f=Math.min(u,e.min*e.ratio);return{base:h-f/2,head:h+f/2,center:h,size:f}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,a=i.length;let o=0;for(;o<a;++o)this.getParsed(o)[e.axis]!==null&&!i[o].hidden&&i[o].draw(this._ctx)}}ut(Mh,"id","bar"),ut(Mh,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),ut(Mh,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Ch extends ni{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,i,a){const o=super.parsePrimitiveData(t,e,i,a);for(let u=0;u<o.length;u++)o[u]._custom=this.resolveDataElementOptions(u+i).radius;return o}parseArrayData(t,e,i,a){const o=super.parseArrayData(t,e,i,a);for(let u=0;u<o.length;u++){const h=e[i+u];o[u]._custom=Dt(h[2],this.resolveDataElementOptions(u+i).radius)}return o}parseObjectData(t,e,i,a){const o=super.parseObjectData(t,e,i,a);for(let u=0;u<o.length;u++){const h=e[i+u];o[u]._custom=Dt(h&&h.r&&+h.r,this.resolveDataElementOptions(u+i).radius)}return o}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let i=t.length-1;i>=0;--i)e=Math.max(e,t[i].size(this.resolveDataElementOptions(i))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:a,yScale:o}=e,u=this.getParsed(t),h=a.getLabelForValue(u.x),f=o.getLabelForValue(u.y),g=u._custom;return{label:i[t]||"",value:"("+h+", "+f+(g?", "+g:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,i,a){const o=a==="reset",{iScale:u,vScale:h}=this._cachedMeta,{sharedOptions:f,includeOptions:g}=this._getSharedOptions(e,a),y=u.axis,_=h.axis;for(let b=e;b<e+i;b++){const S=t[b],x=!o&&this.getParsed(b),D={},M=D[y]=o?u.getPixelForDecimal(.5):u.getPixelForValue(x[y]),z=D[_]=o?h.getBasePixel():h.getPixelForValue(x[_]);D.skip=isNaN(M)||isNaN(z),g&&(D.options=f||this.resolveDataElementOptions(b,S.active?"active":a),o&&(D.options.radius=0)),this.updateElement(S,b,D,a)}}resolveDataElementOptions(t,e){const i=this.getParsed(t);let a=super.resolveDataElementOptions(t,e);a.$shared&&(a=Object.assign({},a,{$shared:!1}));const o=a.radius;return e!=="active"&&(a.radius=0),a.radius+=Dt(i&&i._custom,o),a}}ut(Ch,"id","bubble"),ut(Ch,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),ut(Ch,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function pO(n,t,e){let i=1,a=1,o=0,u=0;if(t<re){const h=n,f=h+t,g=Math.cos(h),y=Math.sin(h),_=Math.cos(f),b=Math.sin(f),S=(K,$,G)=>Su(K,h,f,!0)?1:Math.max($,$*e,G,G*e),x=(K,$,G)=>Su(K,h,f,!0)?-1:Math.min($,$*e,G,G*e),D=S(0,g,_),M=S(Se,y,b),z=x(oe,g,_),H=x(oe+Se,y,b);i=(D-z)/2,a=(M-H)/2,o=-(D+z)/2,u=-(M+H)/2}return{ratioX:i,ratioY:a,offsetX:o,offsetY:u}}class tr extends ni{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=i;else{let o=f=>+i[f];if(Lt(i[t])){const{key:f="value"}=this._parsing;o=g=>+ra(i[g],f)}let u,h;for(u=t,h=t+e;u<h;++u)a._parsed[u]=o(u)}}_getRotation(){return ei(this.options.rotation-90)}_getCircumference(){return ei(this.options.circumference)}_getRotationExtents(){let t=re,e=-re;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const a=this.chart.getDatasetMeta(i).controller,o=a._getRotation(),u=a._getCircumference();t=Math.min(t,o),e=Math.max(e,o+u)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,a=this._cachedMeta,o=a.data,u=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,h=Math.max((Math.min(i.width,i.height)-u)/2,0),f=Math.min(DM(this.options.cutout,h),1),g=this._getRingWeight(this.index),{circumference:y,rotation:_}=this._getRotationExtents(),{ratioX:b,ratioY:S,offsetX:x,offsetY:D}=pO(_,y,f),M=(i.width-u)/b,z=(i.height-u)/S,H=Math.max(Math.min(M,z)/2,0),K=IS(this.options.radius,H),$=Math.max(K*f,0),G=(K-$)/this._getVisibleDatasetWeightTotal();this.offsetX=x*K,this.offsetY=D*K,a.total=this.calculateTotal(),this.outerRadius=K-G*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-G*g,0),this.updateElements(o,0,o.length,t)}_circumference(t,e){const i=this.options,a=this._cachedMeta,o=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||a._parsed[t]===null||a.data[t].hidden?0:this.calculateCircumference(a._parsed[t]*o/re)}updateElements(t,e,i,a){const o=a==="reset",u=this.chart,h=u.chartArea,g=u.options.animation,y=(h.left+h.right)/2,_=(h.top+h.bottom)/2,b=o&&g.animateScale,S=b?0:this.innerRadius,x=b?0:this.outerRadius,{sharedOptions:D,includeOptions:M}=this._getSharedOptions(e,a);let z=this._getRotation(),H;for(H=0;H<e;++H)z+=this._circumference(H,o);for(H=e;H<e+i;++H){const K=this._circumference(H,o),$=t[H],G={x:y+this.offsetX,y:_+this.offsetY,startAngle:z,endAngle:z+K,circumference:K,outerRadius:x,innerRadius:S};M&&(G.options=D||this.resolveDataElementOptions(H,$.active?"active":a)),z+=K,this.updateElement($,H,G,a)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i=0,a;for(a=0;a<e.length;a++){const o=t._parsed[a];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(a)&&!e[a].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?re*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,a=i.data.labels||[],o=Vu(e._parsed[t],i.options.locale);return{label:a[t]||"",value:o}}getMaxBorderWidth(t){let e=0;const i=this.chart;let a,o,u,h,f;if(!t){for(a=0,o=i.data.datasets.length;a<o;++a)if(i.isDatasetVisible(a)){u=i.getDatasetMeta(a),t=u.data,h=u.controller;break}}if(!t)return 0;for(a=0,o=t.length;a<o;++a)f=h.resolveDataElementOptions(a),f.borderAlign!=="inner"&&(e=Math.max(e,f.borderWidth||0,f.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,a=t.length;i<a;++i){const o=this.resolveDataElementOptions(i);e=Math.max(e,o.offset||0,o.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(Dt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}ut(tr,"id","doughnut"),ut(tr,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),ut(tr,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),ut(tr,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:a}}=t.legend.options;return e.labels.map((o,u)=>{const f=t.getDatasetMeta(0).controller.getStyle(u);return{text:o,fillStyle:f.backgroundColor,strokeStyle:f.borderColor,fontColor:a,lineWidth:f.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(u),index:u}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}});class Oh extends ni{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:a=[],_dataset:o}=e,u=this.chart._animationsDisabled;let{start:h,count:f}=US(e,a,u);this._drawStart=h,this._drawCount=f,HS(e)&&(h=0,f=a.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=a;const g=this.resolveDatasetElementOptions(t);this.options.showLine||(g.borderWidth=0),g.segment=this.options.segment,this.updateElement(i,void 0,{animated:!u,options:g},t),this.updateElements(a,h,f,t)}updateElements(t,e,i,a){const o=a==="reset",{iScale:u,vScale:h,_stacked:f,_dataset:g}=this._cachedMeta,{sharedOptions:y,includeOptions:_}=this._getSharedOptions(e,a),b=u.axis,S=h.axis,{spanGaps:x,segment:D}=this.options,M=To(x)?x:Number.POSITIVE_INFINITY,z=this.chart._animationsDisabled||o||a==="none",H=e+i,K=t.length;let $=e>0&&this.getParsed(e-1);for(let G=0;G<K;++G){const nt=t[G],O=z?nt:{};if(G<e||G>=H){O.skip=!0;continue}const w=this.getParsed(G),C=kt(w[S]),N=O[b]=u.getPixelForValue(w[b],G),k=O[S]=o||C?h.getBasePixel():h.getPixelForValue(f?this.applyStack(h,w,f):w[S],G);O.skip=isNaN(N)||isNaN(k)||C,O.stop=G>0&&Math.abs(w[b]-$[b])>M,D&&(O.parsed=w,O.raw=g.data[G]),_&&(O.options=y||this.resolveDataElementOptions(G,nt.active?"active":a)),z||this.updateElement(nt,G,O,a),$=w}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,a=t.data||[];if(!a.length)return i;const o=a[0].size(this.resolveDataElementOptions(0)),u=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(i,o,u)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}ut(Oh,"id","line"),ut(Oh,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),ut(Oh,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class cu extends ni{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,a=i.data.labels||[],o=Vu(e._parsed[t].r,i.options.locale);return{label:a[t]||"",value:o}}parseObjectData(t,e,i,a){return KS.bind(this)(t,e,i,a)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((i,a)=>{const o=this.getParsed(a).r;!isNaN(o)&&this.chart.getDataVisibility(a)&&(o<e.min&&(e.min=o),o>e.max&&(e.max=o))}),e}_updateRadius(){const t=this.chart,e=t.chartArea,i=t.options,a=Math.min(e.right-e.left,e.bottom-e.top),o=Math.max(a/2,0),u=Math.max(i.cutoutPercentage?o/100*i.cutoutPercentage:1,0),h=(o-u)/t.getVisibleDatasetCount();this.outerRadius=o-h*this.index,this.innerRadius=this.outerRadius-h}updateElements(t,e,i,a){const o=a==="reset",u=this.chart,f=u.options.animation,g=this._cachedMeta.rScale,y=g.xCenter,_=g.yCenter,b=g.getIndexAngle(0)-.5*oe;let S=b,x;const D=360/this.countVisibleElements();for(x=0;x<e;++x)S+=this._computeAngle(x,a,D);for(x=e;x<e+i;x++){const M=t[x];let z=S,H=S+this._computeAngle(x,a,D),K=u.getDataVisibility(x)?g.getDistanceFromCenterForValue(this.getParsed(x).r):0;S=H,o&&(f.animateScale&&(K=0),f.animateRotate&&(z=H=b));const $={x:y,y:_,innerRadius:0,outerRadius:K,startAngle:z,endAngle:H,options:this.resolveDataElementOptions(x,M.active?"active":a)};this.updateElement(M,x,$,a)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach((i,a)=>{!isNaN(this.getParsed(a).r)&&this.chart.getDataVisibility(a)&&e++}),e}_computeAngle(t,e,i){return this.chart.getDataVisibility(t)?ei(this.resolveDataElementOptions(t,e).angle||i):0}}ut(cu,"id","polarArea"),ut(cu,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),ut(cu,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:a}}=t.legend.options;return e.labels.map((o,u)=>{const f=t.getDatasetMeta(0).controller.getStyle(u);return{text:o,fillStyle:f.backgroundColor,strokeStyle:f.borderColor,fontColor:a,lineWidth:f.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(u),index:u}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class Om extends tr{}ut(Om,"id","pie"),ut(Om,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Ih extends ni{getLabelAndValue(t){const e=this._cachedMeta.vScale,i=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(i[e.axis])}}parseObjectData(t,e,i,a){return KS.bind(this)(t,e,i,a)}update(t){const e=this._cachedMeta,i=e.dataset,a=e.data||[],o=e.iScale.getLabels();if(i.points=a,t!=="resize"){const u=this.resolveDatasetElementOptions(t);this.options.showLine||(u.borderWidth=0);const h={_loop:!0,_fullLoop:o.length===a.length,options:u};this.updateElement(i,void 0,h,t)}this.updateElements(a,0,a.length,t)}updateElements(t,e,i,a){const o=this._cachedMeta.rScale,u=a==="reset";for(let h=e;h<e+i;h++){const f=t[h],g=this.resolveDataElementOptions(h,f.active?"active":a),y=o.getPointPositionForValue(h,this.getParsed(h).r),_=u?o.xCenter:y.x,b=u?o.yCenter:y.y,S={x:_,y:b,angle:y.angle,skip:isNaN(_)||isNaN(b),options:g};this.updateElement(f,h,S,a)}}}ut(Ih,"id","radar"),ut(Ih,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),ut(Ih,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Vh extends ni{getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:a,yScale:o}=e,u=this.getParsed(t),h=a.getLabelForValue(u.x),f=o.getLabelForValue(u.y);return{label:i[t]||"",value:"("+h+", "+f+")"}}update(t){const e=this._cachedMeta,{data:i=[]}=e,a=this.chart._animationsDisabled;let{start:o,count:u}=US(e,i,a);if(this._drawStart=o,this._drawCount=u,HS(e)&&(o=0,u=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:h,_dataset:f}=e;h._chart=this.chart,h._datasetIndex=this.index,h._decimated=!!f._decimated,h.points=i;const g=this.resolveDatasetElementOptions(t);g.segment=this.options.segment,this.updateElement(h,void 0,{animated:!a,options:g},t)}else this.datasetElementType&&(delete e.dataset,this.datasetElementType=!1);this.updateElements(i,o,u,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,i,a){const o=a==="reset",{iScale:u,vScale:h,_stacked:f,_dataset:g}=this._cachedMeta,y=this.resolveDataElementOptions(e,a),_=this.getSharedOptions(y),b=this.includeOptions(a,_),S=u.axis,x=h.axis,{spanGaps:D,segment:M}=this.options,z=To(D)?D:Number.POSITIVE_INFINITY,H=this.chart._animationsDisabled||o||a==="none";let K=e>0&&this.getParsed(e-1);for(let $=e;$<e+i;++$){const G=t[$],nt=this.getParsed($),O=H?G:{},w=kt(nt[x]),C=O[S]=u.getPixelForValue(nt[S],$),N=O[x]=o||w?h.getBasePixel():h.getPixelForValue(f?this.applyStack(h,nt,f):nt[x],$);O.skip=isNaN(C)||isNaN(N)||w,O.stop=$>0&&Math.abs(nt[S]-K[S])>z,M&&(O.parsed=nt,O.raw=g.data[$]),b&&(O.options=_||this.resolveDataElementOptions($,G.active?"active":a)),H||this.updateElement(G,$,O,a),K=nt}this.updateSharedOptions(_,a,y)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let h=0;for(let f=e.length-1;f>=0;--f)h=Math.max(h,e[f].size(this.resolveDataElementOptions(f))/2);return h>0&&h}const i=t.dataset,a=i.options&&i.options.borderWidth||0;if(!e.length)return a;const o=e[0].size(this.resolveDataElementOptions(0)),u=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(a,o,u)/2}}ut(Vh,"id","scatter"),ut(Vh,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),ut(Vh,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var yO=Object.freeze({__proto__:null,BarController:Mh,BubbleController:Ch,DoughnutController:tr,LineController:Oh,PieController:Om,PolarAreaController:cu,RadarController:Ih,ScatterController:Vh});function Xa(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class kp{constructor(t){ut(this,"options");this.options=t||{}}static override(t){Object.assign(kp.prototype,t)}init(){}formats(){return Xa()}parse(){return Xa()}format(){return Xa()}add(){return Xa()}diff(){return Xa()}startOf(){return Xa()}endOf(){return Xa()}}var _O={_date:kp};function vO(n,t,e,i){const{controller:a,data:o,_sorted:u}=n,h=a._cachedMeta.iScale,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(h&&t===h.axis&&t!=="r"&&u&&o.length){const g=h._reversePixels?HM:os;if(i){if(a._sharedOptions){const y=o[0],_=typeof y.getRange=="function"&&y.getRange(t);if(_){const b=g(o,t,e-_),S=g(o,t,e+_);return{lo:b.lo,hi:S.hi}}}}else{const y=g(o,t,e);if(f){const{vScale:_}=a._cachedMeta,{_parsed:b}=n,S=b.slice(0,y.lo+1).reverse().findIndex(D=>!kt(D[_.axis]));y.lo-=Math.max(0,S);const x=b.slice(y.hi).findIndex(D=>!kt(D[_.axis]));y.hi+=Math.max(0,x)}return y}}return{lo:0,hi:o.length-1}}function Df(n,t,e,i,a){const o=n.getSortedVisibleDatasetMetas(),u=e[t];for(let h=0,f=o.length;h<f;++h){const{index:g,data:y}=o[h],{lo:_,hi:b}=vO(o[h],t,u,a);for(let S=_;S<=b;++S){const x=y[S];x.skip||i(x,g,S)}}}function bO(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,a){const o=t?Math.abs(i.x-a.x):0,u=e?Math.abs(i.y-a.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(u,2))}}function Jg(n,t,e,i,a){const o=[];return!a&&!n.isPointInArea(t)||Df(n,e,t,function(h,f,g){!a&&!ls(h,n.chartArea,0)||h.inRange(t.x,t.y,i)&&o.push({element:h,datasetIndex:f,index:g})},!0),o}function EO(n,t,e,i){let a=[];function o(u,h,f){const{startAngle:g,endAngle:y}=u.getProps(["startAngle","endAngle"],i),{angle:_}=kS(u,{x:t.x,y:t.y});Su(_,g,y)&&a.push({element:u,datasetIndex:h,index:f})}return Df(n,e,t,o),a}function TO(n,t,e,i,a,o){let u=[];const h=bO(e);let f=Number.POSITIVE_INFINITY;function g(y,_,b){const S=y.inRange(t.x,t.y,a);if(i&&!S)return;const x=y.getCenterPoint(a);if(!(!!o||n.isPointInArea(x))&&!S)return;const M=h(t,x);M<f?(u=[{element:y,datasetIndex:_,index:b}],f=M):M===f&&u.push({element:y,datasetIndex:_,index:b})}return Df(n,e,t,g),u}function tm(n,t,e,i,a,o){return!o&&!n.isPointInArea(t)?[]:e==="r"&&!i?EO(n,t,e,a):TO(n,t,e,i,a,o)}function Gb(n,t,e,i,a){const o=[],u=e==="x"?"inXRange":"inYRange";let h=!1;return Df(n,e,t,(f,g,y)=>{f[u]&&f[u](t[e],a)&&(o.push({element:f,datasetIndex:g,index:y}),h=h||f.inRange(t.x,t.y,a))}),i&&!h?[]:o}var SO={modes:{index(n,t,e,i){const a=$a(t,n),o=e.axis||"x",u=e.includeInvisible||!1,h=e.intersect?Jg(n,a,o,i,u):tm(n,a,o,!1,i,u),f=[];return h.length?(n.getSortedVisibleDatasetMetas().forEach(g=>{const y=h[0].index,_=g.data[y];_&&!_.skip&&f.push({element:_,datasetIndex:g.index,index:y})}),f):[]},dataset(n,t,e,i){const a=$a(t,n),o=e.axis||"xy",u=e.includeInvisible||!1;let h=e.intersect?Jg(n,a,o,i,u):tm(n,a,o,!1,i,u);if(h.length>0){const f=h[0].datasetIndex,g=n.getDatasetMeta(f).data;h=[];for(let y=0;y<g.length;++y)h.push({element:g[y],datasetIndex:f,index:y})}return h},point(n,t,e,i){const a=$a(t,n),o=e.axis||"xy",u=e.includeInvisible||!1;return Jg(n,a,o,i,u)},nearest(n,t,e,i){const a=$a(t,n),o=e.axis||"xy",u=e.includeInvisible||!1;return tm(n,a,o,e.intersect,i,u)},x(n,t,e,i){const a=$a(t,n);return Gb(n,a,"x",e.intersect,i)},y(n,t,e,i){const a=$a(t,n);return Gb(n,a,"y",e.intersect,i)}}};const rA=["left","top","right","bottom"];function jl(n,t){return n.filter(e=>e.pos===t)}function Yb(n,t){return n.filter(e=>rA.indexOf(e.pos)===-1&&e.box.axis===t)}function Fl(n,t){return n.sort((e,i)=>{const a=t?i:e,o=t?e:i;return a.weight===o.weight?a.index-o.index:a.weight-o.weight})}function AO(n){const t=[];let e,i,a,o,u,h;for(e=0,i=(n||[]).length;e<i;++e)a=n[e],{position:o,options:{stack:u,stackWeight:h=1}}=a,t.push({index:e,box:a,pos:o,horizontal:a.isHorizontal(),weight:a.weight,stack:u&&o+u,stackWeight:h});return t}function xO(n){const t={};for(const e of n){const{stack:i,pos:a,stackWeight:o}=e;if(!i||!rA.includes(a))continue;const u=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});u.count++,u.weight+=o}return t}function wO(n,t){const e=xO(n),{vBoxMaxWidth:i,hBoxMaxHeight:a}=t;let o,u,h;for(o=0,u=n.length;o<u;++o){h=n[o];const{fullSize:f}=h.box,g=e[h.stack],y=g&&h.stackWeight/g.weight;h.horizontal?(h.width=y?y*i:f&&t.availableWidth,h.height=a):(h.width=i,h.height=y?y*a:f&&t.availableHeight)}return e}function RO(n){const t=AO(n),e=Fl(t.filter(g=>g.box.fullSize),!0),i=Fl(jl(t,"left"),!0),a=Fl(jl(t,"right")),o=Fl(jl(t,"top"),!0),u=Fl(jl(t,"bottom")),h=Yb(t,"x"),f=Yb(t,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:a.concat(f).concat(u).concat(h),chartArea:jl(t,"chartArea"),vertical:i.concat(a).concat(f),horizontal:o.concat(u).concat(h)}}function Qb(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function oA(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function DO(n,t,e,i){const{pos:a,box:o}=e,u=n.maxPadding;if(!Lt(a)){e.size&&(n[a]-=e.size);const _=i[e.stack]||{size:0,count:1};_.size=Math.max(_.size,e.horizontal?o.height:o.width),e.size=_.size/_.count,n[a]+=e.size}o.getPadding&&oA(u,o.getPadding());const h=Math.max(0,t.outerWidth-Qb(u,n,"left","right")),f=Math.max(0,t.outerHeight-Qb(u,n,"top","bottom")),g=h!==n.w,y=f!==n.h;return n.w=h,n.h=f,e.horizontal?{same:g,other:y}:{same:y,other:g}}function MO(n){const t=n.maxPadding;function e(i){const a=Math.max(t[i]-n[i],0);return n[i]+=a,a}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function CO(n,t){const e=t.maxPadding;function i(a){const o={left:0,top:0,right:0,bottom:0};return a.forEach(u=>{o[u]=Math.max(t[u],e[u])}),o}return i(n?["left","right"]:["top","bottom"])}function Zl(n,t,e,i){const a=[];let o,u,h,f,g,y;for(o=0,u=n.length,g=0;o<u;++o){h=n[o],f=h.box,f.update(h.width||t.w,h.height||t.h,CO(h.horizontal,t));const{same:_,other:b}=DO(t,e,h,i);g|=_&&a.length,y=y||b,f.fullSize||a.push(h)}return g&&Zl(a,t,e,i)||y}function ph(n,t,e,i,a){n.top=e,n.left=t,n.right=t+i,n.bottom=e+a,n.width=i,n.height=a}function Xb(n,t,e,i){const a=e.padding;let{x:o,y:u}=t;for(const h of n){const f=h.box,g=i[h.stack]||{placed:0,weight:1},y=h.stackWeight/g.weight||1;if(h.horizontal){const _=t.w*y,b=g.size||f.height;Tu(g.start)&&(u=g.start),f.fullSize?ph(f,a.left,u,e.outerWidth-a.right-a.left,b):ph(f,t.left+g.placed,u,_,b),g.start=u,g.placed+=_,u=f.bottom}else{const _=t.h*y,b=g.size||f.width;Tu(g.start)&&(o=g.start),f.fullSize?ph(f,o,a.top,b,e.outerHeight-a.bottom-a.top):ph(f,o,t.top+g.placed,b,_),g.start=o,g.placed+=_,o=f.right}}t.x=o,t.y=u}var ln={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const a=un(n.options.layout.padding),o=Math.max(t-a.width,0),u=Math.max(e-a.height,0),h=RO(n.boxes),f=h.vertical,g=h.horizontal;$t(n.boxes,D=>{typeof D.beforeLayout=="function"&&D.beforeLayout()});const y=f.reduce((D,M)=>M.box.options&&M.box.options.display===!1?D:D+1,0)||1,_=Object.freeze({outerWidth:t,outerHeight:e,padding:a,availableWidth:o,availableHeight:u,vBoxMaxWidth:o/2/y,hBoxMaxHeight:u/2}),b=Object.assign({},a);oA(b,un(i));const S=Object.assign({maxPadding:b,w:o,h:u,x:a.left,y:a.top},a),x=wO(f.concat(g),_);Zl(h.fullSize,S,_,x),Zl(f,S,_,x),Zl(g,S,_,x)&&Zl(f,S,_,x),MO(S),Xb(h.leftAndTop,S,_,x),S.x+=S.w,S.y+=S.h,Xb(h.rightAndBottom,S,_,x),n.chartArea={left:S.left,top:S.top,right:S.left+S.w,bottom:S.top+S.h,height:S.h,width:S.w},$t(h.chartArea,D=>{const M=D.box;Object.assign(M,n.chartArea),M.update(S.w,S.h,{left:0,top:0,right:0,bottom:0})})}};class lA{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,a){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,a?Math.floor(e/a):i)}}isAttached(t){return!0}updateConfig(t){}}class OO extends lA{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Nh="$chartjs",IO={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Kb=n=>n===null||n==="";function VO(n,t){const e=n.style,i=n.getAttribute("height"),a=n.getAttribute("width");if(n[Nh]={initial:{height:i,width:a,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",Kb(a)){const o=Ib(n,"width");o!==void 0&&(n.width=o)}if(Kb(i))if(n.style.height==="")n.height=n.width/(t||2);else{const o=Ib(n,"height");o!==void 0&&(n.height=o)}return n}const uA=NC?{passive:!0}:!1;function NO(n,t,e){n&&n.addEventListener(t,e,uA)}function kO(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,uA)}function PO(n,t){const e=IO[n.type]||n.type,{x:i,y:a}=$a(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:a!==void 0?a:null}}function rf(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function LO(n,t,e){const i=n.canvas,a=new MutationObserver(o=>{let u=!1;for(const h of o)u=u||rf(h.addedNodes,i),u=u&&!rf(h.removedNodes,i);u&&e()});return a.observe(document,{childList:!0,subtree:!0}),a}function zO(n,t,e){const i=n.canvas,a=new MutationObserver(o=>{let u=!1;for(const h of o)u=u||rf(h.removedNodes,i),u=u&&!rf(h.addedNodes,i);u&&e()});return a.observe(document,{childList:!0,subtree:!0}),a}const xu=new Map;let Wb=0;function cA(){const n=window.devicePixelRatio;n!==Wb&&(Wb=n,xu.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function BO(n,t){xu.size||window.addEventListener("resize",cA),xu.set(n,t)}function UO(n){xu.delete(n),xu.size||window.removeEventListener("resize",cA)}function HO(n,t,e){const i=n.canvas,a=i&&Np(i);if(!a)return;const o=BS((h,f)=>{const g=a.clientWidth;e(h,f),g<a.clientWidth&&e()},window),u=new ResizeObserver(h=>{const f=h[0],g=f.contentRect.width,y=f.contentRect.height;g===0&&y===0||o(g,y)});return u.observe(a),BO(n,o),u}function em(n,t,e){e&&e.disconnect(),t==="resize"&&UO(n)}function jO(n,t,e){const i=n.canvas,a=BS(o=>{n.ctx!==null&&e(PO(o,n))},n);return NO(i,t,a),a}class FO extends lA{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(VO(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[Nh])return!1;const i=e[Nh].initial;["height","width"].forEach(o=>{const u=i[o];kt(u)?e.removeAttribute(o):e.setAttribute(o,u)});const a=i.style||{};return Object.keys(a).forEach(o=>{e.style[o]=a[o]}),e.width=e.width,delete e[Nh],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const a=t.$proxies||(t.$proxies={}),u={attach:LO,detach:zO,resize:HO}[e]||jO;a[e]=u(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),a=i[e];if(!a)return;({attach:em,detach:em,resize:em}[e]||kO)(t,e,a),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,a){return VC(t,e,i,a)}isAttached(t){const e=t&&Np(t);return!!(e&&e.isConnected)}}function qO(n){return!Vp()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?OO:FO}class ii{constructor(){ut(this,"x");ut(this,"y");ut(this,"active",!1);ut(this,"options");ut(this,"$animations")}tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return To(this.x)&&To(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const a={};return t.forEach(o=>{a[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),a}}ut(ii,"defaults",{}),ut(ii,"defaultRoutes");function GO(n,t){const e=n.options.ticks,i=YO(n),a=Math.min(e.maxTicksLimit||i,i),o=e.major.enabled?XO(t):[],u=o.length,h=o[0],f=o[u-1],g=[];if(u>a)return KO(t,g,o,u/a),g;const y=QO(o,t,a);if(u>0){let _,b;const S=u>1?Math.round((f-h)/(u-1)):null;for(yh(t,g,y,kt(S)?0:h-S,h),_=0,b=u-1;_<b;_++)yh(t,g,y,o[_],o[_+1]);return yh(t,g,y,f,kt(S)?t.length:f+S),g}return yh(t,g,y),g}function YO(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),a=n._maxLength/e;return Math.floor(Math.min(i,a))}function QO(n,t,e){const i=WO(n),a=t.length/e;if(!i)return Math.max(a,1);const o=PM(i);for(let u=0,h=o.length-1;u<h;u++){const f=o[u];if(f>a)return f}return Math.max(a,1)}function XO(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function KO(n,t,e,i){let a=0,o=e[0],u;for(i=Math.ceil(i),u=0;u<n.length;u++)u===o&&(t.push(n[u]),a++,o=e[a*i])}function yh(n,t,e,i,a){const o=Dt(i,0),u=Math.min(Dt(a,n.length),n.length);let h=0,f,g,y;for(e=Math.ceil(e),a&&(f=a-i,e=f/Math.floor(f/e)),y=o;y<0;)h++,y=Math.round(o+h*e);for(g=Math.max(o,0);g<u;g++)g===y&&(t.push(n[g]),h++,y=Math.round(o+h*e))}function WO(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const $O=n=>n==="left"?"right":n==="right"?"left":n,$b=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,Zb=(n,t)=>Math.min(t||n,n);function Jb(n,t){const e=[],i=n.length/t,a=n.length;let o=0;for(;o<a;o+=i)e.push(n[Math.floor(o)]);return e}function ZO(n,t,e){const i=n.ticks.length,a=Math.min(t,i-1),o=n._startPixel,u=n._endPixel,h=1e-6;let f=n.getPixelForTick(a),g;if(!(e&&(i===1?g=Math.max(f-o,u-f):t===0?g=(n.getPixelForTick(1)-f)/2:g=(f-n.getPixelForTick(a-1))/2,f+=a<t?g:-g,f<o-h||f>u+h)))return f}function JO(n,t){$t(n,e=>{const i=e.gc,a=i.length/2;let o;if(a>t){for(o=0;o<a;++o)delete e.data[i[o]];i.splice(0,a)}})}function ql(n){return n.drawTicks?n.tickLength:0}function tE(n,t){if(!n.display)return 0;const e=ke(n.font,t),i=un(n.padding);return(he(n.text)?n.text.length:1)*e.lineHeight+i.height}function tI(n,t){return la(n,{scale:t,type:"scale"})}function eI(n,t,e){return la(n,{tick:e,index:t,type:"tick"})}function nI(n,t,e){let i=Rp(n);return(e&&t!=="right"||!e&&t==="right")&&(i=$O(i)),i}function iI(n,t,e,i){const{top:a,left:o,bottom:u,right:h,chart:f}=n,{chartArea:g,scales:y}=f;let _=0,b,S,x;const D=u-a,M=h-o;if(n.isHorizontal()){if(S=an(i,o,h),Lt(e)){const z=Object.keys(e)[0],H=e[z];x=y[z].getPixelForValue(H)+D-t}else e==="center"?x=(g.bottom+g.top)/2+D-t:x=$b(n,e,t);b=h-o}else{if(Lt(e)){const z=Object.keys(e)[0],H=e[z];S=y[z].getPixelForValue(H)-M+t}else e==="center"?S=(g.left+g.right)/2-M+t:S=$b(n,e,t);x=an(i,u,a),_=e==="left"?-Se:Se}return{titleX:S,titleY:x,maxWidth:b,rotation:_}}class hr extends ii{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:a}=this;return t=Cn(t,Number.POSITIVE_INFINITY),e=Cn(e,Number.NEGATIVE_INFINITY),i=Cn(i,Number.POSITIVE_INFINITY),a=Cn(a,Number.NEGATIVE_INFINITY),{min:Cn(t,i),max:Cn(e,a),minDefined:_e(t),maxDefined:_e(e)}}getMinMax(t){let{min:e,max:i,minDefined:a,maxDefined:o}=this.getUserBounds(),u;if(a&&o)return{min:e,max:i};const h=this.getMatchingVisibleMetas();for(let f=0,g=h.length;f<g;++f)u=h[f].controller.getMinMax(this,t),a||(e=Math.min(e,u.min)),o||(i=Math.max(i,u.max));return e=o&&e>i?i:e,i=a&&e>i?e:i,{min:Cn(e,Cn(i,e)),max:Cn(i,Cn(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ae(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:a,grace:o,ticks:u}=this.options,h=u.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=hC(this,o,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=h<this.ticks.length;this._convertTicksToLabels(f?Jb(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),u.display&&(u.autoSkip||u.source==="auto")&&(this.ticks=GO(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ae(this.options.afterUpdate,[this])}beforeSetDimensions(){ae(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ae(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),ae(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ae(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,a,o;for(i=0,a=t.length;i<a;i++)o=t[i],o.label=ae(e.callback,[o.value,i,t],this)}afterTickToLabelConversion(){ae(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ae(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=Zb(this.ticks.length,t.ticks.maxTicksLimit),a=e.minRotation||0,o=e.maxRotation;let u=a,h,f,g;if(!this._isVisible()||!e.display||a>=o||i<=1||!this.isHorizontal()){this.labelRotation=a;return}const y=this._getLabelSizes(),_=y.widest.width,b=y.highest.height,S=Ge(this.chart.width-_,0,this.maxWidth);h=t.offset?this.maxWidth/i:S/(i-1),_+6>h&&(h=S/(i-(t.offset?.5:1)),f=this.maxHeight-ql(t.grid)-e.padding-tE(t.title,this.chart.options.font),g=Math.sqrt(_*_+b*b),u=xp(Math.min(Math.asin(Ge((y.highest.height+6)/h,-1,1)),Math.asin(Ge(f/g,-1,1))-Math.asin(Ge(b/g,-1,1)))),u=Math.max(a,Math.min(o,u))),this.labelRotation=u}afterCalculateLabelRotation(){ae(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ae(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:a,grid:o}}=this,u=this._isVisible(),h=this.isHorizontal();if(u){const f=tE(a,e.options.font);if(h?(t.width=this.maxWidth,t.height=ql(o)+f):(t.height=this.maxHeight,t.width=ql(o)+f),i.display&&this.ticks.length){const{first:g,last:y,widest:_,highest:b}=this._getLabelSizes(),S=i.padding*2,x=ei(this.labelRotation),D=Math.cos(x),M=Math.sin(x);if(h){const z=i.mirror?0:M*_.width+D*b.height;t.height=Math.min(this.maxHeight,t.height+z+S)}else{const z=i.mirror?0:D*_.width+M*b.height;t.width=Math.min(this.maxWidth,t.width+z+S)}this._calculatePadding(g,y,M,D)}}this._handleMargins(),h?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,a){const{ticks:{align:o,padding:u},position:h}=this.options,f=this.labelRotation!==0,g=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const y=this.getPixelForTick(0)-this.left,_=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,S=0;f?g?(b=a*t.width,S=i*e.height):(b=i*t.height,S=a*e.width):o==="start"?S=e.width:o==="end"?b=t.width:o!=="inner"&&(b=t.width/2,S=e.width/2),this.paddingLeft=Math.max((b-y+u)*this.width/(this.width-y),0),this.paddingRight=Math.max((S-_+u)*this.width/(this.width-_),0)}else{let y=e.height/2,_=t.height/2;o==="start"?(y=0,_=t.height):o==="end"&&(y=e.height,_=0),this.paddingTop=y+u,this.paddingBottom=_+u}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ae(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)kt(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=Jb(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:a,_longestTextCache:o}=this,u=[],h=[],f=Math.floor(e/Zb(e,i));let g=0,y=0,_,b,S,x,D,M,z,H,K,$,G;for(_=0;_<e;_+=f){if(x=t[_].label,D=this._resolveTickFontOptions(_),a.font=M=D.string,z=o[M]=o[M]||{data:{},gc:[]},H=D.lineHeight,K=$=0,!kt(x)&&!he(x))K=sf(a,z.data,z.gc,K,x),$=H;else if(he(x))for(b=0,S=x.length;b<S;++b)G=x[b],!kt(G)&&!he(G)&&(K=sf(a,z.data,z.gc,K,G),$+=H);u.push(K),h.push($),g=Math.max(K,g),y=Math.max($,y)}JO(o,e);const nt=u.indexOf(g),O=h.indexOf(y),w=C=>({width:u[C]||0,height:h[C]||0});return{first:w(0),last:w(e-1),widest:w(nt),highest:w(O),widths:u,heights:h}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return UM(this._alignToPixels?Qa(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=eI(this.getContext(),t,i))}return this.$context||(this.$context=tI(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=ei(this.labelRotation),i=Math.abs(Math.cos(e)),a=Math.abs(Math.sin(e)),o=this._getLabelSizes(),u=t.autoSkipPadding||0,h=o?o.widest.width+u:0,f=o?o.highest.height+u:0;return this.isHorizontal()?f*i>h*a?h/i:f/a:f*a<h*i?f/i:h/a}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,a=this.options,{grid:o,position:u,border:h}=a,f=o.offset,g=this.isHorizontal(),_=this.ticks.length+(f?1:0),b=ql(o),S=[],x=h.setContext(this.getContext()),D=x.display?x.width:0,M=D/2,z=function(X){return Qa(i,X,D)};let H,K,$,G,nt,O,w,C,N,k,L,I;if(u==="top")H=z(this.bottom),O=this.bottom-b,C=H-M,k=z(t.top)+M,I=t.bottom;else if(u==="bottom")H=z(this.top),k=t.top,I=z(t.bottom)-M,O=H+M,C=this.top+b;else if(u==="left")H=z(this.right),nt=this.right-b,w=H-M,N=z(t.left)+M,L=t.right;else if(u==="right")H=z(this.left),N=t.left,L=z(t.right)-M,nt=H+M,w=this.left+b;else if(e==="x"){if(u==="center")H=z((t.top+t.bottom)/2+.5);else if(Lt(u)){const X=Object.keys(u)[0],st=u[X];H=z(this.chart.scales[X].getPixelForValue(st))}k=t.top,I=t.bottom,O=H+M,C=O+b}else if(e==="y"){if(u==="center")H=z((t.left+t.right)/2);else if(Lt(u)){const X=Object.keys(u)[0],st=u[X];H=z(this.chart.scales[X].getPixelForValue(st))}nt=H-M,w=nt-b,N=t.left,L=t.right}const qt=Dt(a.ticks.maxTicksLimit,_),_t=Math.max(1,Math.ceil(_/qt));for(K=0;K<_;K+=_t){const X=this.getContext(K),st=o.setContext(X),ht=h.setContext(X),St=st.lineWidth,P=st.color,it=ht.dash||[],lt=ht.dashOffset,rt=st.tickWidth,dt=st.tickColor,wt=st.tickBorderDash||[],pt=st.tickBorderDashOffset;$=ZO(this,K,f),$!==void 0&&(G=Qa(i,$,St),g?nt=w=N=L=G:O=C=k=I=G,S.push({tx1:nt,ty1:O,tx2:w,ty2:C,x1:N,y1:k,x2:L,y2:I,width:St,color:P,borderDash:it,borderDashOffset:lt,tickWidth:rt,tickColor:dt,tickBorderDash:wt,tickBorderDashOffset:pt}))}return this._ticksLength=_,this._borderValue=H,S}_computeLabelItems(t){const e=this.axis,i=this.options,{position:a,ticks:o}=i,u=this.isHorizontal(),h=this.ticks,{align:f,crossAlign:g,padding:y,mirror:_}=o,b=ql(i.grid),S=b+y,x=_?-y:S,D=-ei(this.labelRotation),M=[];let z,H,K,$,G,nt,O,w,C,N,k,L,I="middle";if(a==="top")nt=this.bottom-x,O=this._getXAxisLabelAlignment();else if(a==="bottom")nt=this.top+x,O=this._getXAxisLabelAlignment();else if(a==="left"){const _t=this._getYAxisLabelAlignment(b);O=_t.textAlign,G=_t.x}else if(a==="right"){const _t=this._getYAxisLabelAlignment(b);O=_t.textAlign,G=_t.x}else if(e==="x"){if(a==="center")nt=(t.top+t.bottom)/2+S;else if(Lt(a)){const _t=Object.keys(a)[0],X=a[_t];nt=this.chart.scales[_t].getPixelForValue(X)+S}O=this._getXAxisLabelAlignment()}else if(e==="y"){if(a==="center")G=(t.left+t.right)/2-S;else if(Lt(a)){const _t=Object.keys(a)[0],X=a[_t];G=this.chart.scales[_t].getPixelForValue(X)}O=this._getYAxisLabelAlignment(b).textAlign}e==="y"&&(f==="start"?I="top":f==="end"&&(I="bottom"));const qt=this._getLabelSizes();for(z=0,H=h.length;z<H;++z){K=h[z],$=K.label;const _t=o.setContext(this.getContext(z));w=this.getPixelForTick(z)+o.labelOffset,C=this._resolveTickFontOptions(z),N=C.lineHeight,k=he($)?$.length:1;const X=k/2,st=_t.color,ht=_t.textStrokeColor,St=_t.textStrokeWidth;let P=O;u?(G=w,O==="inner"&&(z===H-1?P=this.options.reverse?"left":"right":z===0?P=this.options.reverse?"right":"left":P="center"),a==="top"?g==="near"||D!==0?L=-k*N+N/2:g==="center"?L=-qt.highest.height/2-X*N+N:L=-qt.highest.height+N/2:g==="near"||D!==0?L=N/2:g==="center"?L=qt.highest.height/2-X*N:L=qt.highest.height-k*N,_&&(L*=-1),D!==0&&!_t.showLabelBackdrop&&(G+=N/2*Math.sin(D))):(nt=w,L=(1-k)*N/2);let it;if(_t.showLabelBackdrop){const lt=un(_t.backdropPadding),rt=qt.heights[z],dt=qt.widths[z];let wt=L-lt.top,pt=0-lt.left;switch(I){case"middle":wt-=rt/2;break;case"bottom":wt-=rt;break}switch(O){case"center":pt-=dt/2;break;case"right":pt-=dt;break;case"inner":z===H-1?pt-=dt:z>0&&(pt-=dt/2);break}it={left:pt,top:wt,width:dt+lt.width,height:rt+lt.height,color:_t.backdropColor}}M.push({label:$,font:C,textOffset:L,options:{rotation:D,color:st,strokeColor:ht,strokeWidth:St,textAlign:P,textBaseline:I,translation:[G,nt],backdrop:it}})}return M}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-ei(this.labelRotation))return t==="top"?"left":"right";let a="center";return e.align==="start"?a="left":e.align==="end"?a="right":e.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:a,padding:o}}=this.options,u=this._getLabelSizes(),h=t+o,f=u.widest.width;let g,y;return e==="left"?a?(y=this.right+o,i==="near"?g="left":i==="center"?(g="center",y+=f/2):(g="right",y+=f)):(y=this.right-h,i==="near"?g="right":i==="center"?(g="center",y-=f/2):(g="left",y=this.left)):e==="right"?a?(y=this.left+o,i==="near"?g="right":i==="center"?(g="center",y-=f/2):(g="left",y-=f)):(y=this.left+h,i==="near"?g="left":i==="center"?(g="center",y+=f/2):(g="right",y=this.right)):g="right",{textAlign:g,x:y}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:a,width:o,height:u}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,a,o,u),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const a=this.ticks.findIndex(o=>o.value===t);return a>=0?e.setContext(this.getContext(a)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,u;const h=(f,g,y)=>{!y.width||!y.color||(i.save(),i.lineWidth=y.width,i.strokeStyle=y.color,i.setLineDash(y.borderDash||[]),i.lineDashOffset=y.borderDashOffset,i.beginPath(),i.moveTo(f.x,f.y),i.lineTo(g.x,g.y),i.stroke(),i.restore())};if(e.display)for(o=0,u=a.length;o<u;++o){const f=a[o];e.drawOnChartArea&&h({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),e.drawTicks&&h({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:a}}=this,o=i.setContext(this.getContext()),u=i.display?o.width:0;if(!u)return;const h=a.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let g,y,_,b;this.isHorizontal()?(g=Qa(t,this.left,u)-u/2,y=Qa(t,this.right,h)+h/2,_=b=f):(_=Qa(t,this.top,u)-u/2,b=Qa(t,this.bottom,h)+h/2,g=y=f),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(g,_),e.lineTo(y,b),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,a=this._computeLabelArea();a&&xf(i,a);const o=this.getLabelItems(t);for(const u of o){const h=u.options,f=u.font,g=u.label,y=u.textOffset;rr(i,g,0,y,f,h)}a&&wf(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:a}}=this;if(!i.display)return;const o=ke(i.font),u=un(i.padding),h=i.align;let f=o.lineHeight/2;e==="bottom"||e==="center"||Lt(e)?(f+=u.bottom,he(i.text)&&(f+=o.lineHeight*(i.text.length-1))):f+=u.top;const{titleX:g,titleY:y,maxWidth:_,rotation:b}=iI(this,f,e,h);rr(t,i.text,0,0,o,{color:i.color,maxWidth:_,rotation:b,textAlign:nI(h,e,a),textBaseline:"middle",translation:[g,y]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=Dt(t.grid&&t.grid.z,-1),a=Dt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==hr.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",a=[];let o,u;for(o=0,u=e.length;o<u;++o){const h=e[o];h[i]===this.id&&(!t||h.type===t)&&a.push(h)}return a}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return ke(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class _h{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;rI(e)&&(i=this.register(e));const a=this.items,o=t.id,u=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in a||(a[o]=t,sI(t,u,i),this.override&&fe.override(t.id,t.overrides)),u}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,a=this.scope;i in e&&delete e[i],a&&i in fe[a]&&(delete fe[a][i],this.override&&delete ar[i])}}function sI(n,t,e){const i=Eu(Object.create(null),[e?fe.get(e):{},fe.get(t),n.defaults]);fe.set(t,i),n.defaultRoutes&&aI(t,n.defaultRoutes),n.descriptors&&fe.describe(t,n.descriptors)}function aI(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),a=i.pop(),o=[n].concat(i).join("."),u=t[e].split("."),h=u.pop(),f=u.join(".");fe.route(o,a,f,h)})}function rI(n){return"id"in n&&"defaults"in n}class oI{constructor(){this.controllers=new _h(ni,"datasets",!0),this.elements=new _h(ii,"elements"),this.plugins=new _h(Object,"plugins"),this.scales=new _h(hr,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(a=>{const o=i||this._getRegistryForType(a);i||o.isForType(a)||o===this.plugins&&a.id?this._exec(t,o,a):$t(a,u=>{const h=i||this._getRegistryForType(u);this._exec(t,h,u)})})}_exec(t,e,i){const a=Ap(t);ae(i["before"+a],[],i),e[t](i),ae(i["after"+a],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const a=e.get(t);if(a===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return a}}var Ti=new oI;class lI{constructor(){this._init=[]}notify(t,e,i,a){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=a?this._descriptors(t).filter(a):this._descriptors(t),u=this._notify(o,t,e,i);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),u}_notify(t,e,i,a){a=a||{};for(const o of t){const u=o.plugin,h=u[i],f=[e,a,o.options];if(ae(h,f,u)===!1&&a.cancelable)return!1}return!0}invalidate(){kt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,a=Dt(i.options&&i.options.plugins,{}),o=uI(i);return a===!1&&!e?[]:hI(t,o,a,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,a=(o,u)=>o.filter(h=>!u.some(f=>h.plugin.id===f.plugin.id));this._notify(a(e,i),t,"stop"),this._notify(a(i,e),t,"start")}}function uI(n){const t={},e=[],i=Object.keys(Ti.plugins.items);for(let o=0;o<i.length;o++)e.push(Ti.getPlugin(i[o]));const a=n.plugins||[];for(let o=0;o<a.length;o++){const u=a[o];e.indexOf(u)===-1&&(e.push(u),t[u.id]=!0)}return{plugins:e,localIds:t}}function cI(n,t){return!t&&n===!1?null:n===!0?{}:n}function hI(n,{plugins:t,localIds:e},i,a){const o=[],u=n.getContext();for(const h of t){const f=h.id,g=cI(i[f],a);g!==null&&o.push({plugin:h,options:fI(n.config,{plugin:h,local:e[f]},g,u)})}return o}function fI(n,{plugin:t,local:e},i,a){const o=n.pluginScopeKeys(t),u=n.getOptionScopes(i,o);return e&&t.defaults&&u.push(t.defaults),n.createResolver(u,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Im(n,t){const e=fe.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function dI(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function gI(n,t){return n===t?"_index_":"_value_"}function eE(n){if(n==="x"||n==="y"||n==="r")return n}function mI(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Vm(n,...t){if(eE(n))return n;for(const e of t){const i=e.axis||mI(e.position)||n.length>1&&eE(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function nE(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function pI(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return nE(n,"x",e[0])||nE(n,"y",e[0])}return{}}function yI(n,t){const e=ar[n.type]||{scales:{}},i=t.scales||{},a=Im(n.type,t),o=Object.create(null);return Object.keys(i).forEach(u=>{const h=i[u];if(!Lt(h))return console.error(`Invalid scale configuration for scale: ${u}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${u}`);const f=Vm(u,h,pI(u,n),fe.scales[h.type]),g=gI(f,a),y=e.scales||{};o[u]=ru(Object.create(null),[{axis:f},h,y[f],y[g]])}),n.data.datasets.forEach(u=>{const h=u.type||n.type,f=u.indexAxis||Im(h,t),y=(ar[h]||{}).scales||{};Object.keys(y).forEach(_=>{const b=dI(_,f),S=u[b+"AxisID"]||b;o[S]=o[S]||Object.create(null),ru(o[S],[{axis:b},i[S],y[_]])})}),Object.keys(o).forEach(u=>{const h=o[u];ru(h,[fe.scales[h.type],fe.scale])}),o}function hA(n){const t=n.options||(n.options={});t.plugins=Dt(t.plugins,{}),t.scales=yI(n,t)}function fA(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function _I(n){return n=n||{},n.data=fA(n.data),hA(n),n}const iE=new Map,dA=new Set;function vh(n,t){let e=iE.get(n);return e||(e=t(),iE.set(n,e),dA.add(e)),e}const Gl=(n,t,e)=>{const i=ra(t,e);i!==void 0&&n.add(i)};class vI{constructor(t){this._config=_I(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=fA(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),hA(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return vh(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return vh(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return vh(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return vh(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let a=i.get(t);return(!a||e)&&(a=new Map,i.set(t,a)),a}getOptionScopes(t,e,i){const{options:a,type:o}=this,u=this._cachedScopes(t,i),h=u.get(e);if(h)return h;const f=new Set;e.forEach(y=>{t&&(f.add(t),y.forEach(_=>Gl(f,t,_))),y.forEach(_=>Gl(f,a,_)),y.forEach(_=>Gl(f,ar[o]||{},_)),y.forEach(_=>Gl(f,fe,_)),y.forEach(_=>Gl(f,Mm,_))});const g=Array.from(f);return g.length===0&&g.push(Object.create(null)),dA.has(e)&&u.set(e,g),g}chartOptionScopes(){const{options:t,type:e}=this;return[t,ar[e]||{},fe.datasets[e]||{},{type:e},fe,Mm]}resolveNamedOptions(t,e,i,a=[""]){const o={$shared:!0},{resolver:u,subPrefixes:h}=sE(this._resolverCache,t,a);let f=u;if(EI(u,e)){o.$shared=!1,i=oa(i)?i():i;const g=this.createResolver(t,i,h);f=So(u,i,g)}for(const g of e)o[g]=f[g];return o}createResolver(t,e,i=[""],a){const{resolver:o}=sE(this._resolverCache,t,i);return Lt(e)?So(o,e,void 0,a):o}}function sE(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const a=e.join();let o=i.get(a);return o||(o={resolver:Cp(t,e),subPrefixes:e.filter(h=>!h.toLowerCase().includes("hover"))},i.set(a,o)),o}const bI=n=>Lt(n)&&Object.getOwnPropertyNames(n).some(t=>oa(n[t]));function EI(n,t){const{isScriptable:e,isIndexable:i}=GS(n);for(const a of t){const o=e(a),u=i(a),h=(u||o)&&n[a];if(o&&(oa(h)||bI(h))||u&&he(h))return!0}return!1}var TI="4.4.9";const SI=["top","bottom","left","right","chartArea"];function aE(n,t){return n==="top"||n==="bottom"||SI.indexOf(n)===-1&&t==="x"}function rE(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function oE(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),ae(e&&e.onComplete,[n],t)}function AI(n){const t=n.chart,e=t.options.animation;ae(e&&e.onProgress,[n],t)}function gA(n){return Vp()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const kh={},lE=n=>{const t=gA(n);return Object.values(kh).filter(e=>e.canvas===t).pop()};function xI(n,t,e){const i=Object.keys(n);for(const a of i){const o=+a;if(o>=t){const u=n[a];delete n[a],(e>0||o>t)&&(n[o+e]=u)}}}function wI(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}class as{static register(...t){Ti.add(...t),uE()}static unregister(...t){Ti.remove(...t),uE()}constructor(t,e){const i=this.config=new vI(e),a=gA(t),o=lE(a);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const u=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||qO(a)),this.platform.updateConfig(i);const h=this.platform.acquireContext(a,u.aspectRatio),f=h&&h.canvas,g=f&&f.height,y=f&&f.width;if(this.id=RM(),this.ctx=h,this.canvas=f,this.width=y,this.height=g,this._options=u,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new lI,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=qM(_=>this.update(_),u.resizeDelay||0),this._dataChanges=[],kh[this.id]=this,!h||!f){console.error("Failed to create chart: can't acquire context from the given item");return}ns.listen(this,"complete",oE),ns.listen(this,"progress",AI),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:a,_aspectRatio:o}=this;return kt(t)?e&&o?o:a?i/a:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Ti}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Ob(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Db(this.canvas,this.ctx),this}stop(){return ns.stop(this),this}resize(t,e){ns.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,a=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,u=this.platform.getMaximumSize(a,t,e,o),h=i.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=u.width,this.height=u.height,this._aspectRatio=this.aspectRatio,Ob(this,h,!0)&&(this.notifyPlugins("resize",{size:u}),ae(i.onResize,[this,u],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};$t(e,(i,a)=>{i.id=a})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,a=Object.keys(i).reduce((u,h)=>(u[h]=!1,u),{});let o=[];e&&(o=o.concat(Object.keys(e).map(u=>{const h=e[u],f=Vm(u,h),g=f==="r",y=f==="x";return{options:h,dposition:g?"chartArea":y?"bottom":"left",dtype:g?"radialLinear":y?"category":"linear"}}))),$t(o,u=>{const h=u.options,f=h.id,g=Vm(f,h),y=Dt(h.type,u.dtype);(h.position===void 0||aE(h.position,g)!==aE(u.dposition))&&(h.position=u.dposition),a[f]=!0;let _=null;if(f in i&&i[f].type===y)_=i[f];else{const b=Ti.getScale(y);_=new b({id:f,type:y,ctx:this.ctx,chart:this}),i[_.id]=_}_.init(h,t)}),$t(a,(u,h)=>{u||delete i[h]}),$t(i,u=>{ln.configure(this,u,u.options),ln.addBox(this,u)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((a,o)=>a.index-o.index),i>e){for(let a=e;a<i;++a)this._destroyDatasetMeta(a);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(rE("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,a)=>{e.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,a;for(this._removeUnreferencedMetasets(),i=0,a=e.length;i<a;i++){const o=e[i];let u=this.getDatasetMeta(i);const h=o.type||this.config.type;if(u.type&&u.type!==h&&(this._destroyDatasetMeta(i),u=this.getDatasetMeta(i)),u.type=h,u.indexAxis=o.indexAxis||Im(h,this.options),u.order=o.order||0,u.index=i,u.label=""+o.label,u.visible=this.isDatasetVisible(i),u.controller)u.controller.updateIndex(i),u.controller.linkScales();else{const f=Ti.getController(h),{datasetElementType:g,dataElementType:y}=fe.datasets[h];Object.assign(f,{dataElementType:Ti.getElement(y),datasetElementType:g&&Ti.getElement(g)}),u.controller=new f(this,i),t.push(u.controller)}}return this._updateMetasets(),t}_resetElements(){$t(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let u=0;for(let g=0,y=this.data.datasets.length;g<y;g++){const{controller:_}=this.getDatasetMeta(g),b=!a&&o.indexOf(_)===-1;_.buildOrUpdateElements(b),u=Math.max(+_.getMaxOverflow(),u)}u=this._minPadding=i.layout.autoPadding?u:0,this._updateLayout(u),a||$t(o,g=>{g.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(rE("z","_idx"));const{_active:h,_lastEvent:f}=this;f?this._eventHandler(f,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){$t(this.scales,t=>{ln.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!vb(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:a,count:o}of e){const u=i==="_removeElements"?-o:o;xI(t,a,u)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=o=>new Set(t.filter(u=>u[0]===o).map((u,h)=>h+","+u.splice(1).join(","))),a=i(0);for(let o=1;o<e;o++)if(!vb(a,i(o)))return;return Array.from(a).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ln.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],$t(this.boxes,a=>{i&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,o)=>{a._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,oa(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),a={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(i.controller._update(e),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ns.has(this)?this.attached&&!ns.running(this)&&ns.start(this):(this.draw(),oE({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let a,o;for(a=0,o=e.length;a<o;++a){const u=e[a];(!t||u.visible)&&i.push(u)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},a=nA(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(a&&xf(e,a),t.controller.draw(),a&&wf(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return ls(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,a){const o=SO.modes[e];return typeof o=="function"?o(this,t,i,a):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let a=i.filter(o=>o&&o._dataset===e).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(a)),a}getContext(){return this.$context||(this.$context=la(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const a=i?"show":"hide",o=this.getDatasetMeta(t),u=o.controller._resolveAnimations(void 0,a);Tu(e)?(o.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),u.update(o,{visible:i}),this.update(h=>h.datasetIndex===t?a:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),ns.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Db(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete kh[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(o,u)=>{e.addEventListener(this,o,u),t[o]=u},a=(o,u,h)=>{o.offsetX=u,o.offsetY=h,this._eventHandler(o)};$t(this.options.events,o=>i(o,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(f,g)=>{e.addEventListener(this,f,g),t[f]=g},a=(f,g)=>{t[f]&&(e.removeEventListener(this,f,g),delete t[f])},o=(f,g)=>{this.canvas&&this.resize(f,g)};let u;const h=()=>{a("attach",h),this.attached=!0,this.resize(),i("resize",o),i("detach",u)};u=()=>{this.attached=!1,a("resize",o),this._stop(),this._resize(0,0),i("attach",h)},e.isAttached(this.canvas)?h():u()}unbindEvents(){$t(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},$t(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const a=i?"set":"remove";let o,u,h,f;for(e==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+a+"DatasetHoverStyle"]()),h=0,f=t.length;h<f;++h){u=t[h];const g=u&&this.getDatasetMeta(u.datasetIndex).controller;g&&g[a+"HoverStyle"](u.element,u.datasetIndex,u.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:o,index:u})=>{const h=this.getDatasetMeta(o);if(!h)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:h.data[u],index:u}});!tf(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const a=this.options.hover,o=(f,g)=>f.filter(y=>!g.some(_=>y.datasetIndex===_.datasetIndex&&y.index===_.index)),u=o(e,t),h=i?t:o(t,e);u.length&&this.updateHoverStyle(u,a.mode,!1),h.length&&a.mode&&this.updateHoverStyle(h,a.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},a=u=>(u.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,a)===!1)return;const o=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,a),(o||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:a=[],options:o}=this,u=e,h=this._getActiveElements(t,a,i,u),f=VM(t),g=wI(t,this._lastEvent,i,f);i&&(this._lastEvent=null,ae(o.onHover,[t,h,this],this),f&&ae(o.onClick,[t,h,this],this));const y=!tf(h,a);return(y||e)&&(this._active=h,this._updateHoverStyles(h,a,e)),this._lastEvent=g,y}_getActiveElements(t,e,i,a){if(t.type==="mouseout")return[];if(!i)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,a)}}ut(as,"defaults",fe),ut(as,"instances",kh),ut(as,"overrides",ar),ut(as,"registry",Ti),ut(as,"version",TI),ut(as,"getChart",lE);function uE(){return $t(as.instances,n=>n._plugins.invalidate())}function RI(n,t,e){const{startAngle:i,pixelMargin:a,x:o,y:u,outerRadius:h,innerRadius:f}=t;let g=a/h;n.beginPath(),n.arc(o,u,h,i-g,e+g),f>a?(g=a/f,n.arc(o,u,f,e+g,i-g,!0)):n.arc(o,u,a,e+Se,i-Se),n.closePath(),n.clip()}function DI(n){return Mp(n,["outerStart","outerEnd","innerStart","innerEnd"])}function MI(n,t,e,i){const a=DI(n.options.borderRadius),o=(e-t)/2,u=Math.min(o,i*t/2),h=f=>{const g=(e-Math.min(o,f))*i/2;return Ge(f,0,Math.min(o,g))};return{outerStart:h(a.outerStart),outerEnd:h(a.outerEnd),innerStart:Ge(a.innerStart,0,u),innerEnd:Ge(a.innerEnd,0,u)}}function ao(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function of(n,t,e,i,a,o){const{x:u,y:h,startAngle:f,pixelMargin:g,innerRadius:y}=t,_=Math.max(t.outerRadius+i+e-g,0),b=y>0?y+i+e+g:0;let S=0;const x=a-f;if(i){const _t=y>0?y-i:0,X=_>0?_-i:0,st=(_t+X)/2,ht=st!==0?x*st/(st+i):x;S=(x-ht)/2}const D=Math.max(.001,x*_-e/oe)/_,M=(x-D)/2,z=f+M+S,H=a-M-S,{outerStart:K,outerEnd:$,innerStart:G,innerEnd:nt}=MI(t,b,_,H-z),O=_-K,w=_-$,C=z+K/O,N=H-$/w,k=b+G,L=b+nt,I=z+G/k,qt=H-nt/L;if(n.beginPath(),o){const _t=(C+N)/2;if(n.arc(u,h,_,C,_t),n.arc(u,h,_,_t,N),$>0){const St=ao(w,N,u,h);n.arc(St.x,St.y,$,N,H+Se)}const X=ao(L,H,u,h);if(n.lineTo(X.x,X.y),nt>0){const St=ao(L,qt,u,h);n.arc(St.x,St.y,nt,H+Se,qt+Math.PI)}const st=(H-nt/b+(z+G/b))/2;if(n.arc(u,h,b,H-nt/b,st,!0),n.arc(u,h,b,st,z+G/b,!0),G>0){const St=ao(k,I,u,h);n.arc(St.x,St.y,G,I+Math.PI,z-Se)}const ht=ao(O,z,u,h);if(n.lineTo(ht.x,ht.y),K>0){const St=ao(O,C,u,h);n.arc(St.x,St.y,K,z-Se,C)}}else{n.moveTo(u,h);const _t=Math.cos(C)*_+u,X=Math.sin(C)*_+h;n.lineTo(_t,X);const st=Math.cos(N)*_+u,ht=Math.sin(N)*_+h;n.lineTo(st,ht)}n.closePath()}function CI(n,t,e,i,a){const{fullCircles:o,startAngle:u,circumference:h}=t;let f=t.endAngle;if(o){of(n,t,e,i,f,a);for(let g=0;g<o;++g)n.fill();isNaN(h)||(f=u+(h%re||re))}return of(n,t,e,i,f,a),n.fill(),f}function OI(n,t,e,i,a){const{fullCircles:o,startAngle:u,circumference:h,options:f}=t,{borderWidth:g,borderJoinStyle:y,borderDash:_,borderDashOffset:b}=f,S=f.borderAlign==="inner";if(!g)return;n.setLineDash(_||[]),n.lineDashOffset=b,S?(n.lineWidth=g*2,n.lineJoin=y||"round"):(n.lineWidth=g,n.lineJoin=y||"bevel");let x=t.endAngle;if(o){of(n,t,e,i,x,a);for(let D=0;D<o;++D)n.stroke();isNaN(h)||(x=u+(h%re||re))}S&&RI(n,t,x),o||(of(n,t,e,i,x,a),n.stroke())}class Jl extends ii{constructor(e){super();ut(this,"circumference");ut(this,"endAngle");ut(this,"fullCircles");ut(this,"innerRadius");ut(this,"outerRadius");ut(this,"pixelMargin");ut(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,i,a){const o=this.getProps(["x","y"],a),{angle:u,distance:h}=kS(o,{x:e,y:i}),{startAngle:f,endAngle:g,innerRadius:y,outerRadius:_,circumference:b}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],a),S=(this.options.spacing+this.options.borderWidth)/2,x=Dt(b,g-f),D=Su(u,f,g)&&f!==g,M=x>=re||D,z=rs(h,y+S,_+S);return M&&z}getCenterPoint(e){const{x:i,y:a,startAngle:o,endAngle:u,innerRadius:h,outerRadius:f}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:g,spacing:y}=this.options,_=(o+u)/2,b=(h+f+y+g)/2;return{x:i+Math.cos(_)*b,y:a+Math.sin(_)*b}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:i,circumference:a}=this,o=(i.offset||0)/4,u=(i.spacing||0)/2,h=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=a>re?Math.floor(a/re):0,a===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const f=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(f)*o,Math.sin(f)*o);const g=1-Math.sin(Math.min(oe,a||0)),y=o*g;e.fillStyle=i.backgroundColor,e.strokeStyle=i.borderColor,CI(e,this,y,u,h),OI(e,this,y,u,h),e.restore()}}ut(Jl,"id","arc"),ut(Jl,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),ut(Jl,"defaultRoutes",{backgroundColor:"backgroundColor"}),ut(Jl,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"});function mA(n,t,e=t){n.lineCap=Dt(e.borderCapStyle,t.borderCapStyle),n.setLineDash(Dt(e.borderDash,t.borderDash)),n.lineDashOffset=Dt(e.borderDashOffset,t.borderDashOffset),n.lineJoin=Dt(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=Dt(e.borderWidth,t.borderWidth),n.strokeStyle=Dt(e.borderColor,t.borderColor)}function II(n,t,e){n.lineTo(e.x,e.y)}function VI(n){return n.stepped?nC:n.tension||n.cubicInterpolationMode==="monotone"?iC:II}function pA(n,t,e={}){const i=n.length,{start:a=0,end:o=i-1}=e,{start:u,end:h}=t,f=Math.max(a,u),g=Math.min(o,h),y=a<u&&o<u||a>h&&o>h;return{count:i,start:f,loop:t.loop,ilen:g<f&&!y?i+g-f:g-f}}function NI(n,t,e,i){const{points:a,options:o}=t,{count:u,start:h,loop:f,ilen:g}=pA(a,e,i),y=VI(o);let{move:_=!0,reverse:b}=i||{},S,x,D;for(S=0;S<=g;++S)x=a[(h+(b?g-S:S))%u],!x.skip&&(_?(n.moveTo(x.x,x.y),_=!1):y(n,D,x,b,o.stepped),D=x);return f&&(x=a[(h+(b?g:0))%u],y(n,D,x,b,o.stepped)),!!f}function kI(n,t,e,i){const a=t.points,{count:o,start:u,ilen:h}=pA(a,e,i),{move:f=!0,reverse:g}=i||{};let y=0,_=0,b,S,x,D,M,z;const H=$=>(u+(g?h-$:$))%o,K=()=>{D!==M&&(n.lineTo(y,M),n.lineTo(y,D),n.lineTo(y,z))};for(f&&(S=a[H(0)],n.moveTo(S.x,S.y)),b=0;b<=h;++b){if(S=a[H(b)],S.skip)continue;const $=S.x,G=S.y,nt=$|0;nt===x?(G<D?D=G:G>M&&(M=G),y=(_*y+$)/++_):(K(),n.lineTo($,G),x=nt,_=0,D=M=G),z=G}K()}function Nm(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?kI:NI}function PI(n){return n.stepped?kC:n.tension||n.cubicInterpolationMode==="monotone"?PC:Za}function LI(n,t,e,i){let a=t._path;a||(a=t._path=new Path2D,t.path(a,e,i)&&a.closePath()),mA(n,t.options),n.stroke(a)}function zI(n,t,e,i){const{segments:a,options:o}=t,u=Nm(t);for(const h of a)mA(n,o,h.style),n.beginPath(),u(n,t,h,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}const BI=typeof Path2D=="function";function UI(n,t,e,i){BI&&!t.options.segment?LI(n,t,e,i):zI(n,t,e,i)}class Gs extends ii{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const a=i.spanGaps?this._loop:this._fullLoop;RC(this._points,i,t,a,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=jC(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,a=t[e],o=this.points,u=eA(this,{property:e,start:a,end:a});if(!u.length)return;const h=[],f=PI(i);let g,y;for(g=0,y=u.length;g<y;++g){const{start:_,end:b}=u[g],S=o[_],x=o[b];if(S===x){h.push(S);continue}const D=Math.abs((a-S[e])/(x[e]-S[e])),M=f(S,x,D,i.stepped);M[e]=t[e],h.push(M)}return h.length===1?h[0]:h}pathSegment(t,e,i){return Nm(this)(t,this,e,i)}path(t,e,i){const a=this.segments,o=Nm(this);let u=this._loop;e=e||0,i=i||this.points.length-e;for(const h of a)u&=o(t,this,h,{start:e,end:e+i-1});return!!u}draw(t,e,i,a){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),UI(t,this,i,a),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}ut(Gs,"id","line"),ut(Gs,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),ut(Gs,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),ut(Gs,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function cE(n,t,e,i){const a=n.options,{[e]:o}=n.getProps([e],i);return Math.abs(t-o)<a.radius+a.hitRadius}class Ph extends ii{constructor(e){super();ut(this,"parsed");ut(this,"skip");ut(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,i,a){const o=this.options,{x:u,y:h}=this.getProps(["x","y"],a);return Math.pow(e-u,2)+Math.pow(i-h,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(e,i){return cE(this,e,"x",i)}inYRange(e,i){return cE(this,e,"y",i)}getCenterPoint(e){const{x:i,y:a}=this.getProps(["x","y"],e);return{x:i,y:a}}size(e){e=e||this.options||{};let i=e.radius||0;i=Math.max(i,i&&e.hoverRadius||0);const a=i&&e.borderWidth||0;return(i+a)*2}draw(e,i){const a=this.options;this.skip||a.radius<.1||!ls(this,i,this.size(a)/2)||(e.strokeStyle=a.borderColor,e.lineWidth=a.borderWidth,e.fillStyle=a.backgroundColor,Cm(e,a,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}ut(Ph,"id","point"),ut(Ph,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),ut(Ph,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function yA(n,t){const{x:e,y:i,base:a,width:o,height:u}=n.getProps(["x","y","base","width","height"],t);let h,f,g,y,_;return n.horizontal?(_=u/2,h=Math.min(e,a),f=Math.max(e,a),g=i-_,y=i+_):(_=o/2,h=e-_,f=e+_,g=Math.min(i,a),y=Math.max(i,a)),{left:h,top:g,right:f,bottom:y}}function Ys(n,t,e,i){return n?0:Ge(t,e,i)}function HI(n,t,e){const i=n.options.borderWidth,a=n.borderSkipped,o=qS(i);return{t:Ys(a.top,o.top,0,e),r:Ys(a.right,o.right,0,t),b:Ys(a.bottom,o.bottom,0,e),l:Ys(a.left,o.left,0,t)}}function jI(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),a=n.options.borderRadius,o=er(a),u=Math.min(t,e),h=n.borderSkipped,f=i||Lt(a);return{topLeft:Ys(!f||h.top||h.left,o.topLeft,0,u),topRight:Ys(!f||h.top||h.right,o.topRight,0,u),bottomLeft:Ys(!f||h.bottom||h.left,o.bottomLeft,0,u),bottomRight:Ys(!f||h.bottom||h.right,o.bottomRight,0,u)}}function FI(n){const t=yA(n),e=t.right-t.left,i=t.bottom-t.top,a=HI(n,e/2,i/2),o=jI(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:o},inner:{x:t.left+a.l,y:t.top+a.t,w:e-a.l-a.r,h:i-a.t-a.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,o.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(a.b,a.r))}}}}function nm(n,t,e,i){const a=t===null,o=e===null,h=n&&!(a&&o)&&yA(n,i);return h&&(a||rs(t,h.left,h.right))&&(o||rs(e,h.top,h.bottom))}function qI(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function GI(n,t){n.rect(t.x,t.y,t.w,t.h)}function im(n,t,e={}){const i=n.x!==e.x?-t:0,a=n.y!==e.y?-t:0,o=(n.x+n.w!==e.x+e.w?t:0)-i,u=(n.y+n.h!==e.y+e.h?t:0)-a;return{x:n.x+i,y:n.y+a,w:n.w+o,h:n.h+u,radius:n.radius}}class Lh extends ii{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:a}}=this,{inner:o,outer:u}=FI(this),h=qI(u.radius)?Au:GI;t.save(),(u.w!==o.w||u.h!==o.h)&&(t.beginPath(),h(t,im(u,e,o)),t.clip(),h(t,im(o,-e,u)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),h(t,im(o,e)),t.fillStyle=a,t.fill(),t.restore()}inRange(t,e,i){return nm(this,t,e,i)}inXRange(t,e){return nm(this,t,null,e)}inYRange(t,e){return nm(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:a,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+a)/2:e,y:o?i:(i+a)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}ut(Lh,"id","bar"),ut(Lh,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),ut(Lh,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var YI=Object.freeze({__proto__:null,ArcElement:Jl,BarElement:Lh,LineElement:Gs,PointElement:Ph});const km=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],hE=km.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function _A(n){return km[n%km.length]}function vA(n){return hE[n%hE.length]}function QI(n,t){return n.borderColor=_A(t),n.backgroundColor=vA(t),++t}function XI(n,t){return n.backgroundColor=n.data.map(()=>_A(t++)),t}function KI(n,t){return n.backgroundColor=n.data.map(()=>vA(t++)),t}function WI(n){let t=0;return(e,i)=>{const a=n.getDatasetMeta(i).controller;a instanceof tr?t=XI(e,t):a instanceof cu?t=KI(e,t):a&&(t=QI(e,t))}}function fE(n){let t;for(t in n)if(n[t].borderColor||n[t].backgroundColor)return!0;return!1}function $I(n){return n&&(n.borderColor||n.backgroundColor)}function ZI(){return fe.borderColor!=="rgba(0,0,0,0.1)"||fe.backgroundColor!=="rgba(0,0,0,0.1)"}var JI={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,t,e){if(!e.enabled)return;const{data:{datasets:i},options:a}=n.config,{elements:o}=a,u=fE(i)||$I(a)||o&&fE(o)||ZI();if(!e.forceOverride&&u)return;const h=WI(n);i.forEach(h)}};function tV(n,t,e,i,a){const o=a.samples||i;if(o>=e)return n.slice(t,t+e);const u=[],h=(e-2)/(o-2);let f=0;const g=t+e-1;let y=t,_,b,S,x,D;for(u[f++]=n[y],_=0;_<o-2;_++){let M=0,z=0,H;const K=Math.floor((_+1)*h)+1+t,$=Math.min(Math.floor((_+2)*h)+1,e)+t,G=$-K;for(H=K;H<$;H++)M+=n[H].x,z+=n[H].y;M/=G,z/=G;const nt=Math.floor(_*h)+1+t,O=Math.min(Math.floor((_+1)*h)+1,e)+t,{x:w,y:C}=n[y];for(S=x=-1,H=nt;H<O;H++)x=.5*Math.abs((w-M)*(n[H].y-C)-(w-n[H].x)*(z-C)),x>S&&(S=x,b=n[H],D=H);u[f++]=b,y=D}return u[f++]=n[g],u}function eV(n,t,e,i){let a=0,o=0,u,h,f,g,y,_,b,S,x,D;const M=[],z=t+e-1,H=n[t].x,$=n[z].x-H;for(u=t;u<t+e;++u){h=n[u],f=(h.x-H)/$*i,g=h.y;const G=f|0;if(G===y)g<x?(x=g,_=u):g>D&&(D=g,b=u),a=(o*a+h.x)/++o;else{const nt=u-1;if(!kt(_)&&!kt(b)){const O=Math.min(_,b),w=Math.max(_,b);O!==S&&O!==nt&&M.push({...n[O],x:a}),w!==S&&w!==nt&&M.push({...n[w],x:a})}u>0&&nt!==S&&M.push(n[nt]),M.push(h),y=G,o=0,x=D=g,_=b=S=u}}return M}function bA(n){if(n._decimated){const t=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function dE(n){n.data.datasets.forEach(t=>{bA(t)})}function nV(n,t){const e=t.length;let i=0,a;const{iScale:o}=n,{min:u,max:h,minDefined:f,maxDefined:g}=o.getUserBounds();return f&&(i=Ge(os(t,o.axis,u).lo,0,e-1)),g?a=Ge(os(t,o.axis,h).hi+1,i,e)-i:a=e-i,{start:i,count:a}}var iV={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,t,e)=>{if(!e.enabled){dE(n);return}const i=n.width;n.data.datasets.forEach((a,o)=>{const{_data:u,indexAxis:h}=a,f=n.getDatasetMeta(o),g=u||a.data;if($l([h,n.options.indexAxis])==="y"||!f.controller.supportsDecimation)return;const y=n.scales[f.xAxisID];if(y.type!=="linear"&&y.type!=="time"||n.options.parsing)return;let{start:_,count:b}=nV(f,g);const S=e.threshold||4*i;if(b<=S){bA(a);return}kt(u)&&(a._data=g,delete a.data,Object.defineProperty(a,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(D){this._data=D}}));let x;switch(e.algorithm){case"lttb":x=tV(g,_,b,i,e);break;case"min-max":x=eV(g,_,b,i);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}a._decimated=x})},destroy(n){dE(n)}};function sV(n,t,e){const i=n.segments,a=n.points,o=t.points,u=[];for(const h of i){let{start:f,end:g}=h;g=Pp(f,g,a);const y=Pm(e,a[f],a[g],h.loop);if(!t.segments){u.push({source:h,target:y,start:a[f],end:a[g]});continue}const _=eA(t,y);for(const b of _){const S=Pm(e,o[b.start],o[b.end],b.loop),x=tA(h,a,S);for(const D of x)u.push({source:D,target:b,start:{[e]:gE(y,S,"start",Math.max)},end:{[e]:gE(y,S,"end",Math.min)}})}}return u}function Pm(n,t,e,i){if(i)return;let a=t[n],o=e[n];return n==="angle"&&(a=On(a),o=On(o)),{property:n,start:a,end:o}}function aV(n,t){const{x:e=null,y:i=null}=n||{},a=t.points,o=[];return t.segments.forEach(({start:u,end:h})=>{h=Pp(u,h,a);const f=a[u],g=a[h];i!==null?(o.push({x:f.x,y:i}),o.push({x:g.x,y:i})):e!==null&&(o.push({x:e,y:f.y}),o.push({x:e,y:g.y}))}),o}function Pp(n,t,e){for(;t>n;t--){const i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function gE(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function EA(n,t){let e=[],i=!1;return he(n)?(i=!0,e=n):e=aV(n,t),e.length?new Gs({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function mE(n){return n&&n.fill!==!1}function rV(n,t,e){let a=n[t].fill;const o=[t];let u;if(!e)return a;for(;a!==!1&&o.indexOf(a)===-1;){if(!_e(a))return a;if(u=n[a],!u)return!1;if(u.visible)return a;o.push(a),a=u.fill}return!1}function oV(n,t,e){const i=hV(n);if(Lt(i))return isNaN(i.value)?!1:i;let a=parseFloat(i);return _e(a)&&Math.floor(a)===a?lV(i[0],t,a,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function lV(n,t,e,i){return(n==="-"||n==="+")&&(e=t+e),e===t||e<0||e>=i?!1:e}function uV(n,t){let e=null;return n==="start"?e=t.bottom:n==="end"?e=t.top:Lt(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}function cV(n,t,e){let i;return n==="start"?i=e:n==="end"?i=t.options.reverse?t.min:t.max:Lt(n)?i=n.value:i=t.getBaseValue(),i}function hV(n){const t=n.options,e=t.fill;let i=Dt(e&&e.target,e);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function fV(n){const{scale:t,index:e,line:i}=n,a=[],o=i.segments,u=i.points,h=dV(t,e);h.push(EA({x:null,y:t.bottom},i));for(let f=0;f<o.length;f++){const g=o[f];for(let y=g.start;y<=g.end;y++)gV(a,u[y],h)}return new Gs({points:a,options:{}})}function dV(n,t){const e=[],i=n.getMatchingVisibleMetas("line");for(let a=0;a<i.length;a++){const o=i[a];if(o.index===t)break;o.hidden||e.unshift(o.dataset)}return e}function gV(n,t,e){const i=[];for(let a=0;a<e.length;a++){const o=e[a],{first:u,last:h,point:f}=mV(o,t,"x");if(!(!f||u&&h)){if(u)i.unshift(f);else if(n.push(f),!h)break}}n.push(...i)}function mV(n,t,e){const i=n.interpolate(t,e);if(!i)return{};const a=i[e],o=n.segments,u=n.points;let h=!1,f=!1;for(let g=0;g<o.length;g++){const y=o[g],_=u[y.start][e],b=u[y.end][e];if(rs(a,_,b)){h=a===_,f=a===b;break}}return{first:h,last:f,point:i}}class TA{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:a,y:o,radius:u}=this;return e=e||{start:0,end:re},t.arc(a,o,u,e.end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:a}=this,o=t.angle;return{x:e+Math.cos(o)*a,y:i+Math.sin(o)*a,angle:o}}}function pV(n){const{chart:t,fill:e,line:i}=n;if(_e(e))return yV(t,e);if(e==="stack")return fV(n);if(e==="shape")return!0;const a=_V(n);return a instanceof TA?a:EA(a,i)}function yV(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}function _V(n){return(n.scale||{}).getPointPositionForValue?bV(n):vV(n)}function vV(n){const{scale:t={},fill:e}=n,i=uV(e,t);if(_e(i)){const a=t.isHorizontal();return{x:a?i:null,y:a?null:i}}return null}function bV(n){const{scale:t,fill:e}=n,i=t.options,a=t.getLabels().length,o=i.reverse?t.max:t.min,u=cV(e,t,o),h=[];if(i.grid.circular){const f=t.getPointPositionForValue(0,o);return new TA({x:f.x,y:f.y,radius:t.getDistanceFromCenterForValue(u)})}for(let f=0;f<a;++f)h.push(t.getPointPositionForValue(f,u));return h}function sm(n,t,e){const i=pV(t),{chart:a,index:o,line:u,scale:h,axis:f}=t,g=u.options,y=g.fill,_=g.backgroundColor,{above:b=_,below:S=_}=y||{},x=a.getDatasetMeta(o),D=nA(a,x);i&&u.points.length&&(xf(n,e),EV(n,{line:u,target:i,above:b,below:S,area:e,scale:h,axis:f,clip:D}),wf(n))}function EV(n,t){const{line:e,target:i,above:a,below:o,area:u,scale:h,clip:f}=t,g=e._loop?"angle":t.axis;n.save(),g==="x"&&o!==a&&(pE(n,i,u.top),yE(n,{line:e,target:i,color:a,scale:h,property:g,clip:f}),n.restore(),n.save(),pE(n,i,u.bottom)),yE(n,{line:e,target:i,color:o,scale:h,property:g,clip:f}),n.restore()}function pE(n,t,e){const{segments:i,points:a}=t;let o=!0,u=!1;n.beginPath();for(const h of i){const{start:f,end:g}=h,y=a[f],_=a[Pp(f,g,a)];o?(n.moveTo(y.x,y.y),o=!1):(n.lineTo(y.x,e),n.lineTo(y.x,y.y)),u=!!t.pathSegment(n,h,{move:u}),u?n.closePath():n.lineTo(_.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function yE(n,t){const{line:e,target:i,property:a,color:o,scale:u,clip:h}=t,f=sV(e,i,a);for(const{source:g,target:y,start:_,end:b}of f){const{style:{backgroundColor:S=o}={}}=g,x=i!==!0;n.save(),n.fillStyle=S,TV(n,u,h,x&&Pm(a,_,b)),n.beginPath();const D=!!e.pathSegment(n,g);let M;if(x){D?n.closePath():_E(n,i,b,a);const z=!!i.pathSegment(n,y,{move:D,reverse:!0});M=D&&z,M||_E(n,i,_,a)}n.closePath(),n.fill(M?"evenodd":"nonzero"),n.restore()}}function TV(n,t,e,i){const a=t.chart.chartArea,{property:o,start:u,end:h}=i||{};if(o==="x"||o==="y"){let f,g,y,_;o==="x"?(f=u,g=a.top,y=h,_=a.bottom):(f=a.left,g=u,y=a.right,_=h),n.beginPath(),e&&(f=Math.max(f,e.left),y=Math.min(y,e.right),g=Math.max(g,e.top),_=Math.min(_,e.bottom)),n.rect(f,g,y-f,_-g),n.clip()}}function _E(n,t,e,i){const a=t.interpolate(e,i);a&&n.lineTo(a.x,a.y)}var SV={id:"filler",afterDatasetsUpdate(n,t,e){const i=(n.data.datasets||[]).length,a=[];let o,u,h,f;for(u=0;u<i;++u)o=n.getDatasetMeta(u),h=o.dataset,f=null,h&&h.options&&h instanceof Gs&&(f={visible:n.isDatasetVisible(u),index:u,fill:oV(h,u,i),chart:n,axis:o.controller.options.indexAxis,scale:o.vScale,line:h}),o.$filler=f,a.push(f);for(u=0;u<i;++u)f=a[u],!(!f||f.fill===!1)&&(f.fill=rV(a,u,e.propagate))},beforeDraw(n,t,e){const i=e.drawTime==="beforeDraw",a=n.getSortedVisibleDatasetMetas(),o=n.chartArea;for(let u=a.length-1;u>=0;--u){const h=a[u].$filler;h&&(h.line.updateControlPoints(o,h.axis),i&&h.fill&&sm(n.ctx,h,o))}},beforeDatasetsDraw(n,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;const i=n.getSortedVisibleDatasetMetas();for(let a=i.length-1;a>=0;--a){const o=i[a].$filler;mE(o)&&sm(n.ctx,o,n.chartArea)}},beforeDatasetDraw(n,t,e){const i=t.meta.$filler;!mE(i)||e.drawTime!=="beforeDatasetDraw"||sm(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const vE=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},AV=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class bE extends ii{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=ae(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,a)=>t.sort(i,a,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,a=ke(i.font),o=a.size,u=this._computeTitleHeight(),{boxWidth:h,itemHeight:f}=vE(i,o);let g,y;e.font=a.string,this.isHorizontal()?(g=this.maxWidth,y=this._fitRows(u,o,h,f)+10):(y=this.maxHeight,g=this._fitCols(u,a,h,f)+10),this.width=Math.min(g,t.maxWidth||this.maxWidth),this.height=Math.min(y,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,a){const{ctx:o,maxWidth:u,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],g=this.lineWidths=[0],y=a+h;let _=t;o.textAlign="left",o.textBaseline="middle";let b=-1,S=-y;return this.legendItems.forEach((x,D)=>{const M=i+e/2+o.measureText(x.text).width;(D===0||g[g.length-1]+M+2*h>u)&&(_+=y,g[g.length-(D>0?0:1)]=0,S+=y,b++),f[D]={left:0,top:S,row:b,width:M,height:a},g[g.length-1]+=M+h}),_}_fitCols(t,e,i,a){const{ctx:o,maxHeight:u,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],g=this.columnSizes=[],y=u-t;let _=h,b=0,S=0,x=0,D=0;return this.legendItems.forEach((M,z)=>{const{itemWidth:H,itemHeight:K}=xV(i,e,o,M,a);z>0&&S+K+2*h>y&&(_+=b+h,g.push({width:b,height:S}),x+=b+h,D++,b=S=0),f[z]={left:x,top:S,col:D,width:H,height:K},b=Math.max(b,H),S+=K+h}),_+=b,g.push({width:b,height:S}),_}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:a},rtl:o}}=this,u=fo(o,this.left,this.width);if(this.isHorizontal()){let h=0,f=an(i,this.left+a,this.right-this.lineWidths[h]);for(const g of e)h!==g.row&&(h=g.row,f=an(i,this.left+a,this.right-this.lineWidths[h])),g.top+=this.top+t+a,g.left=u.leftForLtr(u.x(f),g.width),f+=g.width+a}else{let h=0,f=an(i,this.top+t+a,this.bottom-this.columnSizes[h].height);for(const g of e)g.col!==h&&(h=g.col,f=an(i,this.top+t+a,this.bottom-this.columnSizes[h].height)),g.top=f,g.left+=this.left+a,g.left=u.leftForLtr(u.x(g.left),g.width),f+=g.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;xf(t,this),this._draw(),wf(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:a}=this,{align:o,labels:u}=t,h=fe.color,f=fo(t.rtl,this.left,this.width),g=ke(u.font),{padding:y}=u,_=g.size,b=_/2;let S;this.drawTitle(),a.textAlign=f.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=g.string;const{boxWidth:x,boxHeight:D,itemHeight:M}=vE(u,_),z=function(nt,O,w){if(isNaN(x)||x<=0||isNaN(D)||D<0)return;a.save();const C=Dt(w.lineWidth,1);if(a.fillStyle=Dt(w.fillStyle,h),a.lineCap=Dt(w.lineCap,"butt"),a.lineDashOffset=Dt(w.lineDashOffset,0),a.lineJoin=Dt(w.lineJoin,"miter"),a.lineWidth=C,a.strokeStyle=Dt(w.strokeStyle,h),a.setLineDash(Dt(w.lineDash,[])),u.usePointStyle){const N={radius:D*Math.SQRT2/2,pointStyle:w.pointStyle,rotation:w.rotation,borderWidth:C},k=f.xPlus(nt,x/2),L=O+b;FS(a,N,k,L,u.pointStyleWidth&&x)}else{const N=O+Math.max((_-D)/2,0),k=f.leftForLtr(nt,x),L=er(w.borderRadius);a.beginPath(),Object.values(L).some(I=>I!==0)?Au(a,{x:k,y:N,w:x,h:D,radius:L}):a.rect(k,N,x,D),a.fill(),C!==0&&a.stroke()}a.restore()},H=function(nt,O,w){rr(a,w.text,nt,O+M/2,g,{strikethrough:w.hidden,textAlign:f.textAlign(w.textAlign)})},K=this.isHorizontal(),$=this._computeTitleHeight();K?S={x:an(o,this.left+y,this.right-i[0]),y:this.top+y+$,line:0}:S={x:this.left+y,y:an(o,this.top+$+y,this.bottom-e[0].height),line:0},$S(this.ctx,t.textDirection);const G=M+y;this.legendItems.forEach((nt,O)=>{a.strokeStyle=nt.fontColor,a.fillStyle=nt.fontColor;const w=a.measureText(nt.text).width,C=f.textAlign(nt.textAlign||(nt.textAlign=u.textAlign)),N=x+b+w;let k=S.x,L=S.y;f.setWidth(this.width),K?O>0&&k+N+y>this.right&&(L=S.y+=G,S.line++,k=S.x=an(o,this.left+y,this.right-i[S.line])):O>0&&L+G>this.bottom&&(k=S.x=k+e[S.line].width+y,S.line++,L=S.y=an(o,this.top+$+y,this.bottom-e[S.line].height));const I=f.x(k);if(z(I,L,nt),k=GM(C,k+x+b,K?k+N:this.right,t.rtl),H(f.x(k),L,nt),K)S.x+=N+y;else if(typeof nt.text!="string"){const qt=g.lineHeight;S.y+=SA(nt,qt)+y}else S.y+=G}),ZS(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=ke(e.font),a=un(e.padding);if(!e.display)return;const o=fo(t.rtl,this.left,this.width),u=this.ctx,h=e.position,f=i.size/2,g=a.top+f;let y,_=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),y=this.top+g,_=an(t.align,_,this.right-b);else{const x=this.columnSizes.reduce((D,M)=>Math.max(D,M.height),0);y=g+an(t.align,this.top,this.bottom-x-t.labels.padding-this._computeTitleHeight())}const S=an(h,_,_+b);u.textAlign=o.textAlign(Rp(h)),u.textBaseline="middle",u.strokeStyle=e.color,u.fillStyle=e.color,u.font=i.string,rr(u,e.text,S,y,i)}_computeTitleHeight(){const t=this.options.title,e=ke(t.font),i=un(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,a,o;if(rs(t,this.left,this.right)&&rs(e,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(a=o[i],rs(t,a.left,a.left+a.width)&&rs(e,a.top,a.top+a.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!DV(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const a=this._hoveredItem,o=AV(a,i);a&&!o&&ae(e.onLeave,[t,a,this],this),this._hoveredItem=i,i&&!o&&ae(e.onHover,[t,i,this],this)}else i&&ae(e.onClick,[t,i,this],this)}}function xV(n,t,e,i,a){const o=wV(i,n,t,e),u=RV(a,i,t.lineHeight);return{itemWidth:o,itemHeight:u}}function wV(n,t,e,i){let a=n.text;return a&&typeof a!="string"&&(a=a.reduce((o,u)=>o.length>u.length?o:u)),t+e.size/2+i.measureText(a).width}function RV(n,t,e){let i=n;return typeof t.text!="string"&&(i=SA(t,e)),i}function SA(n,t){const e=n.text?n.text.length:0;return t*e}function DV(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var MV={id:"legend",_element:bE,start(n,t,e){const i=n.legend=new bE({ctx:n.ctx,options:e,chart:n});ln.configure(n,i,e),ln.addBox(n,i)},stop(n){ln.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;ln.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,a=e.chart;a.isDatasetVisible(i)?(a.hide(i),t.hidden=!0):(a.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:a,color:o,useBorderRadius:u,borderRadius:h}}=n.legend.options;return n._getSortedDatasetMetas().map(f=>{const g=f.controller.getStyle(e?0:void 0),y=un(g.borderWidth);return{text:t[f.index].label,fillStyle:g.backgroundColor,fontColor:o,hidden:!f.visible,lineCap:g.borderCapStyle,lineDash:g.borderDash,lineDashOffset:g.borderDashOffset,lineJoin:g.borderJoinStyle,lineWidth:(y.width+y.height)/4,strokeStyle:g.borderColor,pointStyle:i||g.pointStyle,rotation:g.rotation,textAlign:a||g.textAlign,borderRadius:u&&(h||g.borderRadius),datasetIndex:f.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class Lp extends ii{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const a=he(i.text)?i.text.length:1;this._padding=un(i.padding);const o=a*ke(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:a,right:o,options:u}=this,h=u.align;let f=0,g,y,_;return this.isHorizontal()?(y=an(h,i,o),_=e+t,g=o-i):(u.position==="left"?(y=i+t,_=an(h,a,e),f=oe*-.5):(y=o-t,_=an(h,e,a),f=oe*.5),g=a-e),{titleX:y,titleY:_,maxWidth:g,rotation:f}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=ke(e.font),o=i.lineHeight/2+this._padding.top,{titleX:u,titleY:h,maxWidth:f,rotation:g}=this._drawArgs(o);rr(t,e.text,0,0,i,{color:e.color,maxWidth:f,rotation:g,textAlign:Rp(e.align),textBaseline:"middle",translation:[u,h]})}}function CV(n,t){const e=new Lp({ctx:n.ctx,options:t,chart:n});ln.configure(n,e,t),ln.addBox(n,e),n.titleBlock=e}var OV={id:"title",_element:Lp,start(n,t,e){CV(n,e)},stop(n){const t=n.titleBlock;ln.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;ln.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const bh=new WeakMap;var IV={id:"subtitle",start(n,t,e){const i=new Lp({ctx:n.ctx,options:e,chart:n});ln.configure(n,i,e),ln.addBox(n,i),bh.set(n,i)},stop(n){ln.removeBox(n,bh.get(n)),bh.delete(n)},beforeUpdate(n,t,e){const i=bh.get(n);ln.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const tu={average(n){if(!n.length)return!1;let t,e,i=new Set,a=0,o=0;for(t=0,e=n.length;t<e;++t){const h=n[t].element;if(h&&h.hasValue()){const f=h.tooltipPosition();i.add(f.x),a+=f.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((h,f)=>h+f)/i.size,y:a/o}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,a=Number.POSITIVE_INFINITY,o,u,h;for(o=0,u=n.length;o<u;++o){const f=n[o].element;if(f&&f.hasValue()){const g=f.getCenterPoint(),y=Dm(t,g);y<a&&(a=y,h=f)}}if(h){const f=h.tooltipPosition();e=f.x,i=f.y}return{x:e,y:i}}};function Ei(n,t){return t&&(he(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function is(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function VV(n,t){const{element:e,datasetIndex:i,index:a}=t,o=n.getDatasetMeta(i).controller,{label:u,value:h}=o.getLabelAndValue(a);return{chart:n,label:u,parsed:o.getParsed(a),raw:n.data.datasets[i].data[a],formattedValue:h,dataset:o.getDataset(),dataIndex:a,datasetIndex:i,element:e}}function EE(n,t){const e=n.chart.ctx,{body:i,footer:a,title:o}=n,{boxWidth:u,boxHeight:h}=t,f=ke(t.bodyFont),g=ke(t.titleFont),y=ke(t.footerFont),_=o.length,b=a.length,S=i.length,x=un(t.padding);let D=x.height,M=0,z=i.reduce(($,G)=>$+G.before.length+G.lines.length+G.after.length,0);if(z+=n.beforeBody.length+n.afterBody.length,_&&(D+=_*g.lineHeight+(_-1)*t.titleSpacing+t.titleMarginBottom),z){const $=t.displayColors?Math.max(h,f.lineHeight):f.lineHeight;D+=S*$+(z-S)*f.lineHeight+(z-1)*t.bodySpacing}b&&(D+=t.footerMarginTop+b*y.lineHeight+(b-1)*t.footerSpacing);let H=0;const K=function($){M=Math.max(M,e.measureText($).width+H)};return e.save(),e.font=g.string,$t(n.title,K),e.font=f.string,$t(n.beforeBody.concat(n.afterBody),K),H=t.displayColors?u+2+t.boxPadding:0,$t(i,$=>{$t($.before,K),$t($.lines,K),$t($.after,K)}),H=0,e.font=y.string,$t(n.footer,K),e.restore(),M+=x.width,{width:M,height:D}}function NV(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function kV(n,t,e,i){const{x:a,width:o}=i,u=e.caretSize+e.caretPadding;if(n==="left"&&a+o+u>t.width||n==="right"&&a-o-u<0)return!0}function PV(n,t,e,i){const{x:a,width:o}=e,{width:u,chartArea:{left:h,right:f}}=n;let g="center";return i==="center"?g=a<=(h+f)/2?"left":"right":a<=o/2?g="left":a>=u-o/2&&(g="right"),kV(g,n,t,e)&&(g="center"),g}function TE(n,t,e){const i=e.yAlign||t.yAlign||NV(n,e);return{xAlign:e.xAlign||t.xAlign||PV(n,t,e,i),yAlign:i}}function LV(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function zV(n,t,e){let{y:i,height:a}=n;return t==="top"?i+=e:t==="bottom"?i-=a+e:i-=a/2,i}function SE(n,t,e,i){const{caretSize:a,caretPadding:o,cornerRadius:u}=n,{xAlign:h,yAlign:f}=e,g=a+o,{topLeft:y,topRight:_,bottomLeft:b,bottomRight:S}=er(u);let x=LV(t,h);const D=zV(t,f,g);return f==="center"?h==="left"?x+=g:h==="right"&&(x-=g):h==="left"?x-=Math.max(y,b)+a:h==="right"&&(x+=Math.max(_,S)+a),{x:Ge(x,0,i.width-t.width),y:Ge(D,0,i.height-t.height)}}function Eh(n,t,e){const i=un(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function AE(n){return Ei([],is(n))}function BV(n,t,e){return la(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function xE(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const AA={beforeTitle:es,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:es,beforeBody:es,beforeLabel:es,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return kt(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:es,afterBody:es,beforeFooter:es,footer:es,afterFooter:es};function yn(n,t,e,i){const a=n[t].call(e,i);return typeof a>"u"?AA[t].call(e,i):a}class Lm extends ii{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),a=i.enabled&&e.options.animation&&i.animations,o=new iA(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=BV(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,a=yn(i,"beforeTitle",this,t),o=yn(i,"title",this,t),u=yn(i,"afterTitle",this,t);let h=[];return h=Ei(h,is(a)),h=Ei(h,is(o)),h=Ei(h,is(u)),h}getBeforeBody(t,e){return AE(yn(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,a=[];return $t(t,o=>{const u={before:[],lines:[],after:[]},h=xE(i,o);Ei(u.before,is(yn(h,"beforeLabel",this,o))),Ei(u.lines,yn(h,"label",this,o)),Ei(u.after,is(yn(h,"afterLabel",this,o))),a.push(u)}),a}getAfterBody(t,e){return AE(yn(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,a=yn(i,"beforeFooter",this,t),o=yn(i,"footer",this,t),u=yn(i,"afterFooter",this,t);let h=[];return h=Ei(h,is(a)),h=Ei(h,is(o)),h=Ei(h,is(u)),h}_createItems(t){const e=this._active,i=this.chart.data,a=[],o=[],u=[];let h=[],f,g;for(f=0,g=e.length;f<g;++f)h.push(VV(this.chart,e[f]));return t.filter&&(h=h.filter((y,_,b)=>t.filter(y,_,b,i))),t.itemSort&&(h=h.sort((y,_)=>t.itemSort(y,_,i))),$t(h,y=>{const _=xE(t.callbacks,y);a.push(yn(_,"labelColor",this,y)),o.push(yn(_,"labelPointStyle",this,y)),u.push(yn(_,"labelTextColor",this,y))}),this.labelColors=a,this.labelPointStyles=o,this.labelTextColors=u,this.dataPoints=h,h}update(t,e){const i=this.options.setContext(this.getContext()),a=this._active;let o,u=[];if(!a.length)this.opacity!==0&&(o={opacity:0});else{const h=tu[i.position].call(this,a,this._eventPosition);u=this._createItems(i),this.title=this.getTitle(u,i),this.beforeBody=this.getBeforeBody(u,i),this.body=this.getBody(u,i),this.afterBody=this.getAfterBody(u,i),this.footer=this.getFooter(u,i);const f=this._size=EE(this,i),g=Object.assign({},h,f),y=TE(this.chart,i,g),_=SE(i,g,y,this.chart);this.xAlign=y.xAlign,this.yAlign=y.yAlign,o={opacity:1,x:_.x,y:_.y,width:f.width,height:f.height,caretX:h.x,caretY:h.y}}this._tooltipItems=u,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,a){const o=this.getCaretPosition(t,i,a);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,i){const{xAlign:a,yAlign:o}=this,{caretSize:u,cornerRadius:h}=i,{topLeft:f,topRight:g,bottomLeft:y,bottomRight:_}=er(h),{x:b,y:S}=t,{width:x,height:D}=e;let M,z,H,K,$,G;return o==="center"?($=S+D/2,a==="left"?(M=b,z=M-u,K=$+u,G=$-u):(M=b+x,z=M+u,K=$-u,G=$+u),H=M):(a==="left"?z=b+Math.max(f,y)+u:a==="right"?z=b+x-Math.max(g,_)-u:z=this.caretX,o==="top"?(K=S,$=K-u,M=z-u,H=z+u):(K=S+D,$=K+u,M=z+u,H=z-u),G=K),{x1:M,x2:z,x3:H,y1:K,y2:$,y3:G}}drawTitle(t,e,i){const a=this.title,o=a.length;let u,h,f;if(o){const g=fo(i.rtl,this.x,this.width);for(t.x=Eh(this,i.titleAlign,i),e.textAlign=g.textAlign(i.titleAlign),e.textBaseline="middle",u=ke(i.titleFont),h=i.titleSpacing,e.fillStyle=i.titleColor,e.font=u.string,f=0;f<o;++f)e.fillText(a[f],g.x(t.x),t.y+u.lineHeight/2),t.y+=u.lineHeight+h,f+1===o&&(t.y+=i.titleMarginBottom-h)}}_drawColorBox(t,e,i,a,o){const u=this.labelColors[i],h=this.labelPointStyles[i],{boxHeight:f,boxWidth:g}=o,y=ke(o.bodyFont),_=Eh(this,"left",o),b=a.x(_),S=f<y.lineHeight?(y.lineHeight-f)/2:0,x=e.y+S;if(o.usePointStyle){const D={radius:Math.min(g,f)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},M=a.leftForLtr(b,g)+g/2,z=x+f/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,Cm(t,D,M,z),t.strokeStyle=u.borderColor,t.fillStyle=u.backgroundColor,Cm(t,D,M,z)}else{t.lineWidth=Lt(u.borderWidth)?Math.max(...Object.values(u.borderWidth)):u.borderWidth||1,t.strokeStyle=u.borderColor,t.setLineDash(u.borderDash||[]),t.lineDashOffset=u.borderDashOffset||0;const D=a.leftForLtr(b,g),M=a.leftForLtr(a.xPlus(b,1),g-2),z=er(u.borderRadius);Object.values(z).some(H=>H!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,Au(t,{x:D,y:x,w:g,h:f,radius:z}),t.fill(),t.stroke(),t.fillStyle=u.backgroundColor,t.beginPath(),Au(t,{x:M,y:x+1,w:g-2,h:f-2,radius:z}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(D,x,g,f),t.strokeRect(D,x,g,f),t.fillStyle=u.backgroundColor,t.fillRect(M,x+1,g-2,f-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:a}=this,{bodySpacing:o,bodyAlign:u,displayColors:h,boxHeight:f,boxWidth:g,boxPadding:y}=i,_=ke(i.bodyFont);let b=_.lineHeight,S=0;const x=fo(i.rtl,this.x,this.width),D=function(w){e.fillText(w,x.x(t.x+S),t.y+b/2),t.y+=b+o},M=x.textAlign(u);let z,H,K,$,G,nt,O;for(e.textAlign=u,e.textBaseline="middle",e.font=_.string,t.x=Eh(this,M,i),e.fillStyle=i.bodyColor,$t(this.beforeBody,D),S=h&&M!=="right"?u==="center"?g/2+y:g+2+y:0,$=0,nt=a.length;$<nt;++$){for(z=a[$],H=this.labelTextColors[$],e.fillStyle=H,$t(z.before,D),K=z.lines,h&&K.length&&(this._drawColorBox(e,t,$,x,i),b=Math.max(_.lineHeight,f)),G=0,O=K.length;G<O;++G)D(K[G]),b=_.lineHeight;$t(z.after,D)}S=0,b=_.lineHeight,$t(this.afterBody,D),t.y-=o}drawFooter(t,e,i){const a=this.footer,o=a.length;let u,h;if(o){const f=fo(i.rtl,this.x,this.width);for(t.x=Eh(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=f.textAlign(i.footerAlign),e.textBaseline="middle",u=ke(i.footerFont),e.fillStyle=i.footerColor,e.font=u.string,h=0;h<o;++h)e.fillText(a[h],f.x(t.x),t.y+u.lineHeight/2),t.y+=u.lineHeight+i.footerSpacing}}drawBackground(t,e,i,a){const{xAlign:o,yAlign:u}=this,{x:h,y:f}=t,{width:g,height:y}=i,{topLeft:_,topRight:b,bottomLeft:S,bottomRight:x}=er(a.cornerRadius);e.fillStyle=a.backgroundColor,e.strokeStyle=a.borderColor,e.lineWidth=a.borderWidth,e.beginPath(),e.moveTo(h+_,f),u==="top"&&this.drawCaret(t,e,i,a),e.lineTo(h+g-b,f),e.quadraticCurveTo(h+g,f,h+g,f+b),u==="center"&&o==="right"&&this.drawCaret(t,e,i,a),e.lineTo(h+g,f+y-x),e.quadraticCurveTo(h+g,f+y,h+g-x,f+y),u==="bottom"&&this.drawCaret(t,e,i,a),e.lineTo(h+S,f+y),e.quadraticCurveTo(h,f+y,h,f+y-S),u==="center"&&o==="left"&&this.drawCaret(t,e,i,a),e.lineTo(h,f+_),e.quadraticCurveTo(h,f,h+_,f),e.closePath(),e.fill(),a.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,a=i&&i.x,o=i&&i.y;if(a||o){const u=tu[t.position].call(this,this._active,this._eventPosition);if(!u)return;const h=this._size=EE(this,t),f=Object.assign({},u,this._size),g=TE(e,t,f),y=SE(t,f,g,e);(a._to!==y.x||o._to!==y.y)&&(this.xAlign=g.xAlign,this.yAlign=g.yAlign,this.width=h.width,this.height=h.height,this.caretX=u.x,this.caretY=u.y,this._resolveAnimations().update(this,y))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const a={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const u=un(e.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&h&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,a,e),$S(t,e.textDirection),o.y+=u.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),ZS(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,a=t.map(({datasetIndex:h,index:f})=>{const g=this.chart.getDatasetMeta(h);if(!g)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:g.data[f],index:f}}),o=!tf(i,a),u=this._positionChanged(a,e);(o||u)&&(this._active=a,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,o=this._active||[],u=this._getActiveElements(t,o,e,i),h=this._positionChanged(u,t),f=e||!tf(u,o)||h;return f&&(this._active=u,(a.enabled||a.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),f}_getActiveElements(t,e,i,a){const o=this.options;if(t.type==="mouseout")return[];if(!a)return e.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const u=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&u.reverse(),u}_positionChanged(t,e){const{caretX:i,caretY:a,options:o}=this,u=tu[o.position].call(this,t,e);return u!==!1&&(i!==u.x||a!==u.y)}}ut(Lm,"positioners",tu);var UV={id:"tooltip",_element:Lm,positioners:tu,afterInit(n,t,e){e&&(n.tooltip=new Lm({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:AA},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},HV=Object.freeze({__proto__:null,Colors:JI,Decimation:iV,Filler:SV,Legend:MV,SubTitle:IV,Title:OV,Tooltip:UV});const jV=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function FV(n,t,e,i){const a=n.indexOf(t);if(a===-1)return jV(n,t,e,i);const o=n.lastIndexOf(t);return a!==o?e:a}const qV=(n,t)=>n===null?null:Ge(Math.round(n),0,t);function wE(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class zm extends hr{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:a,label:o}of e)i[a]===o&&i.splice(a,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(kt(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:FV(i,t,Dt(e,t),this._addedLabels),qV(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(a=this.getLabels().length-1)),this.min=i,this.max=a}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,a=[];let o=this.getLabels();o=t===0&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let u=t;u<=e;u++)a.push({value:u});return a}getLabelForValue(t){return wE.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}ut(zm,"id","category"),ut(zm,"defaults",{ticks:{callback:wE}});function GV(n,t){const e=[],{bounds:a,step:o,min:u,max:h,precision:f,count:g,maxTicks:y,maxDigits:_,includeBounds:b}=n,S=o||1,x=y-1,{min:D,max:M}=t,z=!kt(u),H=!kt(h),K=!kt(g),$=(M-D)/(_+1);let G=Eb((M-D)/x/S)*S,nt,O,w,C;if(G<1e-14&&!z&&!H)return[{value:D},{value:M}];C=Math.ceil(M/G)-Math.floor(D/G),C>x&&(G=Eb(C*G/x/S)*S),kt(f)||(nt=Math.pow(10,f),G=Math.ceil(G*nt)/nt),a==="ticks"?(O=Math.floor(D/G)*G,w=Math.ceil(M/G)*G):(O=D,w=M),z&&H&&o&&zM((h-u)/o,G/1e3)?(C=Math.round(Math.min((h-u)/G,y)),G=(h-u)/C,O=u,w=h):K?(O=z?u:O,w=H?h:w,C=g-1,G=(w-O)/C):(C=(w-O)/G,ou(C,Math.round(C),G/1e3)?C=Math.round(C):C=Math.ceil(C));const N=Math.max(Tb(G),Tb(O));nt=Math.pow(10,kt(f)?N:f),O=Math.round(O*nt)/nt,w=Math.round(w*nt)/nt;let k=0;for(z&&(b&&O!==u?(e.push({value:u}),O<u&&k++,ou(Math.round((O+k*G)*nt)/nt,u,RE(u,$,n))&&k++):O<u&&k++);k<C;++k){const L=Math.round((O+k*G)*nt)/nt;if(H&&L>h)break;e.push({value:L})}return H&&b&&w!==h?e.length&&ou(e[e.length-1].value,h,RE(h,$,n))?e[e.length-1].value=h:e.push({value:h}):(!H||w===h)&&e.push({value:w}),e}function RE(n,t,{horizontal:e,minRotation:i}){const a=ei(i),o=(e?Math.sin(a):Math.cos(a))||.001,u=.75*t*(""+n).length;return Math.min(t/o,u)}class lf extends hr{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return kt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:a,max:o}=this;const u=f=>a=e?a:f,h=f=>o=i?o:f;if(t){const f=wi(a),g=wi(o);f<0&&g<0?h(0):f>0&&g>0&&u(0)}if(a===o){let f=o===0?1:Math.abs(o*.05);h(o+f),t||u(a-f)}this.min=a,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,a;return i?(a=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),e=e||11),e&&(a=Math.min(e,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const a={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,u=GV(a,o);return t.bounds==="ticks"&&NS(u,this,"value"),t.reverse?(u.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),u}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const a=(i-e)/Math.max(t.length-1,1)/2;e-=a,i+=a}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return Vu(t,this.chart.options.locale,this.options.ticks.format)}}class Bm extends lf{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=_e(t)?t:0,this.max=_e(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=ei(this.options.ticks.minRotation),a=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/a))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}ut(Bm,"id","linear"),ut(Bm,"defaults",{ticks:{callback:Af.formatters.numeric}});const wu=n=>Math.floor(qs(n)),Ka=(n,t)=>Math.pow(10,wu(n)+t);function DE(n){return n/Math.pow(10,wu(n))===1}function ME(n,t,e){const i=Math.pow(10,e),a=Math.floor(n/i);return Math.ceil(t/i)-a}function YV(n,t){const e=t-n;let i=wu(e);for(;ME(n,t,i)>10;)i++;for(;ME(n,t,i)<10;)i--;return Math.min(i,wu(n))}function QV(n,{min:t,max:e}){t=Cn(n.min,t);const i=[],a=wu(t);let o=YV(t,e),u=o<0?Math.pow(10,Math.abs(o)):1;const h=Math.pow(10,o),f=a>o?Math.pow(10,a):0,g=Math.round((t-f)*u)/u,y=Math.floor((t-f)/h/10)*h*10;let _=Math.floor((g-y)/Math.pow(10,o)),b=Cn(n.min,Math.round((f+y+_*Math.pow(10,o))*u)/u);for(;b<e;)i.push({value:b,major:DE(b),significand:_}),_>=10?_=_<15?15:20:_++,_>=20&&(o++,_=2,u=o>=0?1:u),b=Math.round((f+y+_*Math.pow(10,o))*u)/u;const S=Cn(n.max,b);return i.push({value:S,major:DE(S),significand:_}),i}class Um extends hr{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const i=lf.prototype.parse.apply(this,[t,e]);if(i===0){this._zero=!0;return}return _e(i)&&i>0?i:null}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=_e(t)?Math.max(0,t):null,this.max=_e(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!_e(this._userMin)&&(this.min=t===Ka(this.min,0)?Ka(this.min,-1):Ka(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let i=this.min,a=this.max;const o=h=>i=t?i:h,u=h=>a=e?a:h;i===a&&(i<=0?(o(1),u(10)):(o(Ka(i,-1)),u(Ka(a,1)))),i<=0&&o(Ka(a,-1)),a<=0&&u(Ka(i,1)),this.min=i,this.max=a}buildTicks(){const t=this.options,e={min:this._userMin,max:this._userMax},i=QV(e,this);return t.bounds==="ticks"&&NS(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":Vu(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=qs(t),this._valueRange=qs(this.max)-qs(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(qs(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}ut(Um,"id","logarithmic"),ut(Um,"defaults",{ticks:{callback:Af.formatters.logarithmic,major:{enabled:!0}}});function Hm(n){const t=n.ticks;if(t.display&&n.display){const e=un(t.backdropPadding);return Dt(t.font&&t.font.size,fe.font.size)+e.height}return 0}function XV(n,t,e){return e=he(e)?e:[e],{w:eC(n,t.string,e),h:e.length*t.lineHeight}}function CE(n,t,e,i,a){return n===i||n===a?{start:t-e/2,end:t+e/2}:n<i||n>a?{start:t-e,end:t}:{start:t,end:t+e}}function KV(n){const t={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},e=Object.assign({},t),i=[],a=[],o=n._pointLabels.length,u=n.options.pointLabels,h=u.centerPointLabels?oe/o:0;for(let f=0;f<o;f++){const g=u.setContext(n.getPointLabelContext(f));a[f]=g.padding;const y=n.getPointPosition(f,n.drawingArea+a[f],h),_=ke(g.font),b=XV(n.ctx,_,n._pointLabels[f]);i[f]=b;const S=On(n.getIndexAngle(f)+h),x=Math.round(xp(S)),D=CE(x,y.x,b.w,0,180),M=CE(x,y.y,b.h,90,270);WV(e,t,S,D,M)}n.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),n._pointLabelItems=JV(n,i,a)}function WV(n,t,e,i,a){const o=Math.abs(Math.sin(e)),u=Math.abs(Math.cos(e));let h=0,f=0;i.start<t.l?(h=(t.l-i.start)/o,n.l=Math.min(n.l,t.l-h)):i.end>t.r&&(h=(i.end-t.r)/o,n.r=Math.max(n.r,t.r+h)),a.start<t.t?(f=(t.t-a.start)/u,n.t=Math.min(n.t,t.t-f)):a.end>t.b&&(f=(a.end-t.b)/u,n.b=Math.max(n.b,t.b+f))}function $V(n,t,e){const i=n.drawingArea,{extra:a,additionalAngle:o,padding:u,size:h}=e,f=n.getPointPosition(t,i+a+u,o),g=Math.round(xp(On(f.angle+Se))),y=nN(f.y,h.h,g),_=tN(g),b=eN(f.x,h.w,_);return{visible:!0,x:f.x,y,textAlign:_,left:b,top:y,right:b+h.w,bottom:y+h.h}}function ZV(n,t){if(!t)return!0;const{left:e,top:i,right:a,bottom:o}=n;return!(ls({x:e,y:i},t)||ls({x:e,y:o},t)||ls({x:a,y:i},t)||ls({x:a,y:o},t))}function JV(n,t,e){const i=[],a=n._pointLabels.length,o=n.options,{centerPointLabels:u,display:h}=o.pointLabels,f={extra:Hm(o)/2,additionalAngle:u?oe/a:0};let g;for(let y=0;y<a;y++){f.padding=e[y],f.size=t[y];const _=$V(n,y,f);i.push(_),h==="auto"&&(_.visible=ZV(_,g),_.visible&&(g=_))}return i}function tN(n){return n===0||n===180?"center":n<180?"left":"right"}function eN(n,t,e){return e==="right"?n-=t:e==="center"&&(n-=t/2),n}function nN(n,t,e){return e===90||e===270?n-=t/2:(e>270||e<90)&&(n-=t),n}function iN(n,t,e){const{left:i,top:a,right:o,bottom:u}=e,{backdropColor:h}=t;if(!kt(h)){const f=er(t.borderRadius),g=un(t.backdropPadding);n.fillStyle=h;const y=i-g.left,_=a-g.top,b=o-i+g.width,S=u-a+g.height;Object.values(f).some(x=>x!==0)?(n.beginPath(),Au(n,{x:y,y:_,w:b,h:S,radius:f}),n.fill()):n.fillRect(y,_,b,S)}}function sN(n,t){const{ctx:e,options:{pointLabels:i}}=n;for(let a=t-1;a>=0;a--){const o=n._pointLabelItems[a];if(!o.visible)continue;const u=i.setContext(n.getPointLabelContext(a));iN(e,u,o);const h=ke(u.font),{x:f,y:g,textAlign:y}=o;rr(e,n._pointLabels[a],f,g+h.lineHeight/2,h,{color:u.color,textAlign:y,textBaseline:"middle"})}}function xA(n,t,e,i){const{ctx:a}=n;if(e)a.arc(n.xCenter,n.yCenter,t,0,re);else{let o=n.getPointPosition(0,t);a.moveTo(o.x,o.y);for(let u=1;u<i;u++)o=n.getPointPosition(u,t),a.lineTo(o.x,o.y)}}function aN(n,t,e,i,a){const o=n.ctx,u=t.circular,{color:h,lineWidth:f}=t;!u&&!i||!h||!f||e<0||(o.save(),o.strokeStyle=h,o.lineWidth=f,o.setLineDash(a.dash||[]),o.lineDashOffset=a.dashOffset,o.beginPath(),xA(n,e,u,i),o.closePath(),o.stroke(),o.restore())}function rN(n,t,e){return la(n,{label:e,index:t,type:"pointLabel"})}class eu extends lf{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=un(Hm(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=_e(t)&&!isNaN(t)?t:0,this.max=_e(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Hm(this.options))}generateTickLabels(t){lf.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,i)=>{const a=ae(this.options.pointLabels.callback,[e,i],this);return a||a===0?a:""}).filter((e,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?KV(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,a){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-a)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,a))}getIndexAngle(t){const e=re/(this._pointLabels.length||1),i=this.options.startAngle||0;return On(t*e+ei(i))}getDistanceFromCenterForValue(t){if(kt(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(kt(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const i=e[t];return rN(this.getContext(),t,i)}}getPointPosition(t,e,i=0){const a=this.getIndexAngle(t)-Se+i;return{x:Math.cos(a)*e+this.xCenter,y:Math.sin(a)*e+this.yCenter,angle:a}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:i,right:a,bottom:o}=this._pointLabelItems[t];return{left:e,top:i,right:a,bottom:o}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),xA(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:i,grid:a,border:o}=e,u=this._pointLabels.length;let h,f,g;if(e.pointLabels.display&&sN(this,u),a.display&&this.ticks.forEach((y,_)=>{if(_!==0||_===0&&this.min<0){f=this.getDistanceFromCenterForValue(y.value);const b=this.getContext(_),S=a.setContext(b),x=o.setContext(b);aN(this,S,f,u,x)}}),i.display){for(t.save(),h=u-1;h>=0;h--){const y=i.setContext(this.getPointLabelContext(h)),{color:_,lineWidth:b}=y;!b||!_||(t.lineWidth=b,t.strokeStyle=_,t.setLineDash(y.borderDash),t.lineDashOffset=y.borderDashOffset,f=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),g=this.getPointPosition(h,f),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(g.x,g.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;const a=this.getIndexAngle(0);let o,u;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(a),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((h,f)=>{if(f===0&&this.min>=0&&!e.reverse)return;const g=i.setContext(this.getContext(f)),y=ke(g.font);if(o=this.getDistanceFromCenterForValue(this.ticks[f].value),g.showLabelBackdrop){t.font=y.string,u=t.measureText(h.label).width,t.fillStyle=g.backdropColor;const _=un(g.backdropPadding);t.fillRect(-u/2-_.left,-o-y.size/2-_.top,u+_.width,y.size+_.height)}rr(t,h.label,0,-o,y,{color:g.color,strokeColor:g.textStrokeColor,strokeWidth:g.textStrokeWidth})}),t.restore()}drawTitle(){}}ut(eu,"id","radialLinear"),ut(eu,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Af.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),ut(eu,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),ut(eu,"descriptors",{angleLines:{_fallback:"grid"}});const Mf={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},vn=Object.keys(Mf);function OE(n,t){return n-t}function IE(n,t){if(kt(t))return null;const e=n._adapter,{parser:i,round:a,isoWeekday:o}=n._parseOpts;let u=t;return typeof i=="function"&&(u=i(u)),_e(u)||(u=typeof i=="string"?e.parse(u,i):e.parse(u)),u===null?null:(a&&(u=a==="week"&&(To(o)||o===!0)?e.startOf(u,"isoWeek",o):e.startOf(u,a)),+u)}function VE(n,t,e,i){const a=vn.length;for(let o=vn.indexOf(n);o<a-1;++o){const u=Mf[vn[o]],h=u.steps?u.steps:Number.MAX_SAFE_INTEGER;if(u.common&&Math.ceil((e-t)/(h*u.size))<=i)return vn[o]}return vn[a-1]}function oN(n,t,e,i,a){for(let o=vn.length-1;o>=vn.indexOf(e);o--){const u=vn[o];if(Mf[u].common&&n._adapter.diff(a,i,u)>=t-1)return u}return vn[e?vn.indexOf(e):0]}function lN(n){for(let t=vn.indexOf(n)+1,e=vn.length;t<e;++t)if(Mf[vn[t]].common)return vn[t]}function NE(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:a}=wp(e,t),o=e[i]>=t?e[i]:e[a];n[o]=!0}}function uN(n,t,e,i){const a=n._adapter,o=+a.startOf(t[0].value,i),u=t[t.length-1].value;let h,f;for(h=o;h<=u;h=+a.add(h,1,i))f=e[h],f>=0&&(t[f].major=!0);return t}function kE(n,t,e){const i=[],a={},o=t.length;let u,h;for(u=0;u<o;++u)h=t[u],a[h]=u,i.push({value:h,major:!1});return o===0||!e?i:uN(n,i,a,e)}class Ru extends hr{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),a=this._adapter=new _O._date(t.adapters.date);a.init(e),ru(i.displayFormats,a.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:IE(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:a,max:o,minDefined:u,maxDefined:h}=this.getUserBounds();function f(g){!u&&!isNaN(g.min)&&(a=Math.min(a,g.min)),!h&&!isNaN(g.max)&&(o=Math.max(o,g.max))}(!u||!h)&&(f(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&f(this.getMinMax(!1))),a=_e(a)&&!isNaN(a)?a:+e.startOf(Date.now(),i),o=_e(o)&&!isNaN(o)?o:+e.endOf(Date.now(),i)+1,this.min=Math.min(a,o-1),this.max=Math.max(a+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,a=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const o=this.min,u=this.max,h=jM(a,o,u);return this._unit=e.unit||(i.autoSkip?VE(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):oN(this,h.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:lN(this._unit),this.initOffsets(a),t.reverse&&h.reverse(),kE(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,a,o;this.options.offset&&t.length&&(a=this.getDecimalForValue(t[0]),t.length===1?e=1-a:e=(this.getDecimalForValue(t[1])-a)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);const u=t.length<3?.5:.25;e=Ge(e,0,u),i=Ge(i,0,u),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,a=this.options,o=a.time,u=o.unit||VE(o.minUnit,e,i,this._getLabelCapacity(e)),h=Dt(a.ticks.stepSize,1),f=u==="week"?o.isoWeekday:!1,g=To(f)||f===!0,y={};let _=e,b,S;if(g&&(_=+t.startOf(_,"isoWeek",f)),_=+t.startOf(_,g?"day":u),t.diff(i,e,u)>1e5*h)throw new Error(e+" and "+i+" are too far apart with stepSize of "+h+" "+u);const x=a.ticks.source==="data"&&this.getDataTimestamps();for(b=_,S=0;b<i;b=+t.add(b,h,u),S++)NE(y,b,x);return(b===i||a.bounds==="ticks"||S===1)&&NE(y,b,x),Object.keys(y).sort(OE).map(D=>+D)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const a=this.options.time.displayFormats,o=this._unit,u=e||a[o];return this._adapter.format(t,u)}_tickFormatFunction(t,e,i,a){const o=this.options,u=o.ticks.callback;if(u)return ae(u,[t,e,i],this);const h=o.time.displayFormats,f=this._unit,g=this._majorUnit,y=f&&h[f],_=g&&h[g],b=i[e],S=g&&_&&b&&b.major;return this._adapter.format(t,a||(S?_:y))}generateTickLabels(t){let e,i,a;for(e=0,i=t.length;e<i;++e)a=t[e],a.label=this._tickFormatFunction(a.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,a=ei(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(a),u=Math.sin(a),h=this._resolveTickFontOptions(0).size;return{w:i*o+h*u,h:i*u+h*o}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,a=i[e.unit]||i.millisecond,o=this._tickFormatFunction(t,0,kE(this,[t],this._majorUnit),a),u=this._getLabelSize(o),h=Math.floor(this.isHorizontal()?this.width/u.w:this.height/u.h)-1;return h>0?h:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(e=0,i=a.length;e<i;++e)t=t.concat(a[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const a=this.getLabels();for(e=0,i=a.length;e<i;++e)t.push(IE(this,a[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return LS(t.sort(OE))}}ut(Ru,"id","time"),ut(Ru,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Th(n,t,e){let i=0,a=n.length-1,o,u,h,f;e?(t>=n[i].pos&&t<=n[a].pos&&({lo:i,hi:a}=os(n,"pos",t)),{pos:o,time:h}=n[i],{pos:u,time:f}=n[a]):(t>=n[i].time&&t<=n[a].time&&({lo:i,hi:a}=os(n,"time",t)),{time:o,pos:h}=n[i],{time:u,pos:f}=n[a]);const g=u-o;return g?h+(f-h)*(t-o)/g:h}class jm extends Ru{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Th(e,this.min),this._tableRange=Th(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,a=[],o=[];let u,h,f,g,y;for(u=0,h=t.length;u<h;++u)g=t[u],g>=e&&g<=i&&a.push(g);if(a.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(u=0,h=a.length;u<h;++u)y=a[u+1],f=a[u-1],g=a[u],Math.round((y+f)/2)!==g&&o.push({time:g,pos:u/(h-1)});return o}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((a,o)=>a-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Th(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return Th(this._table,i*this._tableRange+this._minPos,!0)}}ut(jm,"id","timeseries"),ut(jm,"defaults",Ru.defaults);var cN=Object.freeze({__proto__:null,CategoryScale:zm,LinearScale:Bm,LogarithmicScale:Um,RadialLinearScale:eu,TimeScale:Ru,TimeSeriesScale:jm});const hN=[yO,YI,HV,cN];as.register(...hN);const fN=({data:n,selectedPlayer:t,minDate:e,maxDate:i,setMinDate:a,setMaxDate:o})=>{const u=n.map(S=>S.rating),h=u.length>0?Math.min(...u):"N/A",f=u.length>0?Math.max(...u):"N/A",g=u.length>0?(u.reduce((S,x)=>S+x,0)/u.length).toFixed(2):"N/A",y=n.map(S=>S.date),_=y.length>0?Math.min(...y.map(S=>new Date(S))):"",b=y.length>0?Math.max(...y.map(S=>new Date(S))):"";return Jn.useEffect(()=>{if(n.length===0)return;const S=document.getElementById("performanceChart");if(!S)return;const x=S.getContext("2d"),D=new as(x,{type:"line",data:{labels:n.map(M=>M.date),datasets:[{label:`Practice Rating (${t||"No Player"})`,data:n.map(M=>M.rating),borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.2)",fill:!0,tension:.4}]},options:{scales:{y:{min:1,max:5,ticks:{stepSize:1},title:{display:!0,text:"Rating"}},x:{title:{display:!0,text:"Date"}}}}});return()=>D.destroy()},[n,t]),bt.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md mb-12",children:[bt.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Performance Over Time"}),bt.jsxs("div",{className:"flex flex-col space-y-4 sm:flex-row sm:space-y-0 sm:space-x-4 mb-4",children:[bt.jsxs("div",{className:"flex items-center space-x-4",children:[bt.jsx("label",{className:"font-medium",children:"From:"}),bt.jsx("input",{type:"date",value:e||_&&new Date(_).toISOString().split("T")[0],onChange:S=>a(S.target.value),className:"border rounded p-2 w-full sm:w-auto"})]}),bt.jsxs("div",{className:"flex items-center space-x-4",children:[bt.jsx("label",{className:"font-medium",children:"To:"}),bt.jsx("input",{type:"date",value:i||b&&new Date(b).toISOString().split("T")[0],onChange:S=>o(S.target.value),className:"border rounded p-2 w-full sm:w-auto"})]})]}),n.length>0?bt.jsxs(bt.Fragment,{children:[bt.jsx("canvas",{id:"performanceChart"}),bt.jsxs("div",{className:"mt-4",children:[bt.jsxs("p",{children:[bt.jsx("strong",{children:"Min Rating:"})," ",h]}),bt.jsxs("p",{children:[bt.jsx("strong",{children:"Max Rating:"})," ",f]}),bt.jsxs("p",{children:[bt.jsx("strong",{children:"Avg Rating:"})," ",g]})]})]}):bt.jsxs("p",{className:"text-gray-500",children:["No data available for ",t||"selected player","."]})]})},dN=({addPlayer:n})=>{const[t,e]=Jn.useState(""),i=a=>{if(a.preventDefault(),!t.trim()){alert("Player name cannot be empty.");return}n(t.trim()),e("")};return bt.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md mb-6",children:[bt.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Add New Player"}),bt.jsxs("div",{className:"flex items-center space-x-4",children:[bt.jsx("input",{type:"text",value:t,onChange:a=>e(a.target.value),placeholder:"Enter player name",className:"border rounded p-2 flex-grow"}),bt.jsx("button",{onClick:i,className:"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600",children:"Add Player"})]})]})};class gN extends LE.Component{constructor(){super(...arguments);ut(this,"state",{hasError:!1})}static getDerivedStateFromError(){return{hasError:!0}}render(){return this.state.hasError?bt.jsx("h1",{className:"text-red-500 text-center",children:"Something went wrong."}):this.props.children}}const mN=()=>{const[n,t]=Jn.useState([]),[e,i]=Jn.useState([]),[a,o]=Jn.useState(""),[u,h]=Jn.useState(""),[f,g]=Jn.useState("");Jn.useEffect(()=>{const S=db(qg(Ul,"data","players"),D=>{D.exists()?i(D.data().names||[]):Gg(D(Ul,"data","players"),{names:[]})}),x=db(lb(Ul,"ratings"),D=>{const M=D.docs.map(z=>({id:z.id,...z.data()}));t(M.sort((z,H)=>new Date(z.date)-new Date(H.date)))});return()=>{S(),x()}},[]);const y=async S=>{await Gg(qg(lb(Ul,"ratings")),S)},_=async S=>{if(e.includes(S)){alert("Player already exists.");return}const x=qg(Ul,"data","players"),D=await ZD(x),M=D.exists()?D.data().names:[];await Gg(x,{names:[...M,S]})},b=a?n.filter(S=>S.player===a).filter(S=>(!u||new Date(S.date)>=new Date(u))&&(!f||new Date(S.date)<=new Date(f))):[];return bt.jsx(gN,{children:bt.jsxs("div",{className:"container mx-auto p-4",children:[bt.jsx("h1",{className:"text-3xl font-bold text-center mb-8",children:"Padel Practice Tracker"}),bt.jsx(sM,{addRating:y,selectedPlayer:a,setSelectedPlayer:o,players:e}),bt.jsx(fN,{data:b,selectedPlayer:a,minDate:u,maxDate:f,setMinDate:h,setMaxDate:g}),bt.jsx(dN,{addPlayer:_})]})})};l1.createRoot(document.getElementById("root")).render(bt.jsx(LE.StrictMode,{children:bt.jsx(mN,{})}));
